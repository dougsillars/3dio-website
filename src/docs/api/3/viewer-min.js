'use strict';(function(k,d){if("object"===typeof exports&&"object"===typeof module)module.exports=d();else if("function"===typeof define&&define.amd)define([],d);else{d=d();for(var f in d)("object"===typeof exports?exports:k)[f]=d[f]}})(this,function(){return function(k){function d(b){if(f[b])return f[b].exports;var e=f[b]={i:b,l:!1,exports:{}};k[b].call(e.exports,e,e.exports,d);e.l=!0;return e.exports}var f={};d.m=k;d.c=f;d.d=function(b,e,g){d.o(b,e)||Object.defineProperty(b,e,{configurable:!1,enumerable:!0,
get:g})};d.n=function(b){var e=b&&b.__esModule?function(){return b["default"]}:function(){return b};d.d(e,"a",e);return e};d.o=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};d.p="";return d(d.s=4)}([function(k,d,f){Object.defineProperty(d,"__esModule",{value:!0});d.setMatrixArrayType=function(b){d.ARRAY_TYPE=b};d.toRadian=function(b){return b*e};d.equals=function(e,a){return Math.abs(e-a)<=b*Math.max(1,Math.abs(e),Math.abs(a))};var b=d.EPSILON=1E-6;d.ARRAY_TYPE="undefined"!==typeof Float32Array?
Float32Array:Array;d.RANDOM=Math.random;var e=Math.PI/180},function(k,d,f){function b(a,c,b){var m=c[0],e=c[1],h=c[2],d=c[3],g=c[4],f=c[5],A=c[6],n=c[7];c=c[8];var u=b[0],k=b[1],B=b[2],E=b[3],I=b[4],N=b[5],M=b[6],z=b[7];b=b[8];a[0]=u*m+k*d+B*A;a[1]=u*e+k*g+B*n;a[2]=u*h+k*f+B*c;a[3]=E*m+I*d+N*A;a[4]=E*e+I*g+N*n;a[5]=E*h+I*f+N*c;a[6]=M*m+z*d+b*A;a[7]=M*e+z*g+b*n;a[8]=M*h+z*f+b*c;return a}function e(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];a[4]=c[4]-b[4];a[5]=c[5]-b[5];a[6]=
c[6]-b[6];a[7]=c[7]-b[7];a[8]=c[8]-b[8];return a}Object.defineProperty(d,"__esModule",{value:!0});d.sub=d.mul=void 0;d.create=function(){var a=new g.ARRAY_TYPE(9);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};d.fromMat4=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[4];a[4]=c[5];a[5]=c[6];a[6]=c[8];a[7]=c[9];a[8]=c[10];return a};d.clone=function(a){var c=new g.ARRAY_TYPE(9);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];return c};
d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a};d.fromValues=function(a,c,b,e,d,h,f,q,p){var m=new g.ARRAY_TYPE(9);m[0]=a;m[1]=c;m[2]=b;m[3]=e;m[4]=d;m[5]=h;m[6]=f;m[7]=q;m[8]=p;return m};d.set=function(a,c,b,e,d,h,g,f,p,A){a[0]=c;a[1]=b;a[2]=e;a[3]=d;a[4]=h;a[5]=g;a[6]=f;a[7]=p;a[8]=A;return a};d.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};d.transpose=function(a,c){if(a===c){var b=
c[1],e=c[2],d=c[5];a[1]=c[3];a[2]=c[6];a[3]=b;a[5]=c[7];a[6]=e;a[7]=d}else a[0]=c[0],a[1]=c[3],a[2]=c[6],a[3]=c[1],a[4]=c[4],a[5]=c[7],a[6]=c[2],a[7]=c[5],a[8]=c[8];return a};d.invert=function(a,c){var b=c[0],e=c[1],d=c[2],h=c[3],g=c[4],f=c[5],p=c[6],A=c[7];c=c[8];var n=c*g-f*A,u=-c*h+f*p,k=A*h-g*p,B=b*n+e*u+d*k;if(!B)return null;B=1/B;a[0]=n*B;a[1]=(-c*e+d*A)*B;a[2]=(f*e-d*g)*B;a[3]=u*B;a[4]=(c*b-d*p)*B;a[5]=(-f*b+d*h)*B;a[6]=k*B;a[7]=(-A*b+e*p)*B;a[8]=(g*b-e*h)*B;return a};d.adjoint=function(a,
c){var b=c[0],e=c[1],d=c[2],h=c[3],g=c[4],f=c[5],p=c[6],A=c[7];c=c[8];a[0]=g*c-f*A;a[1]=d*A-e*c;a[2]=e*f-d*g;a[3]=f*p-h*c;a[4]=b*c-d*p;a[5]=d*h-b*f;a[6]=h*A-g*p;a[7]=e*p-b*A;a[8]=b*g-e*h;return a};d.determinant=function(a){var c=a[3],b=a[4],e=a[5],d=a[6],g=a[7],f=a[8];return a[0]*(f*b-e*g)+a[1]*(-f*c+e*d)+a[2]*(g*c-b*d)};d.multiply=b;d.translate=function(a,c,b){var e=c[0],d=c[1],g=c[2],m=c[3],f=c[4],p=c[5],A=c[6],n=c[7];c=c[8];var u=b[0];b=b[1];a[0]=e;a[1]=d;a[2]=g;a[3]=m;a[4]=f;a[5]=p;a[6]=u*e+b*
m+A;a[7]=u*d+b*f+n;a[8]=u*g+b*p+c;return a};d.rotate=function(a,c,b){var e=c[0],d=c[1],g=c[2],m=c[3],f=c[4],p=c[5],A=c[6],n=c[7];c=c[8];var u=Math.sin(b);b=Math.cos(b);a[0]=b*e+u*m;a[1]=b*d+u*f;a[2]=b*g+u*p;a[3]=b*m-u*e;a[4]=b*f-u*d;a[5]=b*p-u*g;a[6]=A;a[7]=n;a[8]=c;return a};d.scale=function(a,c,b){var e=b[0];b=b[1];a[0]=e*c[0];a[1]=e*c[1];a[2]=e*c[2];a[3]=b*c[3];a[4]=b*c[4];a[5]=b*c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];return a};d.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=
0;a[6]=c[0];a[7]=c[1];a[8]=1;return a};d.fromRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=b;a[2]=0;a[3]=-b;a[4]=c;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};d.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=c[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};d.fromMat2d=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=0;a[3]=c[2];a[4]=c[3];a[5]=0;a[6]=c[4];a[7]=c[5];a[8]=1;return a};d.fromQuat=function(a,c){var b=c[0],e=c[1],d=c[2];c=c[3];var g=b+b,f=e+e,q=d+d;b*=g;var p=e*g;e*=f;var A=
d*g,n=d*f;d*=q;g*=c;f*=c;c*=q;a[0]=1-e-d;a[3]=p-c;a[6]=A+f;a[1]=p+c;a[4]=1-b-d;a[7]=n-g;a[2]=A-f;a[5]=n+g;a[8]=1-b-e;return a};d.normalFromMat4=function(a,c){var b=c[0],e=c[1],d=c[2],g=c[3],f=c[4],q=c[5],p=c[6],A=c[7],n=c[8],u=c[9],k=c[10],B=c[11],E=c[12],I=c[13],N=c[14];c=c[15];var M=b*q-e*f,z=b*p-d*f,F=b*A-g*f,K=e*p-d*q,L=e*A-g*q,P=d*A-g*p,J=n*I-u*E,O=n*N-k*E;n=n*c-B*E;var G=u*N-k*I;u=u*c-B*I;k=k*c-B*N;B=M*k-z*u+F*G+K*n-L*O+P*J;if(!B)return null;B=1/B;a[0]=(q*k-p*u+A*G)*B;a[1]=(p*n-f*k-A*O)*B;a[2]=
(f*u-q*n+A*J)*B;a[3]=(d*u-e*k-g*G)*B;a[4]=(b*k-d*n+g*O)*B;a[5]=(e*n-b*u-g*J)*B;a[6]=(I*P-N*L+c*K)*B;a[7]=(N*F-E*P-c*z)*B;a[8]=(E*L-I*F+c*M)*B;return a};d.projection=function(a,c,b){a[0]=2/c;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/b;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a};d.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+
Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];a[4]=c[4]+b[4];a[5]=c[5]+b[5];a[6]=c[6]+b[6];a[7]=c[7]+b[7];a[8]=c[8]+b[8];return a};d.subtract=e;d.multiplyScalar=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;a[4]=c[4]*b;a[5]=c[5]*b;a[6]=c[6]*b;a[7]=c[7]*b;a[8]=c[8]*b;return a};d.multiplyScalarAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+
b[3]*e;a[4]=c[4]+b[4]*e;a[5]=c[5]+b[5]*e;a[6]=c[6]+b[6]*e;a[7]=c[7]+b[7]*e;a[8]=c[8]+b[8]*e;return a};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]};d.equals=function(a,c){var b=a[0],e=a[1],d=a[2],h=a[3],f=a[4],q=a[5],p=a[6],A=a[7];a=a[8];var n=c[0],u=c[1],k=c[2],B=c[3],E=c[4],I=c[5],N=c[6],M=c[7];c=c[8];return Math.abs(b-n)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(n))&&Math.abs(e-u)<=g.EPSILON*
Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(d-k)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(h-B)<=g.EPSILON*Math.max(1,Math.abs(h),Math.abs(B))&&Math.abs(f-E)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(q-I)<=g.EPSILON*Math.max(1,Math.abs(q),Math.abs(I))&&Math.abs(p-N)<=g.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(A-M)<=g.EPSILON*Math.max(1,Math.abs(A),Math.abs(M))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var g=function(a){if(a&&a.__esModule)return a;
var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.mul=b;d.sub=e},function(k,d,f){function b(){var a=new p.ARRAY_TYPE(3);a[0]=0;a[1]=0;a[2]=0;return a}function e(a){var c=a[0],b=a[1];a=a[2];return Math.sqrt(c*c+b*b+a*a)}function g(a,c,b){var e=new p.ARRAY_TYPE(3);e[0]=a;e[1]=c;e[2]=b;return e}function a(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];return a}function c(a,c,b){a[0]=c[0]*b[0];a[1]=c[1]*b[1];a[2]=c[2]*b[2];return a}
function m(a,c,b){a[0]=c[0]/b[0];a[1]=c[1]/b[1];a[2]=c[2]/b[2];return a}function l(a,c){var b=c[0]-a[0],e=c[1]-a[1];a=c[2]-a[2];return Math.sqrt(b*b+e*e+a*a)}function r(a,c){var b=c[0]-a[0],e=c[1]-a[1];a=c[2]-a[2];return b*b+e*e+a*a}function h(a){var c=a[0],b=a[1];a=a[2];return c*c+b*b+a*a}function C(a,c){var b=c[0],e=c[1],d=c[2];b=b*b+e*e+d*d;0<b&&(b=1/Math.sqrt(b),a[0]=c[0]*b,a[1]=c[1]*b,a[2]=c[2]*b);return a}function q(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]}Object.defineProperty(d,"__esModule",
{value:!0});d.forEach=d.sqrLen=d.len=d.sqrDist=d.dist=d.div=d.mul=d.sub=void 0;d.create=b;d.clone=function(a){var c=new p.ARRAY_TYPE(3);c[0]=a[0];c[1]=a[1];c[2]=a[2];return c};d.length=e;d.fromValues=g;d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a};d.set=function(a,c,b,e){a[0]=c;a[1]=b;a[2]=e;return a};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];return a};d.subtract=a;d.multiply=c;d.divide=m;d.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);a[2]=Math.ceil(c[2]);
return a};d.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);return a};d.min=function(a,c,b){a[0]=Math.min(c[0],b[0]);a[1]=Math.min(c[1],b[1]);a[2]=Math.min(c[2],b[2]);return a};d.max=function(a,c,b){a[0]=Math.max(c[0],b[0]);a[1]=Math.max(c[1],b[1]);a[2]=Math.max(c[2],b[2]);return a};d.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=Math.round(c[2]);return a};d.scale=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;return a};d.scaleAndAdd=
function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;return a};d.distance=l;d.squaredDistance=r;d.squaredLength=h;d.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];return a};d.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};d.normalize=C;d.dot=q;d.cross=function(a,c,b){var e=c[0],d=c[1];c=c[2];var g=b[0],h=b[1];b=b[2];a[0]=d*b-c*h;a[1]=c*g-e*b;a[2]=e*h-d*g;return a};d.lerp=function(a,c,b,e){var d=c[0],g=c[1];c=c[2];a[0]=d+e*(b[0]-d);a[1]=g+e*(b[1]-g);a[2]=
c+e*(b[2]-c);return a};d.hermite=function(a,c,b,e,d,g){var h=g*g,f=h*(2*g-3)+1,m=h*(g-2)+g,l=h*(g-1);g=h*(3-2*g);a[0]=c[0]*f+b[0]*m+e[0]*l+d[0]*g;a[1]=c[1]*f+b[1]*m+e[1]*l+d[1]*g;a[2]=c[2]*f+b[2]*m+e[2]*l+d[2]*g;return a};d.bezier=function(a,c,b,e,d,g){var h=1-g,f=h*h,m=g*g,l=f*h;f*=3*g;h*=3*m;g*=m;a[0]=c[0]*l+b[0]*f+e[0]*h+d[0]*g;a[1]=c[1]*l+b[1]*f+e[1]*h+d[1]*g;a[2]=c[2]*l+b[2]*f+e[2]*h+d[2]*g;return a};d.random=function(a,c){c=c||1;var b=2*p.RANDOM()*Math.PI,e=2*p.RANDOM()-1,d=Math.sqrt(1-e*e)*
c;a[0]=Math.cos(b)*d;a[1]=Math.sin(b)*d;a[2]=e*c;return a};d.transformMat4=function(a,c,b){var e=c[0],d=c[1];c=c[2];var g=b[3]*e+b[7]*d+b[11]*c+b[15];g=g||1;a[0]=(b[0]*e+b[4]*d+b[8]*c+b[12])/g;a[1]=(b[1]*e+b[5]*d+b[9]*c+b[13])/g;a[2]=(b[2]*e+b[6]*d+b[10]*c+b[14])/g;return a};d.transformMat3=function(a,c,b){var e=c[0],d=c[1];c=c[2];a[0]=e*b[0]+d*b[3]+c*b[6];a[1]=e*b[1]+d*b[4]+c*b[7];a[2]=e*b[2]+d*b[5]+c*b[8];return a};d.transformQuat=function(a,c,b){var e=c[0],d=c[1],g=c[2];c=b[0];var h=b[1],f=b[2];
b=b[3];var m=b*e+h*g-f*d,l=b*d+f*e-c*g,p=b*g+c*d-h*e;e=-c*e-h*d-f*g;a[0]=m*b+e*-c+l*-f-p*-h;a[1]=l*b+e*-h+p*-c-m*-f;a[2]=p*b+e*-f+m*-h-l*-c;return a};d.rotateX=function(a,c,b,e){var d=[],g=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];g[0]=d[0];g[1]=d[1]*Math.cos(e)-d[2]*Math.sin(e);g[2]=d[1]*Math.sin(e)+d[2]*Math.cos(e);a[0]=g[0]+b[0];a[1]=g[1]+b[1];a[2]=g[2]+b[2];return a};d.rotateY=function(a,c,b,e){var d=[],g=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];g[0]=d[2]*Math.sin(e)+d[0]*Math.cos(e);
g[1]=d[1];g[2]=d[2]*Math.cos(e)-d[0]*Math.sin(e);a[0]=g[0]+b[0];a[1]=g[1]+b[1];a[2]=g[2]+b[2];return a};d.rotateZ=function(a,c,b,e){var d=[],g=[];d[0]=c[0]-b[0];d[1]=c[1]-b[1];d[2]=c[2]-b[2];g[0]=d[0]*Math.cos(e)-d[1]*Math.sin(e);g[1]=d[0]*Math.sin(e)+d[1]*Math.cos(e);g[2]=d[2];a[0]=g[0]+b[0];a[1]=g[1]+b[1];a[2]=g[2]+b[2];return a};d.angle=function(a,c){a=g(a[0],a[1],a[2]);c=g(c[0],c[1],c[2]);C(a,a);C(c,c);c=q(a,c);return 1<c?0:-1>c?Math.PI:Math.acos(c)};d.str=function(a){return"vec3("+a[0]+", "+
a[1]+", "+a[2]+")"};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]};d.equals=function(a,c){var b=a[0],e=a[1];a=a[2];var d=c[0],g=c[1];c=c[2];return Math.abs(b-d)<=p.EPSILON*Math.max(1,Math.abs(b),Math.abs(d))&&Math.abs(e-g)<=p.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(a-c)<=p.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var p=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=
a;return c}(f(0));d.sub=a;d.mul=c;d.div=m;d.dist=l;d.sqrDist=r;d.len=e;d.sqrLen=h;d.forEach=function(){var a=b();return function(c,b,e,d,g,h){b||(b=3);e||(e=0);for(d=d?Math.min(d*b+e,c.length):c.length;e<d;e+=b)a[0]=c[e],a[1]=c[e+1],a[2]=c[e+2],g(a,a,h),c[e]=a[0],c[e+1]=a[1],c[e+2]=a[2];return c}}()},function(k,d,f){function b(){var a=new q.ARRAY_TYPE(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a}function e(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];return a}function g(a,c,b){a[0]=
c[0]*b[0];a[1]=c[1]*b[1];a[2]=c[2]*b[2];a[3]=c[3]*b[3];return a}function a(a,c,b){a[0]=c[0]/b[0];a[1]=c[1]/b[1];a[2]=c[2]/b[2];a[3]=c[3]/b[3];return a}function c(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;return a}function m(a,c){var b=c[0]-a[0],e=c[1]-a[1],d=c[2]-a[2];a=c[3]-a[3];return Math.sqrt(b*b+e*e+d*d+a*a)}function l(a,c){var b=c[0]-a[0],e=c[1]-a[1],d=c[2]-a[2];a=c[3]-a[3];return b*b+e*e+d*d+a*a}function r(a){var c=a[0],b=a[1],e=a[2];a=a[3];return Math.sqrt(c*c+b*b+e*e+a*a)}function h(a){var c=
a[0],b=a[1],e=a[2];a=a[3];return c*c+b*b+e*e+a*a}function C(a,c){var b=c[0],e=c[1],d=c[2];c=c[3];var g=b*b+e*e+d*d+c*c;0<g&&(g=1/Math.sqrt(g),a[0]=b*g,a[1]=e*g,a[2]=d*g,a[3]=c*g);return a}Object.defineProperty(d,"__esModule",{value:!0});d.forEach=d.sqrLen=d.len=d.sqrDist=d.dist=d.div=d.mul=d.sub=void 0;d.create=b;d.clone=function(a){var c=new q.ARRAY_TYPE(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c};d.fromValues=function(a,c,b,e){var d=new q.ARRAY_TYPE(4);d[0]=a;d[1]=c;d[2]=b;d[3]=e;return d};
d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a};d.set=function(a,c,b,e,d){a[0]=c;a[1]=b;a[2]=e;a[3]=d;return a};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];return a};d.subtract=e;d.multiply=g;d.divide=a;d.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);a[2]=Math.ceil(c[2]);a[3]=Math.ceil(c[3]);return a};d.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);a[3]=Math.floor(c[3]);return a};d.min=
function(a,c,b){a[0]=Math.min(c[0],b[0]);a[1]=Math.min(c[1],b[1]);a[2]=Math.min(c[2],b[2]);a[3]=Math.min(c[3],b[3]);return a};d.max=function(a,c,b){a[0]=Math.max(c[0],b[0]);a[1]=Math.max(c[1],b[1]);a[2]=Math.max(c[2],b[2]);a[3]=Math.max(c[3],b[3]);return a};d.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=Math.round(c[2]);a[3]=Math.round(c[3]);return a};d.scale=c;d.scaleAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+b[3]*e;return a};d.distance=
m;d.squaredDistance=l;d.length=r;d.squaredLength=h;d.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=-c[3];return a};d.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];a[3]=1/c[3];return a};d.normalize=C;d.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3]};d.lerp=function(a,c,b,e){var d=c[0],g=c[1],h=c[2];c=c[3];a[0]=d+e*(b[0]-d);a[1]=g+e*(b[1]-g);a[2]=h+e*(b[2]-h);a[3]=c+e*(b[3]-c);return a};d.random=function(a,b){b=b||1;a[0]=q.RANDOM();a[1]=q.RANDOM();a[2]=q.RANDOM();
a[3]=q.RANDOM();C(a,a);c(a,a,b);return a};d.transformMat4=function(a,c,b){var e=c[0],d=c[1],g=c[2];c=c[3];a[0]=b[0]*e+b[4]*d+b[8]*g+b[12]*c;a[1]=b[1]*e+b[5]*d+b[9]*g+b[13]*c;a[2]=b[2]*e+b[6]*d+b[10]*g+b[14]*c;a[3]=b[3]*e+b[7]*d+b[11]*g+b[15]*c;return a};d.transformQuat=function(a,c,b){var e=c[0],d=c[1],g=c[2],h=b[0],f=b[1],m=b[2];b=b[3];var l=b*e+f*g-m*d,p=b*d+m*e-h*g,q=b*g+h*d-f*e;e=-h*e-f*d-m*g;a[0]=l*b+e*-h+p*-m-q*-f;a[1]=p*b+e*-f+q*-h-l*-m;a[2]=q*b+e*-m+l*-f-p*-h;a[3]=c[3];return a};d.str=function(a){return"vec4("+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]};d.equals=function(a,c){var b=a[0],e=a[1],d=a[2];a=a[3];var g=c[0],h=c[1],f=c[2];c=c[3];return Math.abs(b-g)<=q.EPSILON*Math.max(1,Math.abs(b),Math.abs(g))&&Math.abs(e-h)<=q.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(d-f)<=q.EPSILON*Math.max(1,Math.abs(d),Math.abs(f))&&Math.abs(a-c)<=q.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var q=function(a){if(a&&a.__esModule)return a;
var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.sub=e;d.mul=g;d.div=a;d.dist=m;d.sqrDist=l;d.len=r;d.sqrLen=h;d.forEach=function(){var a=b();return function(c,b,e,d,g,h){b||(b=4);e||(e=0);for(d=d?Math.min(d*b+e,c.length):c.length;e<d;e+=b)a[0]=c[e],a[1]=c[e+1],a[2]=c[e+2],a[3]=c[e+3],g(a,a,h),c[e]=a[0],c[e+1]=a[1],c[e+2]=a[2],c[e+3]=a[3];return c}}()},function(k,d,f){function b(a){if(a&&a.__esModule)return a;var c={};if(null!=
a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}Object.defineProperty(d,"__esModule",{value:!0});d.vec4=d.vec3=d.vec2=d.quat=d.mat4=d.mat3=d.mat2d=d.mat2=d.glMatrix=void 0;k=f(0);k=b(k);var e=f(5);e=b(e);var g=f(6);g=b(g);var a=f(1);a=b(a);var c=f(7);c=b(c);var m=f(8);m=b(m);var l=f(9);l=b(l);var r=f(2);r=b(r);f=f(3);f=b(f);d.glMatrix=k;d.mat2=e;d.mat2d=g;d.mat3=a;d.mat4=c;d.quat=m;d.vec2=l;d.vec3=r;d.vec4=f},function(k,d,f){function b(a,c,b){var e=c[0],
d=c[1],g=c[2];c=c[3];var f=b[0],m=b[1],p=b[2];b=b[3];a[0]=e*f+g*m;a[1]=d*f+c*m;a[2]=e*p+g*b;a[3]=d*p+c*b;return a}function e(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];return a}Object.defineProperty(d,"__esModule",{value:!0});d.sub=d.mul=void 0;d.create=function(){var a=new g.ARRAY_TYPE(4);a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};d.clone=function(a){var c=new g.ARRAY_TYPE(4);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];return c};d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=
c[3];return a};d.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};d.fromValues=function(a,c,b,e){var d=new g.ARRAY_TYPE(4);d[0]=a;d[1]=c;d[2]=b;d[3]=e;return d};d.set=function(a,c,b,e,d){a[0]=c;a[1]=b;a[2]=e;a[3]=d;return a};d.transpose=function(a,c){if(a===c){var b=c[1];a[1]=c[2];a[2]=b}else a[0]=c[0],a[1]=c[2],a[2]=c[1],a[3]=c[3];return a};d.invert=function(a,c){var b=c[0],e=c[1],d=c[2];c=c[3];var g=b*c-d*e;if(!g)return null;g=1/g;a[0]=c*g;a[1]=-e*g;a[2]=-d*g;a[3]=b*g;return a};d.adjoint=
function(a,c){var b=c[0];a[0]=c[3];a[1]=-c[1];a[2]=-c[2];a[3]=b;return a};d.determinant=function(a){return a[0]*a[3]-a[2]*a[1]};d.multiply=b;d.rotate=function(a,c,b){var e=c[0],d=c[1],g=c[2];c=c[3];var f=Math.sin(b);b=Math.cos(b);a[0]=e*b+g*f;a[1]=d*b+c*f;a[2]=e*-f+g*b;a[3]=d*-f+c*b;return a};d.scale=function(a,c,b){var e=c[1],d=c[2],g=c[3],f=b[0];b=b[1];a[0]=c[0]*f;a[1]=e*f;a[2]=d*b;a[3]=g*b;return a};d.fromRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=b;a[2]=-b;a[3]=c;return a};
d.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=c[1];return a};d.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2))};d.LDU=function(a,c,b,e){a[2]=e[2]/e[0];b[0]=e[0];b[1]=e[1];b[3]=e[3]-a[2]*b[1];return[a,c,b]};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];return a};d.subtract=e;d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===
c[1]&&a[2]===c[2]&&a[3]===c[3]};d.equals=function(a,c){var b=a[0],e=a[1],d=a[2];a=a[3];var f=c[0],k=c[1],q=c[2];c=c[3];return Math.abs(b-f)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(f))&&Math.abs(e-k)<=g.EPSILON*Math.max(1,Math.abs(e),Math.abs(k))&&Math.abs(d-q)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(q))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};d.multiplyScalar=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;return a};d.multiplyScalarAndAdd=function(a,c,
b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+b[3]*e;return a};var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.mul=b;d.sub=e},function(k,d,f){function b(a,c,b){var e=c[0],d=c[1],g=c[2],f=c[3],m=c[4];c=c[5];var p=b[0],k=b[1],n=b[2],u=b[3],w=b[4];b=b[5];a[0]=e*p+g*k;a[1]=d*p+f*k;a[2]=e*n+g*u;a[3]=d*n+f*u;a[4]=e*w+g*b+m;a[5]=d*w+f*b+c;return a}function e(a,c,b){a[0]=
c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];a[4]=c[4]-b[4];a[5]=c[5]-b[5];return a}Object.defineProperty(d,"__esModule",{value:!0});d.sub=d.mul=void 0;d.create=function(){var a=new g.ARRAY_TYPE(6);a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a};d.clone=function(a){var c=new g.ARRAY_TYPE(6);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c};d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a};d.identity=function(a){a[0]=1;a[1]=
0;a[2]=0;a[3]=1;a[4]=0;a[5]=0;return a};d.fromValues=function(a,c,b,e,d,f){var h=new g.ARRAY_TYPE(6);h[0]=a;h[1]=c;h[2]=b;h[3]=e;h[4]=d;h[5]=f;return h};d.set=function(a,c,b,e,d,g,f){a[0]=c;a[1]=b;a[2]=e;a[3]=d;a[4]=g;a[5]=f;return a};d.invert=function(a,c){var b=c[0],e=c[1],d=c[2],g=c[3],f=c[4];c=c[5];var q=b*g-e*d;if(!q)return null;q=1/q;a[0]=g*q;a[1]=-e*q;a[2]=-d*q;a[3]=b*q;a[4]=(d*c-g*f)*q;a[5]=(e*f-b*c)*q;return a};d.determinant=function(a){return a[0]*a[3]-a[1]*a[2]};d.multiply=b;d.rotate=function(a,
c,b){var e=c[0],d=c[1],g=c[2],f=c[3],m=c[4];c=c[5];var p=Math.sin(b);b=Math.cos(b);a[0]=e*b+g*p;a[1]=d*b+f*p;a[2]=e*-p+g*b;a[3]=d*-p+f*b;a[4]=m;a[5]=c;return a};d.scale=function(a,c,b){var e=c[1],d=c[2],g=c[3],f=c[4],m=c[5],p=b[0];b=b[1];a[0]=c[0]*p;a[1]=e*p;a[2]=d*b;a[3]=g*b;a[4]=f;a[5]=m;return a};d.translate=function(a,c,b){var e=c[0],d=c[1],g=c[2],f=c[3],m=c[4];c=c[5];var p=b[0];b=b[1];a[0]=e;a[1]=d;a[2]=g;a[3]=f;a[4]=e*p+g*b+m;a[5]=d*p+f*b+c;return a};d.fromRotation=function(a,c){var b=Math.sin(c);
c=Math.cos(c);a[0]=c;a[1]=b;a[2]=-b;a[3]=c;a[4]=0;a[5]=0;return a};d.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=c[1];a[4]=0;a[5]=0;return a};d.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=c[0];a[5]=c[1];return a};d.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+1)};d.add=function(a,c,b){a[0]=
c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];a[4]=c[4]+b[4];a[5]=c[5]+b[5];return a};d.subtract=e;d.multiplyScalar=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;a[4]=c[4]*b;a[5]=c[5]*b;return a};d.multiplyScalarAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+b[3]*e;a[4]=c[4]+b[4]*e;a[5]=c[5]+b[5]*e;return a};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]};d.equals=function(a,
c){var b=a[0],e=a[1],d=a[2],f=a[3],k=a[4];a=a[5];var q=c[0],p=c[1],A=c[2],n=c[3],u=c[4];c=c[5];return Math.abs(b-q)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(q))&&Math.abs(e-p)<=g.EPSILON*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(d-A)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(f-n)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(n))&&Math.abs(k-u)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(u))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var g=function(a){if(a&&a.__esModule)return a;
var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.mul=b;d.sub=e},function(k,d,f){function b(a,c,b){var e=c[0],d=c[1],g=c[2],f=c[3],m=c[4],p=c[5],k=c[6],n=c[7],u=c[8],w=c[9],B=c[10],E=c[11],I=c[12],N=c[13],M=c[14];c=c[15];var z=b[0],F=b[1],K=b[2],L=b[3];a[0]=z*e+F*m+K*u+L*I;a[1]=z*d+F*p+K*w+L*N;a[2]=z*g+F*k+K*B+L*M;a[3]=z*f+F*n+K*E+L*c;z=b[4];F=b[5];K=b[6];L=b[7];a[4]=z*e+F*m+K*u+L*I;a[5]=z*d+F*p+K*w+L*N;a[6]=z*g+F*k+K*B+L*M;a[7]=
z*f+F*n+K*E+L*c;z=b[8];F=b[9];K=b[10];L=b[11];a[8]=z*e+F*m+K*u+L*I;a[9]=z*d+F*p+K*w+L*N;a[10]=z*g+F*k+K*B+L*M;a[11]=z*f+F*n+K*E+L*c;z=b[12];F=b[13];K=b[14];L=b[15];a[12]=z*e+F*m+K*u+L*I;a[13]=z*d+F*p+K*w+L*N;a[14]=z*g+F*k+K*B+L*M;a[15]=z*f+F*n+K*E+L*c;return a}function e(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];a[3]=c[3]-b[3];a[4]=c[4]-b[4];a[5]=c[5]-b[5];a[6]=c[6]-b[6];a[7]=c[7]-b[7];a[8]=c[8]-b[8];a[9]=c[9]-b[9];a[10]=c[10]-b[10];a[11]=c[11]-b[11];a[12]=c[12]-b[12];a[13]=c[13]-b[13];
a[14]=c[14]-b[14];a[15]=c[15]-b[15];return a}Object.defineProperty(d,"__esModule",{value:!0});d.sub=d.mul=void 0;d.create=function(){var a=new g.ARRAY_TYPE(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.clone=function(a){var c=new g.ARRAY_TYPE(16);c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=
a[15];return c};d.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};d.fromValues=function(a,c,b,e,d,f,k,q,p,A,n,u,w,B,E,I){var h=new g.ARRAY_TYPE(16);h[0]=a;h[1]=c;h[2]=b;h[3]=e;h[4]=d;h[5]=f;h[6]=k;h[7]=q;h[8]=p;h[9]=A;h[10]=n;h[11]=u;h[12]=w;h[13]=B;h[14]=E;h[15]=I;return h};d.set=function(a,c,b,e,d,g,f,q,p,k,n,u,w,B,E,I,N){a[0]=c;a[1]=b;a[2]=e;a[3]=
d;a[4]=g;a[5]=f;a[6]=q;a[7]=p;a[8]=k;a[9]=n;a[10]=u;a[11]=w;a[12]=B;a[13]=E;a[14]=I;a[15]=N;return a};d.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.transpose=function(a,c){if(a===c){var b=c[1],e=c[2],d=c[3],g=c[6],f=c[7],q=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=b;a[6]=c[9];a[7]=c[13];a[8]=e;a[9]=g;a[11]=c[14];a[12]=d;a[13]=f;a[14]=q}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],
a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a};d.invert=function(a,c){var b=c[0],e=c[1],d=c[2],g=c[3],f=c[4],q=c[5],p=c[6],k=c[7],n=c[8],u=c[9],w=c[10],B=c[11],E=c[12],I=c[13],N=c[14];c=c[15];var M=b*q-e*f,z=b*p-d*f,F=b*k-g*f,K=e*p-d*q,L=e*k-g*q,P=d*k-g*p,J=n*I-u*E,O=n*N-w*E,G=n*c-B*E,H=u*N-w*I,Q=u*c-B*I,v=w*c-B*N,t=M*v-z*Q+F*H+K*G-L*O+P*J;if(!t)return null;t=1/t;a[0]=(q*v-p*Q+k*H)*t;a[1]=(d*Q-e*v-g*H)*t;a[2]=(I*P-
N*L+c*K)*t;a[3]=(w*L-u*P-B*K)*t;a[4]=(p*G-f*v-k*O)*t;a[5]=(b*v-d*G+g*O)*t;a[6]=(N*F-E*P-c*z)*t;a[7]=(n*P-w*F+B*z)*t;a[8]=(f*Q-q*G+k*J)*t;a[9]=(e*G-b*Q-g*J)*t;a[10]=(E*L-I*F+c*M)*t;a[11]=(u*F-n*L-B*M)*t;a[12]=(q*O-f*H-p*J)*t;a[13]=(b*H-e*O+d*J)*t;a[14]=(I*z-E*K-N*M)*t;a[15]=(n*K-u*z+w*M)*t;return a};d.adjoint=function(a,c){var b=c[0],e=c[1],d=c[2],g=c[3],f=c[4],q=c[5],p=c[6],k=c[7],n=c[8],u=c[9],w=c[10],B=c[11],E=c[12],I=c[13],N=c[14];c=c[15];a[0]=q*(w*c-B*N)-u*(p*c-k*N)+I*(p*B-k*w);a[1]=-(e*(w*c-
B*N)-u*(d*c-g*N)+I*(d*B-g*w));a[2]=e*(p*c-k*N)-q*(d*c-g*N)+I*(d*k-g*p);a[3]=-(e*(p*B-k*w)-q*(d*B-g*w)+u*(d*k-g*p));a[4]=-(f*(w*c-B*N)-n*(p*c-k*N)+E*(p*B-k*w));a[5]=b*(w*c-B*N)-n*(d*c-g*N)+E*(d*B-g*w);a[6]=-(b*(p*c-k*N)-f*(d*c-g*N)+E*(d*k-g*p));a[7]=b*(p*B-k*w)-f*(d*B-g*w)+n*(d*k-g*p);a[8]=f*(u*c-B*I)-n*(q*c-k*I)+E*(q*B-k*u);a[9]=-(b*(u*c-B*I)-n*(e*c-g*I)+E*(e*B-g*u));a[10]=b*(q*c-k*I)-f*(e*c-g*I)+E*(e*k-g*q);a[11]=-(b*(q*B-k*u)-f*(e*B-g*u)+n*(e*k-g*q));a[12]=-(f*(u*N-w*I)-n*(q*N-p*I)+E*(q*w-p*u));
a[13]=b*(u*N-w*I)-n*(e*N-d*I)+E*(e*w-d*u);a[14]=-(b*(q*N-p*I)-f*(e*N-d*I)+E*(e*p-d*q));a[15]=b*(q*w-p*u)-f*(e*w-d*u)+n*(e*p-d*q);return a};d.determinant=function(a){var c=a[0],b=a[1],e=a[2],d=a[3],g=a[4],f=a[5],q=a[6],p=a[7],k=a[8],n=a[9],u=a[10],w=a[11],B=a[12],E=a[13],I=a[14];a=a[15];return(c*f-b*g)*(u*a-w*I)-(c*q-e*g)*(n*a-w*E)+(c*p-d*g)*(n*I-u*E)+(b*q-e*f)*(k*a-w*B)-(b*p-d*f)*(k*I-u*B)+(e*p-d*q)*(k*E-n*B)};d.multiply=b;d.translate=function(a,c,b){var e=b[0],d=b[1];b=b[2];if(c===a)a[12]=c[0]*e+
c[4]*d+c[8]*b+c[12],a[13]=c[1]*e+c[5]*d+c[9]*b+c[13],a[14]=c[2]*e+c[6]*d+c[10]*b+c[14],a[15]=c[3]*e+c[7]*d+c[11]*b+c[15];else{var g=c[0];var f=c[1];var m=c[2];var p=c[3];var k=c[4];var n=c[5];var u=c[6];var w=c[7];var B=c[8];var E=c[9];var I=c[10];var N=c[11];a[0]=g;a[1]=f;a[2]=m;a[3]=p;a[4]=k;a[5]=n;a[6]=u;a[7]=w;a[8]=B;a[9]=E;a[10]=I;a[11]=N;a[12]=g*e+k*d+B*b+c[12];a[13]=f*e+n*d+E*b+c[13];a[14]=m*e+u*d+I*b+c[14];a[15]=p*e+w*d+N*b+c[15]}return a};d.scale=function(a,c,b){var e=b[0],d=b[1];b=b[2];
a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;a[3]=c[3]*e;a[4]=c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=c[7]*d;a[8]=c[8]*b;a[9]=c[9]*b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};d.rotate=function(a,c,b,e){var d=e[0],f=e[1];e=e[2];var m=Math.sqrt(d*d+f*f+e*e);if(Math.abs(m)<g.EPSILON)return null;m=1/m;d*=m;f*=m;e*=m;var l=Math.sin(b);var p=Math.cos(b);var k=1-p;b=c[0];m=c[1];var n=c[2];var u=c[3];var w=c[4];var B=c[5];var E=c[6];var I=c[7];var N=c[8];var M=c[9];var z=c[10];
var F=c[11];var K=d*d*k+p;var L=f*d*k+e*l;var P=e*d*k-f*l;var J=d*f*k-e*l;var O=f*f*k+p;var G=e*f*k+d*l;var H=d*e*k+f*l;d=f*e*k-d*l;f=e*e*k+p;a[0]=b*K+w*L+N*P;a[1]=m*K+B*L+M*P;a[2]=n*K+E*L+z*P;a[3]=u*K+I*L+F*P;a[4]=b*J+w*O+N*G;a[5]=m*J+B*O+M*G;a[6]=n*J+E*O+z*G;a[7]=u*J+I*O+F*G;a[8]=b*H+w*d+N*f;a[9]=m*H+B*d+M*f;a[10]=n*H+E*d+z*f;a[11]=u*H+I*d+F*f;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};d.rotateX=function(a,c,b){var e=Math.sin(b);b=Math.cos(b);var d=c[4],g=c[5],f=c[6],m=c[7],
p=c[8],k=c[9],n=c[10],u=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=d*b+p*e;a[5]=g*b+k*e;a[6]=f*b+n*e;a[7]=m*b+u*e;a[8]=p*b-d*e;a[9]=k*b-g*e;a[10]=n*b-f*e;a[11]=u*b-m*e;return a};d.rotateY=function(a,c,b){var e=Math.sin(b);b=Math.cos(b);var d=c[0],g=c[1],f=c[2],m=c[3],p=c[8],k=c[9],n=c[10],u=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=d*b-p*e;a[1]=g*b-k*e;a[2]=f*b-n*e;a[3]=
m*b-u*e;a[8]=d*e+p*b;a[9]=g*e+k*b;a[10]=f*e+n*b;a[11]=m*e+u*b;return a};d.rotateZ=function(a,c,b){var e=Math.sin(b);b=Math.cos(b);var d=c[0],g=c[1],f=c[2],m=c[3],p=c[4],k=c[5],n=c[6],u=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=d*b+p*e;a[1]=g*b+k*e;a[2]=f*b+n*e;a[3]=m*b+u*e;a[4]=p*b-d*e;a[5]=k*b-g*e;a[6]=n*b-f*e;a[7]=u*b-m*e;return a};d.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};d.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.fromRotation=function(a,c,b){var e=b[0],d=b[1];b=b[2];var f=Math.sqrt(e*e+d*d+b*b);if(Math.abs(f)<g.EPSILON)return null;f=1/f;e*=f;d*=f;b*=f;f=Math.sin(c);c=Math.cos(c);var m=1-c;a[0]=e*e*m+c;a[1]=d*e*m+b*f;a[2]=b*e*m-d*f;a[3]=0;a[4]=e*d*m-b*f;a[5]=d*d*m+c;a[6]=b*d*
m+e*f;a[7]=0;a[8]=e*b*m+d*f;a[9]=d*b*m-e*f;a[10]=b*b*m+c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.fromXRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=b;a[7]=0;a[8]=0;a[9]=-b;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.fromYRotation=function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-b;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=b;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.fromZRotation=
function(a,c){var b=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=b;a[2]=0;a[3]=0;a[4]=-b;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.fromRotationTranslation=function(a,c,b){var e=c[0],d=c[1],g=c[2],f=c[3],m=e+e,p=d+d,k=g+g;c=e*m;var n=e*p;e*=k;var u=d*p;d*=k;g*=k;m*=f;p*=f;f*=k;a[0]=1-(u+g);a[1]=n+f;a[2]=e-p;a[3]=0;a[4]=n-f;a[5]=1-(c+g);a[6]=d+m;a[7]=0;a[8]=e+p;a[9]=d-m;a[10]=1-(c+u);a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};d.getTranslation=
function(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};d.getScaling=function(a,c){var b=c[0],e=c[1],d=c[2],g=c[4],f=c[5],q=c[6],p=c[8],k=c[9];c=c[10];a[0]=Math.sqrt(b*b+e*e+d*d);a[1]=Math.sqrt(g*g+f*f+q*q);a[2]=Math.sqrt(p*p+k*k+c*c);return a};d.getRotation=function(a,c){var b=c[0]+c[5]+c[10];0<b?(b=2*Math.sqrt(b+1),a[3]=.25*b,a[0]=(c[6]-c[9])/b,a[1]=(c[8]-c[2])/b,a[2]=(c[1]-c[4])/b):c[0]>c[5]&c[0]>c[10]?(b=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-c[9])/b,a[0]=.25*b,a[1]=(c[1]+c[4])/b,a[2]=(c[8]+
c[2])/b):c[5]>c[10]?(b=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/b,a[0]=(c[1]+c[4])/b,a[1]=.25*b,a[2]=(c[6]+c[9])/b):(b=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/b,a[0]=(c[8]+c[2])/b,a[1]=(c[6]+c[9])/b,a[2]=.25*b);return a};d.fromRotationTranslationScale=function(a,c,b,e){var d=c[0],g=c[1],f=c[2],m=c[3],l=d+d,k=g+g,n=f+f;c=d*l;var u=d*k;d*=n;var w=g*k;g*=n;f*=n;l*=m;k*=m;m*=n;n=e[0];var B=e[1];e=e[2];a[0]=(1-(w+f))*n;a[1]=(u+m)*n;a[2]=(d-k)*n;a[3]=0;a[4]=(u-m)*B;a[5]=(1-(c+f))*B;a[6]=
(g+l)*B;a[7]=0;a[8]=(d+k)*e;a[9]=(g-l)*e;a[10]=(1-(c+w))*e;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};d.fromRotationTranslationScaleOrigin=function(a,c,b,e,d){var g=c[0],f=c[1],m=c[2],l=c[3],r=g+g,n=f+f,k=m+m;c=g*r;var w=g*n;g*=k;var B=f*n;f*=k;m*=k;r*=l;n*=l;l*=k;k=e[0];var E=e[1];e=e[2];var I=d[0],N=d[1];d=d[2];a[0]=(1-(B+m))*k;a[1]=(w+l)*k;a[2]=(g-n)*k;a[3]=0;a[4]=(w-l)*E;a[5]=(1-(c+m))*E;a[6]=(f+r)*E;a[7]=0;a[8]=(g+n)*e;a[9]=(f-r)*e;a[10]=(1-(c+B))*e;a[11]=0;a[12]=b[0]+I-(a[0]*
I+a[4]*N+a[8]*d);a[13]=b[1]+N-(a[1]*I+a[5]*N+a[9]*d);a[14]=b[2]+d-(a[2]*I+a[6]*N+a[10]*d);a[15]=1;return a};d.fromQuat=function(a,c){var b=c[0],e=c[1],d=c[2];c=c[3];var g=b+b,f=e+e,q=d+d;b*=g;var p=e*g;e*=f;var k=d*g,n=d*f;d*=q;g*=c;f*=c;c*=q;a[0]=1-e-d;a[1]=p+c;a[2]=k-f;a[3]=0;a[4]=p-c;a[5]=1-b-d;a[6]=n+g;a[7]=0;a[8]=k+f;a[9]=n-g;a[10]=1-b-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};d.frustum=function(a,c,b,e,d,g,f){var h=1/(b-c),m=1/(d-e),l=1/(g-f);a[0]=2*g*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;
a[5]=2*g*m;a[6]=0;a[7]=0;a[8]=(b+c)*h;a[9]=(d+e)*m;a[10]=(f+g)*l;a[11]=-1;a[12]=0;a[13]=0;a[14]=f*g*2*l;a[15]=0;return a};d.perspective=function(a,c,b,e,d){c=1/Math.tan(c/2);var g=1/(e-d);a[0]=c/b;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(d+e)*g;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*d*e*g;a[15]=0;return a};d.perspectiveFromFieldOfView=function(a,c,b,e){var d=Math.tan(c.upDegrees*Math.PI/180),g=Math.tan(c.downDegrees*Math.PI/180),f=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*
Math.PI/180);var m=2/(f+c),l=2/(d+g);a[0]=m;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=l;a[6]=0;a[7]=0;a[8]=-((f-c)*m*.5);a[9]=(d-g)*l*.5;a[10]=e/(b-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*b/(b-e);a[15]=0;return a};d.ortho=function(a,c,b,e,d,g,f){var h=1/(c-b),m=1/(e-d),l=1/(g-f);a[0]=-2*h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*l;a[11]=0;a[12]=(c+b)*h;a[13]=(d+e)*m;a[14]=(f+g)*l;a[15]=1;return a};d.lookAt=function(a,c,b,e){var d=c[0],f=c[1];c=c[2];var m=e[0];var l=e[1];var p=
e[2];var k=b[0];e=b[1];var n=b[2];if(Math.abs(d-k)<g.EPSILON&&Math.abs(f-e)<g.EPSILON&&Math.abs(c-n)<g.EPSILON)return mat4.identity(a);b=d-k;e=f-e;k=c-n;var u=1/Math.sqrt(b*b+e*e+k*k);b*=u;e*=u;k*=u;n=l*k-p*e;p=p*b-m*k;m=m*e-l*b;(u=Math.sqrt(n*n+p*p+m*m))?(u=1/u,n*=u,p*=u,m*=u):m=p=n=0;l=e*m-k*p;var w=k*n-b*m;var B=b*p-e*n;(u=Math.sqrt(l*l+w*w+B*B))?(u=1/u,l*=u,w*=u,B*=u):B=w=l=0;a[0]=n;a[1]=l;a[2]=b;a[3]=0;a[4]=p;a[5]=w;a[6]=e;a[7]=0;a[8]=m;a[9]=B;a[10]=k;a[11]=0;a[12]=-(n*d+p*f+m*c);a[13]=-(l*d+
w*f+B*c);a[14]=-(b*d+e*f+k*c);a[15]=1;return a};d.targetTo=function(a,c,b,e){var d=c[0],g=c[1];c=c[2];var f=e[0],m=e[1],l=e[2];e=d-b[0];var k=g-b[1];b=c-b[2];var n=e*e+k*k+b*b;0<n&&(n=1/Math.sqrt(n),e*=n,k*=n,b*=n);n=m*b-l*k;l=l*e-f*b;f=f*k-m*e;a[0]=n;a[1]=l;a[2]=f;a[3]=0;a[4]=k*f-b*l;a[5]=b*n-e*f;a[6]=e*l-k*n;a[7]=0;a[8]=e;a[9]=k;a[10]=b;a[11]=0;a[12]=d;a[13]=g;a[14]=c;a[15]=1;return a};d.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+
a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};d.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];a[3]=c[3]+b[3];a[4]=c[4]+b[4];a[5]=
c[5]+b[5];a[6]=c[6]+b[6];a[7]=c[7]+b[7];a[8]=c[8]+b[8];a[9]=c[9]+b[9];a[10]=c[10]+b[10];a[11]=c[11]+b[11];a[12]=c[12]+b[12];a[13]=c[13]+b[13];a[14]=c[14]+b[14];a[15]=c[15]+b[15];return a};d.subtract=e;d.multiplyScalar=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;a[3]=c[3]*b;a[4]=c[4]*b;a[5]=c[5]*b;a[6]=c[6]*b;a[7]=c[7]*b;a[8]=c[8]*b;a[9]=c[9]*b;a[10]=c[10]*b;a[11]=c[11]*b;a[12]=c[12]*b;a[13]=c[13]*b;a[14]=c[14]*b;a[15]=c[15]*b;return a};d.multiplyScalarAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*
e;a[1]=c[1]+b[1]*e;a[2]=c[2]+b[2]*e;a[3]=c[3]+b[3]*e;a[4]=c[4]+b[4]*e;a[5]=c[5]+b[5]*e;a[6]=c[6]+b[6]*e;a[7]=c[7]+b[7]*e;a[8]=c[8]+b[8]*e;a[9]=c[9]+b[9]*e;a[10]=c[10]+b[10]*e;a[11]=c[11]+b[11]*e;a[12]=c[12]+b[12]*e;a[13]=c[13]+b[13]*e;a[14]=c[14]+b[14]*e;a[15]=c[15]+b[15]*e;return a};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===
c[13]&&a[14]===c[14]&&a[15]===c[15]};d.equals=function(a,c){var b=a[0],e=a[1],d=a[2],f=a[3],k=a[4],q=a[5],p=a[6],A=a[7],n=a[8],u=a[9],w=a[10],B=a[11],E=a[12],I=a[13],N=a[14];a=a[15];var M=c[0],z=c[1],F=c[2],K=c[3],L=c[4],P=c[5],J=c[6],O=c[7],G=c[8],H=c[9],Q=c[10],v=c[11],t=c[12],x=c[13],y=c[14];c=c[15];return Math.abs(b-M)<=g.EPSILON*Math.max(1,Math.abs(b),Math.abs(M))&&Math.abs(e-z)<=g.EPSILON*Math.max(1,Math.abs(e),Math.abs(z))&&Math.abs(d-F)<=g.EPSILON*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(f-
K)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(K))&&Math.abs(k-L)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(L))&&Math.abs(q-P)<=g.EPSILON*Math.max(1,Math.abs(q),Math.abs(P))&&Math.abs(p-J)<=g.EPSILON*Math.max(1,Math.abs(p),Math.abs(J))&&Math.abs(A-O)<=g.EPSILON*Math.max(1,Math.abs(A),Math.abs(O))&&Math.abs(n-G)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(G))&&Math.abs(u-H)<=g.EPSILON*Math.max(1,Math.abs(u),Math.abs(H))&&Math.abs(w-Q)<=g.EPSILON*Math.max(1,Math.abs(w),Math.abs(Q))&&Math.abs(B-v)<=g.EPSILON*
Math.max(1,Math.abs(B),Math.abs(v))&&Math.abs(E-t)<=g.EPSILON*Math.max(1,Math.abs(E),Math.abs(t))&&Math.abs(I-x)<=g.EPSILON*Math.max(1,Math.abs(I),Math.abs(x))&&Math.abs(N-y)<=g.EPSILON*Math.max(1,Math.abs(N),Math.abs(y))&&Math.abs(a-c)<=g.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.mul=b;d.sub=e},function(k,d,f){function b(a){if(a&&
a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}function e(){var a=new l.ARRAY_TYPE(4);a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}function g(a,c,b){b*=.5;var e=Math.sin(b);a[0]=e*c[0];a[1]=e*c[1];a[2]=e*c[2];a[3]=Math.cos(b);return a}function a(a,c,b){var e=c[0],d=c[1],g=c[2];c=c[3];var f=b[0],h=b[1],m=b[2];b=b[3];a[0]=e*b+c*f+d*m-g*h;a[1]=d*b+c*h+g*f-e*m;a[2]=g*b+c*m+e*h-d*f;a[3]=c*b-e*f-d*h-g*m;return a}function c(a,
c,b,e){var d=c[0],g=c[1],f=c[2];c=c[3];var h=b[0],m=b[1],l=b[2];b=b[3];var p=d*h+g*m+f*l+c*b;0>p&&(p=-p,h=-h,m=-m,l=-l,b=-b);if(1E-6<1-p){var q=Math.acos(p);var n=Math.sin(q);p=Math.sin((1-e)*q)/n;e=Math.sin(e*q)/n}else p=1-e;a[0]=p*d+e*h;a[1]=p*g+e*m;a[2]=p*f+e*l;a[3]=p*c+e*b;return a}function m(a,c){var b=c[0]+c[4]+c[8];if(0<b)b=Math.sqrt(b+1),a[3]=.5*b,b=.5/b,a[0]=(c[5]-c[7])*b,a[1]=(c[6]-c[2])*b,a[2]=(c[1]-c[3])*b;else{var e=0;c[4]>c[0]&&(e=1);c[8]>c[3*e+e]&&(e=2);var d=(e+1)%3,g=(e+2)%3;b=Math.sqrt(c[3*
e+e]-c[3*d+d]-c[3*g+g]+1);a[e]=.5*b;b=.5/b;a[3]=(c[3*d+g]-c[3*g+d])*b;a[d]=(c[3*d+e]+c[3*e+d])*b;a[g]=(c[3*g+e]+c[3*e+g])*b}return a}Object.defineProperty(d,"__esModule",{value:!0});d.setAxes=d.sqlerp=d.rotationTo=d.equals=d.exactEquals=d.normalize=d.sqrLen=d.squaredLength=d.len=d.length=d.lerp=d.dot=d.scale=d.mul=d.add=d.set=d.copy=d.fromValues=d.clone=void 0;d.create=e;d.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};d.setAxisAngle=g;d.getAxisAngle=function(a,c){var b=2*Math.acos(c[3]),
e=Math.sin(b/2);0!=e?(a[0]=c[0]/e,a[1]=c[1]/e,a[2]=c[2]/e):(a[0]=1,a[1]=0,a[2]=0);return b};d.multiply=a;d.rotateX=function(a,c,b){b*=.5;var e=c[0],d=c[1],g=c[2];c=c[3];var f=Math.sin(b);b=Math.cos(b);a[0]=e*b+c*f;a[1]=d*b+g*f;a[2]=g*b-d*f;a[3]=c*b-e*f;return a};d.rotateY=function(a,c,b){b*=.5;var e=c[0],d=c[1],g=c[2];c=c[3];var f=Math.sin(b);b=Math.cos(b);a[0]=e*b-g*f;a[1]=d*b+c*f;a[2]=g*b+e*f;a[3]=c*b-d*f;return a};d.rotateZ=function(a,c,b){b*=.5;var e=c[0],d=c[1],g=c[2];c=c[3];var f=Math.sin(b);
b=Math.cos(b);a[0]=e*b+d*f;a[1]=d*b-e*f;a[2]=g*b+c*f;a[3]=c*b-g*f;return a};d.calculateW=function(a,c){var b=c[0],e=c[1];c=c[2];a[0]=b;a[1]=e;a[2]=c;a[3]=Math.sqrt(Math.abs(1-b*b-e*e-c*c));return a};d.slerp=c;d.invert=function(a,c){var b=c[0],e=c[1],d=c[2];c=c[3];var g=b*b+e*e+d*d+c*c;g=g?1/g:0;a[0]=-b*g;a[1]=-e*g;a[2]=-d*g;a[3]=c*g;return a};d.conjugate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};d.fromMat3=m;d.fromEuler=function(a,c,b,e){var d=.5*Math.PI/180;c*=d;b*=d;e*=
d;d=Math.sin(c);c=Math.cos(c);var g=Math.sin(b);b=Math.cos(b);var f=Math.sin(e);e=Math.cos(e);a[0]=d*b*e-c*g*f;a[1]=c*g*e+d*b*f;a[2]=c*b*f-d*g*e;a[3]=c*b*e+d*g*f;return a};d.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};k=f(0);var l=b(k);k=f(1);var r=b(k);k=f(2);var h=b(k);f=f(3);f=b(f);d.clone=f.clone;d.fromValues=f.fromValues;d.copy=f.copy;d.set=f.set;d.add=f.add;d.mul=a;d.scale=f.scale;d.dot=f.dot;d.lerp=f.lerp;k=d.length=f.length;d.len=k;k=d.squaredLength=f.squaredLength;
d.sqrLen=k;var C=d.normalize=f.normalize;d.exactEquals=f.exactEquals;d.equals=f.equals;d.rotationTo=function(){var a=h.create(),c=h.fromValues(1,0,0),b=h.fromValues(0,1,0);return function(e,d,f){var m=h.dot(d,f);if(-.999999>m)return h.cross(a,c,d),1E-6>h.len(a)&&h.cross(a,b,d),h.normalize(a,a),g(e,a,Math.PI),e;if(.999999<m)return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e;h.cross(a,d,f);e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=1+m;return C(e,e)}}();d.sqlerp=function(){var a=e(),b=e();return function(e,d,g,f,h,m){c(a,
d,h,m);c(b,g,f,m);c(e,a,b,2*m*(1-m));return e}}();d.setAxes=function(){var a=r.create();return function(c,b,e,d){a[0]=e[0];a[3]=e[1];a[6]=e[2];a[1]=d[0];a[4]=d[1];a[7]=d[2];a[2]=-b[0];a[5]=-b[1];a[8]=-b[2];return C(c,m(c,a))}}()},function(k,d,f){function b(){var a=new h.ARRAY_TYPE(2);a[0]=0;a[1]=0;return a}function e(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];return a}function g(a,c,b){a[0]=c[0]*b[0];a[1]=c[1]*b[1];return a}function a(a,c,b){a[0]=c[0]/b[0];a[1]=c[1]/b[1];return a}function c(a,c){var b=
c[0]-a[0];a=c[1]-a[1];return Math.sqrt(b*b+a*a)}function m(a,c){var b=c[0]-a[0];a=c[1]-a[1];return b*b+a*a}function l(a){var c=a[0];a=a[1];return Math.sqrt(c*c+a*a)}function r(a){var c=a[0];a=a[1];return c*c+a*a}Object.defineProperty(d,"__esModule",{value:!0});d.forEach=d.sqrLen=d.sqrDist=d.dist=d.div=d.mul=d.sub=d.len=void 0;d.create=b;d.clone=function(a){var c=new h.ARRAY_TYPE(2);c[0]=a[0];c[1]=a[1];return c};d.fromValues=function(a,c){var b=new h.ARRAY_TYPE(2);b[0]=a;b[1]=c;return b};d.copy=function(a,
c){a[0]=c[0];a[1]=c[1];return a};d.set=function(a,c,b){a[0]=c;a[1]=b;return a};d.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];return a};d.subtract=e;d.multiply=g;d.divide=a;d.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);return a};d.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);return a};d.min=function(a,c,b){a[0]=Math.min(c[0],b[0]);a[1]=Math.min(c[1],b[1]);return a};d.max=function(a,c,b){a[0]=Math.max(c[0],b[0]);a[1]=Math.max(c[1],b[1]);return a};d.round=function(a,
c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);return a};d.scale=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;return a};d.scaleAndAdd=function(a,c,b,e){a[0]=c[0]+b[0]*e;a[1]=c[1]+b[1]*e;return a};d.distance=c;d.squaredDistance=m;d.length=l;d.squaredLength=r;d.negate=function(a,c){a[0]=-c[0];a[1]=-c[1];return a};d.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];return a};d.normalize=function(a,c){var b=c[0],e=c[1];b=b*b+e*e;0<b&&(b=1/Math.sqrt(b),a[0]=c[0]*b,a[1]=c[1]*b);return a};d.dot=function(a,c){return a[0]*
c[0]+a[1]*c[1]};d.cross=function(a,c,b){c=c[0]*b[1]-c[1]*b[0];a[0]=a[1]=0;a[2]=c;return a};d.lerp=function(a,c,b,e){var d=c[0];c=c[1];a[0]=d+e*(b[0]-d);a[1]=c+e*(b[1]-c);return a};d.random=function(a,c){c=c||1;var b=2*h.RANDOM()*Math.PI;a[0]=Math.cos(b)*c;a[1]=Math.sin(b)*c;return a};d.transformMat2=function(a,c,b){var e=c[0];c=c[1];a[0]=b[0]*e+b[2]*c;a[1]=b[1]*e+b[3]*c;return a};d.transformMat2d=function(a,c,b){var e=c[0];c=c[1];a[0]=b[0]*e+b[2]*c+b[4];a[1]=b[1]*e+b[3]*c+b[5];return a};d.transformMat3=
function(a,c,b){var e=c[0];c=c[1];a[0]=b[0]*e+b[3]*c+b[6];a[1]=b[1]*e+b[4]*c+b[7];return a};d.transformMat4=function(a,c,b){var e=c[0];c=c[1];a[0]=b[0]*e+b[4]*c+b[12];a[1]=b[1]*e+b[5]*c+b[13];return a};d.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};d.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]};d.equals=function(a,c){var b=a[0];a=a[1];var e=c[0];c=c[1];return Math.abs(b-e)<=h.EPSILON*Math.max(1,Math.abs(b),Math.abs(e))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};
var h=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);c.default=a;return c}(f(0));d.len=l;d.sub=e;d.mul=g;d.div=a;d.dist=c;d.sqrDist=m;d.sqrLen=r;d.forEach=function(){var a=b();return function(c,b,e,d,g,f){b||(b=2);e||(e=0);for(d=d?Math.min(d*b+e,c.length):c.length;e<d;e+=b)a[0]=c[e],a[1]=c[e+1],g(a,a,f),c[e]=a[0],c[e+1]=a[1];return c}}()}])});
var WebGL=function(){return{createWebGLContext:function(k,d){d=d||{};for(var f=["webgl","experimental-webgl"],b=null,e=0;e<f.length;e++){try{b=k.getContext(f[e],d)}catch(g){b=null}if(null!==b)break}return b},initialize:function(){this.initializeShaders();this.initializeRenderTargetState()},getRenderTargetWidth:function(){return this.renderTargetState.currentViewport[2]},getRenderTargetHeight:function(){return this.renderTargetState.currentViewport[3]},getCanvasScreenRect:function(){var k=gl.canvas.getBoundingClientRect();
return{left:k.left,top:k.top,right:k.right,bottom:k.bottom}},setScissorRect:function(k){gl.scissor(k.left,this.renderTargetState.currentViewport[3]-k.bottom,k.right-k.left,k.bottom-k.top)}}}();
(function(k){k=k||{};k.RGB=function(d,f,b){return new Float32Array([d,f,b])};k.RGBA=function(d,f,b,e){return new Float32Array([d,f,b,e])};k.createVertexBuffer=function(d){var f=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,f);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(d),gl.STATIC_DRAW);return f};k.createIndexBuffer=function(d){var f=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,f);gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),gl.STATIC_DRAW);return f}})(WebGL);
(function(k){function d(b,e,d,a,c,f){b||(b=gl.LINEAR);e||(e=gl.LINEAR);void 0===d&&(d=gl.REPEAT);void 0===a&&(a=gl.REPEAT);void 0===c&&(c=!0);void 0===f&&(f=1);var g=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,g);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,d);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,a);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,b);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,e);(b=Renderer.webGLExtensions.TextureFilterAnisotropic)&&gl.texParameterf(gl.TEXTURE_2D,
b.TEXTURE_MAX_ANISOTROPY_EXT,f);gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL,c);return g}function f(b,e,d){gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,e);d&&gl.generateMipmap(gl.TEXTURE_2D);gl.bindTexture(gl.TEXTURE_2D,null)}k=k||{};k.getTextureFromImage=function(b,e,g,a,c,m,l){e=d(e,g,a,c,m,l);f(e,b,g===gl.LINEAR_MIPMAP_LINEAR);return e};k.getTextureFromCanvas=function(b,e,g,a,c,m,l){e=d(e,g,a,c,m,l);f(e,b,g===gl.LINEAR_MIPMAP_LINEAR);return e};k.getTextureFromDdsTexture=function(b,e,
g,a,c,f,l){e=d(e,g,a,c,f,l);g=b.pixelFormat;for(a=0;a<b.mipmaps.length;a++)c=b.mipmaps[a],gl.compressedTexImage2D(gl.TEXTURE_2D,a,g,c.width,c.height,0,c.data);gl.bindTexture(gl.TEXTURE_2D,null);return e};k.getTextureFromImageData=function(b,e,g,a,c,m,l){e=d(e,g,a,c,m,l);f(e,b,g===gl.LINEAR_MIPMAP_LINEAR);return e};k.getTextureFromUint8Array=function(b,e,g,a,c,f,l,k,h){a=d(a,c,f,l,k,h);c=c===gl.LINEAR_MIPMAP_LINEAR;gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,e,g,0,gl.RGBA,gl.UNSIGNED_BYTE,b);c&&gl.generateMipmap(gl.TEXTURE_2D);
gl.bindTexture(gl.TEXTURE_2D,null);return a};k.getImageDataFromImage=function(b){var e=document.createElement("canvas");e.width=b.width;e.height=b.height;e=e.getContext("2d");e.drawImage(b,0,0);return e.getImageData(0,0,b.width,b.height)}})(WebGL);
(function(k){function d(b){b=b.split("\n");for(var e=0;e<b.length;e++){var a=b[e],c=(1+e).toString();a=Array(3-c.length+1).join(" ")+c+" "+a;b[e]=a}return b.join("\n")}function f(b,d,a){b=gl.createShader(b);b.name=a||"anonymous";b.source=d;gl.shaderSource(b,d);gl.compileShader(b);if(!gl.getShaderParameter(b,gl.COMPILE_STATUS))throw"Shader "+a+": Compilation failed with message '"+gl.getShaderInfoLog(b)+"'";return b}function b(b,g,a,c){c=c||{};c.print&&(c="----------------------------------------------------------------\n"+
("  "+a+"\n")+"----------------------------------------------------------------\n\n",c+="Vertex shader:\n",c+="\n",c+=d(b)+"\n",c+="\n",c+="Fragment shader:\n",c+="\n",c+=d(g)+"\n",console.log(c));c=gl.createProgram();c.name=a||"anonymous";c.vertexShaderText=b;c.fragmentShaderText=g;c.attributes=[];b=f(gl.VERTEX_SHADER,b,a);g=f(gl.FRAGMENT_SHADER,g,a);gl.attachShader(c,b);gl.attachShader(c,g);gl.linkProgram(c);if(!gl.getProgramParameter(c,gl.LINK_STATUS))throw"Shader program "+a+": Linking failed with message '"+
gl.getProgramInfoLog(c)+"'";g=gl.getProgramParameter(c,gl.ACTIVE_ATTRIBUTES);for(a=0;a<g;a++)b=gl.getActiveAttrib(c,a),c.attributes.push(b),c[b.name]=gl.getAttribLocation(c,b.name);g=gl.getProgramParameter(c,gl.ACTIVE_UNIFORMS);for(a=0;a<g;a++)b=gl.getActiveUniform(c,a),c[b.name]=gl.getUniformLocation(c,b.name);return c}k=k||{};k.initializeShaders=function(){this.shaderPosition=b("attribute vec3 aPosition;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n}",
"precision highp float;\nprecision highp int;\n\nuniform vec4 uColor;\n\nvoid main(void) {\n  gl_FragColor = uColor;\n}","shaderPosition");this.shaderPositionColor=b("attribute vec3 aPosition;\nattribute vec4 aColor;\n\nvarying vec4 vColor;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vColor      = aColor;\n}","precision highp float;\nprecision highp int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n}",
"shaderColor");this.shaderPositionTexCoord=b("attribute vec3 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = aTexCoord;\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform vec4      uColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  gl_FragColor = texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t)) * uColor;\n}",
"shaderPositionTexCoord");this.shaderPositionColorTexCoord=b("attribute vec3 aPosition;\nattribute vec4 aColor;\nattribute vec2 aTexCoord;\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n    gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n    vColor      = aColor;\n    vTexCoord   = aTexCoord;\n}","precision highp float;\nprecision highp int;\n\nvarying vec4 vColor;\nvarying vec2 vTexCoord;\n\nuniform vec4      uColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t)) * vColor * uColor;\n}",
"shaderPositionColorTexCoord");this.shaderPositionTextured=b("attribute vec3 aPosition;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatTexture;\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n    vTexCoord = vec2(uMatTexture * vec4(aPosition, 1.0));\n\n    gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform vec4      uColor;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t)) * uColor;\n}",
"shaderPositionTextured")};k.ShaderProgram=b})(WebGL);
(function(k){function d(b,d,a){a=a||{};a.alpha="undefined"!==typeof a.alpha?a.alpha:!1;a.depth="undefined"!==typeof a.depth?a.depth:!0;a.stencil="undefined"!==typeof a.stencil?a.stencil:!1;this.width=b;this.height=d;this.options=a;this.createWebGLResources()}function f(b){b=b||{};b.alpha="undefined"!==typeof b.alpha?b.alpha:!1;b.depth="undefined"!==typeof b.depth?b.depth:!0;b.stencil="undefined"!==typeof b.stencil?b.stencil:!1;b.sizeStep="undefined"!==typeof b.sizeStep?b.sizeStep:128;b.width="undefined"!==
typeof b.width?b.width:0;b.height="undefined"!==typeof b.height?b.height:0;this.minHeight=this.minWidth=this.sizeStep=b.sizeStep;this.maxHeight=this.maxWidth=4096;this.options=b;this.framebuffer=null;0!==b.width&&0!==b.height&&this.requestSize(b.width,b.height)}function b(){this.stateStack=[];this.currentViewport=this.currentFramebuffer=null}k=k||{};d.prototype.validateWebGLFramebuffer=function(){if(!gl.isFramebuffer(this.webGLFramebuffer))throw"Not a framebuffer";var b=gl.checkFramebufferStatus(gl.FRAMEBUFFER);
if(b!=gl.FRAMEBUFFER_COMPLETE)switch(b){case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw"Incomplete framebuffer: FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case gl.FRAMEBUFFER_UNSUPPORTED:throw"Incomplete framebuffer: FRAMEBUFFER_UNSUPPORTED";default:throw"Incomplete framebuffer: "+
b;}};d.prototype.createWebGLResources=function(){var b=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,b);var d=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,d);var a=this.options.alpha?gl.RGBA:gl.RGB;gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texImage2D(gl.TEXTURE_2D,
0,a,this.width,this.height,0,a,gl.UNSIGNED_BYTE,null);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,d,0);this.options.depth?(a=gl.createRenderbuffer(),gl.bindRenderbuffer(gl.RENDERBUFFER,a),gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_COMPONENT16,this.width,this.height),gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,a)):a=null;this.webGLFramebuffer=b;this.webGLDepthbuffer=a;this.webGLTexture=d;this.validateWebGLFramebuffer();gl.bindTexture(gl.TEXTURE_2D,
null);gl.bindRenderbuffer(gl.RENDERBUFFER,null);gl.bindFramebuffer(gl.FRAMEBUFFER,null)};d.prototype.releaseWebGLResources=function(){gl.bindFramebuffer(gl.FRAMEBUFFER,this.webGLFramebuffer);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,null,0);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_ATTACHMENT,gl.RENDERBUFFER,null);gl.bindFramebuffer(gl.FRAMEBUFFER,null);this.webGLDepthbuffer&&gl.deleteRenderbuffer(this.webGLDepthbuffer);this.webGLTexture&&gl.deleteTexture(this.webGLTexture);
gl.deleteFramebuffer(this.webGLFramebuffer)};f.prototype.requestSize=function(b,g){b=Math.ceil(b/this.sizeStep)*this.sizeStep;g=Math.ceil(g/this.sizeStep)*this.sizeStep;b<this.minWidth?b=this.minWidth:b>this.maxWidth&&(b=this.maxWidth);g<this.minHeight?g=this.minHeight:g>this.maxHeight&&(g=this.maxHeight);this.framebuffer&&b==this.framebuffer.width&&g==this.framebuffer.height||(this.framebuffer&&this.framebuffer.releaseWebGLResources(),this.framebuffer=new d(b,g,this.options));this.width=b;this.height=
g};f.prototype.switchWebGLTexture=function(b){gl.bindFramebuffer(gl.FRAMEBUFFER,this.framebuffer.webGLFramebuffer);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,b,0);null!==b&&this.framebuffer.validateWebGLFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,null);var e=this.framebuffer.webGLTexture;this.framebuffer.webGLTexture=b;return e};f.prototype.releaseWebGLResources=function(){this.framebuffer&&this.framebuffer.releaseWebGLResources()};b.prototype.initialize=function(b,
d){this.currentFramebuffer=b;this.currentViewport=new Int32Array([d.x,d.y,d.width,d.height]);gl.viewport(d.x,d.y,d.width,d.height)};b.prototype.save=function(){this.stateStack.push({framebuffer:this.currentFramebuffer,viewport:this.currentViewport})};b.prototype.restore=function(){if(0===this.stateStack.length)throw"RenderTargetState.pop: Stack already empty.";var b=this.stateStack.pop();this.set(b);return b};b.prototype.set=function(b){var e=b.viewport[0],a=b.viewport[1],c=b.viewport[2],d=b.viewport[3];
gl.bindFramebuffer(gl.FRAMEBUFFER,b.framebuffer);this.currentFramebuffer=b.framebuffer;this.currentViewport=b.viewport;gl.viewport(e,a,c,d)};b.prototype.setFromRenderable=function(b){var e=b.width,a=b.height;gl.bindFramebuffer(gl.FRAMEBUFFER,b.framebuffer.webGLFramebuffer);this.currentFramebuffer=b.framebuffer.webGLFramebuffer;this.currentViewport=new Int32Array([0,0,e,a]);gl.viewport(0,0,e,a)};k.initializeRenderTargetState=function(){this.renderTargetState=new b;this.renderTargetState.initialize(null,
{x:0,y:0,width:gl.canvas.width,height:gl.canvas.height})};k.Framebuffer=d;k.Renderable=f;k.RenderTargetState=b})(WebGL);
var Utils=function(){function k(b,d){return b.toLowerCase()===d.toLowerCase()}function d(b,g,a){a=a||{deep:!1};for(var c="undefined"!==typeof a.deep?a.deep:!1,e=Object.keys(g),f=0;f<e.length;f++){var k=e[f];c?"object"===typeof g[k]?"object"===typeof b[k]&&null!==b[k]?d(b[k],g[k],a):b[k]=g[k]:b[k]=g[k]:b[k]=g[k]}}function f(b,d){if(typeof b!==typeof d)return!1;if(null===b||"object"!==typeof b)return b===d;if(b instanceof Date)return b==d;if(b instanceof Array){if(b.length!==d.length)b=!1;else{var a;
for(a=0;a<b.length&&f(b[a],d[a]);a++);b=a===b.length}return b}if(b instanceof Object){var c=0;for(a in b)c++;var e=0;for(a in d)e++;if(c!==e)return!1;for(a in b)if(b.hasOwnProperty(a)&&(!d.hasOwnProperty(a)||!f(b[a],d[a])))return!1;return!0}throw"Cannot compare objects (object type not supported)";}function b(){this.strings=[]}b.prototype.indexOf=function(b){var e;for(e=0;e<this.strings.length&&!k(this.strings[e],b);e++);return e<this.strings.length?e:-1};b.prototype.hasMember=function(b){var e;for(e=
0;e<this.strings.length&&!k(this.strings[e],b);e++);return e<this.strings.length};b.prototype.add=function(b){this.hasMember(b)||this.strings.push(b)};b.prototype.remove=function(b){b=this.indexOf(b);var e=-1!==b;e&&this.strings.splice(b,1);return e};b.prototype.getStrings=function(){return this.strings};return{trimString:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},sameText:k,replaceTabsWithSpaces:function(b){return b.replace(/\t/g," ")},removeWhitespace:function(b){b=b.replace(/(^\s*)|(\s*$)/gi,
"");b=b.replace(/[ ]{2,}/gi," ");return b=b.replace(/\n /,"\n")},extractUrlParts:function(b){var e=document.createElement("a");e.setAttribute("href",b);return{href:e.href,origin:e.origin,protocol:e.protocol,host:e.host,hostname:e.hostname,pathname:e.pathname,port:e.port,search:e.search}},extractFilenameFromPath:function(b){return b.replace(/^.*[\\\/]/,"")},extractFilenameFromUrl:function(b){var e=b.substring(0,-1==b.indexOf("#")?b.length:b.indexOf("#"));e.substring(0,-1==b.indexOf("?")?b.length:b.indexOf("?"));
return e=b.substring(b.lastIndexOf("/")+1,b.length)},extractHostnameFromUrl:function(b){b=2<=b.length&&"/"===b[0]&&"/"===b[1]?b.substring(2).split("/")[0]:-1<b.indexOf("://")?b.split("/")[2]:b.split("/")[0];b=b.split(":")[0];return b=b.split("?")[0]},extractPathFromUrl:function(b){var e=b.substring(0,-1==b.indexOf("#")?b.length:b.indexOf("#"));e.substring(0,-1==b.indexOf("?")?b.length:b.indexOf("?"));return e=b.substring(0,b.lastIndexOf("/"))},extractFilePath:function(b){var e=b.lastIndexOf("/");
return b.slice(0,e+1)},extractFileExt:function(b,d){d=d||[];for(var a=0;a<d.length;a++){var c=d[a].toLowerCase();if(b.slice(-c.length).toLowerCase()===c)break}if(a<d.length)return d[a];d=b.lastIndexOf(".");return 0<=d?b.slice(d):""},mergeAttributes:d,compareObjects:f,displayIsHighDpi:function(b){return matchMedia("(webkit-min-device-pixel-ratio: 3), (min-device-pixel-ratio: 3), (min-resolution: "+b+"dpi)").matches},deviceIsMobilePhone:function(){return/Android|iPhone|IEMobile|WPDesktop/i.test(navigator.userAgent)},
SetOfStrings:b}}(),MathUtils=function(){function k(b,d){"undefined"===typeof d&&(d=1E-12);return b>-d&&b<d}function d(b,d,a){var c=vec3.create(),e=vec3.create(),f=vec3.create();vec3.sub(c,d,b);vec3.sub(e,a,b);vec3.cross(f,c,e);return f}function f(b,d){return{a:d[0],b:d[1],c:d[2],d:-vec3.dot(b,d)}}var b=function(){var b=vec3.create(),d=vec3.create(),a=vec3.create(),c=vec3.create(),f=vec3.create();return function(e,g,h,m,q){vec3.sub(b,m,h);vec3.sub(d,q,h);vec3.cross(a,g,d);m=vec3.dot(b,a);if(k(m,1E-9))return!1;
q=1/m;vec3.sub(c,e,h);h=vec3.dot(c,a)*q;if(0>h||1<h)return!1;vec3.cross(f,c,b);m=vec3.dot(g,f)*q;if(0>m||1<h+m)return!1;q*=vec3.dot(d,f);if(0>q)return!1;var l={};l.t=q;l.p=vec3.create();l.u=h;l.v=m;vec3.scaleAndAdd(l.p,e,g,q);return l}}();return{isZero:k,sameValue:function(b,d,a){return k(b-d,a)},isPowerOfTwo:function(b){return 0===(b&b-1)},sphericalToCartesian:function(b,d,a){var c=Math.cos(d);d=Math.sin(d);var e=Math.cos(a);a=Math.sin(a);var f=vec3.create();f[0]=b*d*e;f[1]=b*c;f[2]=b*d*a;return f},
cartesianToSpherical:function(b,d,a){var c=vec3.create();c[0]=Math.sqrt(b*b+a*a+d*d);c[1]=Math.acos(d/c[0]);d=Math.sqrt(b*b+a*a);c[2]=0===d?0:Math.asin(a/d);0>b&&(c[2]=Math.PI-c[2]);return c},getNormalFromPoints:d,getPlane:function(b,d,a,c){return{a:b,b:d,c:a,d:c}},getPlaneFromPointNormal:f,getPlaneFromPoints:function(b,g,a){g=d(b,g,a);return f(b,g)},rayPlaneIntersection:function(b,d,a){var c=a.a*d[0]+a.b*d[1]+a.c*d[2];if(k(c,1E-12))return!1;a=-(a.a*b[0]+a.b*b[1]+a.c*b[2]+a.d)/c;if(0>a)return!1;c=
{};c.t=a;c.p=vec3.create();vec3.scaleAndAdd(c.p,b,d,a);return c},rayTriangleIntersection:b,hsvToRgb:function(b,d,a){var c=b/60-Math.floor(b/60),e=a*(1-d),f=a*(1-c*d);d=a*(1-(1-c)*d);switch(Math.floor(b/60)%6){case 0:var g=a;var h=d;var k=e;break;case 1:g=f;h=a;k=e;break;case 2:g=e;h=a;k=d;break;case 3:g=e;h=f;k=a;break;case 4:g=d;h=e;k=a;break;case 5:g=a,h=e,k=f}return WebGL.RGB(g,h,k)}}}(),gl=null,Renderer=function(){var k,d;return{performanceData:{bufferCount:0,bufferBindCount:0,bufferTotalSize:0,
meshCopyCount:0,shaderCount:0,shaderSwitchCount:0,textureBindCount:0,uniformSetCount:0},setBlend:function(d){d!==this.currentState.blend&&(d?gl.enable(gl.BLEND):gl.disable(gl.BLEND),this.currentState.blend=d)},setDepthTest:function(d){d!==this.currentState.depthTest&&(d?gl.enable(gl.DEPTH_TEST):gl.disable(gl.DEPTH_TEST),this.currentState.depthTest=d)},setDepthWrite:function(d){d!==this.currentState.depthWrite&&(d?gl.depthMask(!0):gl.depthMask(!1),this.currentState.depthWrite=d)},pushState:function(){var d=
this.currentState;d={blend:d.blend,depthTest:d.depthTest,depthWrite:d.depthWrite};this.stateStack.push(d);this.currentState=d},popState:function(){if(1===this.stateStack.length)throw"Renderer.popState: Cannot pop last element.";this.stateStack.pop();var d=this.stateStack[this.stateStack.length-1];this.setBlend(d.blend);this.setDepthTest(d.depthTest);this.setDepthWrite(d.depthWrite);this.currentState=d},getWebGLExtensions:function(){function d(b){switch(b){case "WEBGL_compressed_texture_s3tc":b=gl.getExtension("WEBGL_compressed_texture_s3tc")||
gl.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;default:b=gl.getExtension(b)}return b}var b={};b.CompressedTextureS3TC=d("WEBGL_compressed_texture_s3tc");b.StandardDerivatives=d("OES_standard_derivatives");b.TextureFilterAnisotropic=d("EXT_texture_filter_anisotropic");this.webGLExtensions=b},initialize:function(f){gl=f;WebGL.initialize();this.getWebGLExtensions();gl.enable(gl.BLEND);gl.enable(gl.DEPTH_TEST);gl.depthMask(!0);this.stateStack=
[{blend:!0,depthTest:!0,depthWrite:!0}];this.currentState=this.stateStack[0];this.currentBuffer=this.currentShaderProgram=null;this.vertexAttribArrayEnabled=[];this.shaderCache={};this.bufferCache={};this.mapEnabled={diffuse:!0,specular:!0,light:!0,normal:!0};this.boundTextures=[null,null,null,null];this.timeFrameBegin=void 0;this.initializeTextures();this.initializeDrawing();this.initializePicking();d=k=0;this.framesPerSecond=null},setViewport:function(d,b){b=window.innerWidth||document.documentElement.clientWidth;
var e=window.innerHeight||document.documentElement.clientHeight;b=Framework.isEmbedded?Framework.container.clientWidth:b;e=Framework.isEmbedded?Framework.container.clientHeight:e;var f=gl.canvas;f.style.position=Framework.isEmbedded?"absolute":"fixed";f.style.top=0;f.style.left=0;f.setAttribute("width",b);f.setAttribute("height",e);b=d.x;e=d.y;f=d.width;var a=d.height;mat4.ortho(this.mScreen,b,b+f,e+a,e,-1,1);gl.viewport(b,e,f,a);WebGL.renderTargetState.currentViewport=[d.x,d.y,d.width,d.height]},
setShaderProgram:function(d){if(d!==this.currentShaderProgram){gl.useProgram(d);var b;if(d)for(b=0;b<d.attributes.length;b++)this.vertexAttribArrayEnabled[b]||(gl.enableVertexAttribArray(b),this.vertexAttribArrayEnabled[b]=!0);else b=0;for(;this.vertexAttribArrayEnabled[b];)gl.disableVertexAttribArray(b),this.vertexAttribArrayEnabled[b]=!1,b++;this.currentShaderProgram=d;this.performanceData.shaderSwitchCount++}},bindBuffer:function(d){d!==this.currentBuffer&&(null!==d&&(d.bind(this.currentShaderProgram),
this.performanceData.bufferBindCount++),this.currentBuffer=d)},bindTexture:function(d,b){gl.activeTexture([gl.TEXTURE0,gl.TEXTURE1,gl.TEXTURE2,gl.TEXTURE3][d]);gl.bindTexture(gl.TEXTURE_2D,b);this.boundTextures[d]=b;this.performanceData.textureBindCount++},updateStatistics:function(f){0===k?(k=f,d=0):d++;f=(f-k)/1E3;2<=f&&(this.framesPerSecond=d/f,k=0)},frameBegin:function(d){var b=this.performanceData;b.bufferBindCount=0;b.shaderSwitchCount=0;b.textureBindCount=0;b.uniformSetCount=0;this.timeFrameBegin=
d},frameEnd:function(){}}}();
(function(k){function d(c,b){var d=WebGL.shaderPosition;k.setShaderProgram(d);gl.uniform4fv(d.uColor,c);gl.uniformMatrix4fv(d.uMatP,!1,b);gl.uniformMatrix4fv(d.uMatMV,!1,e);gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.vertexAttribPointer(d.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.TRIANGLES,0,6)}function f(a,d,e,f){var c=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,c);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=WebGL.shaderPositionTexCoord;k.setShaderProgram(a);gl.activeTexture(gl.TEXTURE0);
gl.bindTexture(gl.TEXTURE_2D,e);gl.uniform1i(a.uSampler,0);gl.uniform4fv(a.uColor,d);gl.uniformMatrix4fv(a.uMatP,!1,f);gl.uniformMatrix4fv(a.uMatMV,!1,b);gl.vertexAttribPointer(a.aPosition,3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(a.aTexCoord,2,gl.FLOAT,!1,20,12);gl.drawArrays(gl.TRIANGLE_FAN,0,4);gl.deleteBuffer(c)}var b,e,g,a;k.drawScreenHorLine=function(a,b,f,g){e[0]=b-a;e[5]=1;e[12]=a;e[13]=f;d(g,this.mScreen)};k.drawScreenVerLine=function(a,b,f,g){e[0]=1;e[5]=f-b;e[12]=a;e[13]=b;d(g,this.mScreen)};
k.drawScreenHorLineT=function(a,b,d,e,g,k){k="undefined"!==typeof k?k:0;var c=k/32;k=(k+Math.abs(b-a))/32;var h=[];h.push(a,d,0,c,0,a,d+1,0,c,0,b,d+1,0,k,0,b,d,0,k,0);f(h,e,g,this.mScreen)};k.drawScreenVerLineT=function(a,b,d,e,g,k){k="undefined"!==typeof k?k:0;var c=(k+Math.abs(d-b))/32,h=[];h.push(a,b,0,k/32,0,a,d,0,c,0,a+1,d,0,c,0,a+1,b,0,c,0);f(h,e,g,this.mScreen)};k.drawScreenRectL=function(a,d,e,f,g){var c=[];c.push(a,d,0,a,f,0,a+1,f,0,a,d,0,a+1,f,0,a+1,d,0,a,f,0,a,f+1,0,e,f+1,0,a,f,0,e,f+1,
0,e,f,0,e,d+1,0,e,f+1,0,e+1,f+1,0,e,d+1,0,e+1,f+1,0,e+1,d+1,0,a+1,d,0,a+1,d+1,0,e+1,d+1,0,a+1,d,0,e+1,d+1,0,e+1,d,0);a=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(c),gl.STATIC_DRAW);c=WebGL.shaderPosition;k.setShaderProgram(c);gl.uniform4fv(c.uColor,g);gl.uniformMatrix4fv(c.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(c.uMatMV,!1,b);gl.vertexAttribPointer(c.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.TRIANGLES,0,24);gl.deleteBuffer(a)};k.drawScreenRectF=
function(c,b,d,f,g){var h=WebGL.shaderPosition;k.setShaderProgram(h);gl.uniform4fv(h.uColor,g);e[0]=d-c;e[5]=f-b;e[12]=c;e[13]=b;gl.uniformMatrix4fv(h.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(h.uMatMV,!1,e);gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.vertexAttribPointer(h.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.TRIANGLES,0,6)};k.drawScreenRectLT=function(a,d,e,f,g,C,q){q="undefined"!==typeof q?q:0;var c=Math.abs(e-a),h=Math.abs(f-d),m=q/32,l=(q+h)/32,r=(q+h+c)/32,B=(q+h+c+h)/32;c=(q+h+c+h+c)/32;
q=[];q.push(a,d,0,m,0,a,f,0,l,0,a+1,f,0,l,0,a,d,0,m,0,a+1,f,0,l,0,a+1,d,0,m,0,a,f,0,l,0,a,f+1,0,l,0,e,f+1,0,r,0,a,f,0,l,0,e,f+1,0,r,0,e,f,0,r,0,e,d+1,0,B,0,e,f+1,0,r,0,e+1,f+1,0,r,0,e,d+1,0,B,0,e+1,f+1,0,r,0,e+1,d+1,0,B,0,a+1,d,0,c,0,a+1,d+1,0,c,0,e+1,d+1,0,B,0,a+1,d,0,c,0,e+1,d+1,0,B,0,e+1,d,0,B,0);a=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(q),gl.STATIC_DRAW);d=WebGL.shaderPositionTexCoord;k.setShaderProgram(d);gl.activeTexture(gl.TEXTURE0);
gl.bindTexture(gl.TEXTURE_2D,C);gl.uniform1i(d.uSampler,0);gl.uniform4fv(d.uColor,g);gl.uniformMatrix4fv(d.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(d.uMatMV,!1,b);gl.vertexAttribPointer(d.aPosition,3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(d.aTexCoord,2,gl.FLOAT,!1,20,12);gl.drawArrays(gl.TRIANGLES,0,24);gl.deleteBuffer(a)};k.drawScreenRectFT=function(c,b,d,f,h,C,q,p,A,n,u){"undefined"===typeof u&&(u=gl.NEAREST);var m=WebGL.shaderPositionTextured;k.setShaderProgram(m);gl.uniform4fv(m.uColor,n);
e[0]=d-c;e[5]=f-b;e[12]=c;e[13]=b;g[0]=p-C;g[5]=A-q;g[12]=C;g[13]=q;gl.uniformMatrix4fv(m.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(m.uMatMV,!1,e);gl.uniformMatrix4fv(m.uMatTexture,!1,g);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,h);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,u);gl.uniform1i(m.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.vertexAttribPointer(m.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.TRIANGLES,0,6)};k.drawScreenRectLW=function(a,b,d,e,f,g,k,p,A){this.drawScreenRectF(a,
b,a+f,e-p,A);this.drawScreenRectF(a,e-p,d-k,e,A);this.drawScreenRectF(d-k,b+g,d,e,A);this.drawScreenRectF(a+f,b,d,b+g,A)};k.drawScreenPolygonF=function(a,d,e,f,g){var c,h=[];for(c=0;c<a.length;c++){var m=a[c];h.push(m[0],m[1],m[2],d,e,f,g)}d=[];for(c=0;c<a.length-2;c++)d.push(0,c+1,c+2);a=WebGL.createVertexBuffer(h);c=WebGL.createIndexBuffer(d);h=WebGL.shaderPositionColor;k.setShaderProgram(h);gl.uniformMatrix4fv(h.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(h.uMatMV,!1,b);gl.bindBuffer(gl.ARRAY_BUFFER,
a);gl.vertexAttribPointer(h.aPosition,3,gl.FLOAT,!1,28,0);gl.vertexAttribPointer(h.aColor,4,gl.FLOAT,!1,28,12);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,c);gl.drawElements(gl.TRIANGLES,d.length,gl.UNSIGNED_SHORT,0);gl.deleteBuffer(a);gl.deleteBuffer(c)};k.drawScreenPolygonFT=function(a,d,e,f,g,C){var c=WebGL.createVertexBuffer(a),h=WebGL.shaderPositionTexCoord;k.setShaderProgram(h);gl.uniform4f(h.uColor,d,e,f,g);gl.uniformMatrix4fv(h.uMatP,!1,this.mScreen);gl.uniformMatrix4fv(h.uMatMV,!1,b);gl.activeTexture(gl.TEXTURE0);
gl.bindTexture(gl.TEXTURE_2D,C);gl.uniform1i(h.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,c);gl.vertexAttribPointer(h.aPosition,3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(h.aTexCoord,2,gl.FLOAT,!1,20,12);gl.drawArrays(gl.TRIANGLES,0,Math.floor(a.length/5));gl.deleteBuffer(c)};k.initializeDrawing=function(){this.mScreen=mat4.create();b=mat4.create();e=mat4.create();g=mat4.create();var c=[0,0,0,0,1,0,1,1,0,1,1,0,1,0,0,0,0,0];a=WebGL.createVertexBuffer(c);c=[0,0,0,0,1,0,1,1,0,1,0,0];WebGL.createVertexBuffer(c);
c=[0,0,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1];WebGL.createVertexBuffer(c)}})(Renderer);
(function(k){k.drawLine=function(d,f,b,e,g){var a=[];a.push(d[0],d[1],d[2]);a.push(f[0],f[1],f[2]);d=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,d);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=WebGL.shaderPosition;k.setShaderProgram(a);gl.uniform4fv(a.uColor,b);gl.uniformMatrix4fv(a.uMatP,!1,e);gl.uniformMatrix4fv(a.uMatMV,!1,g);gl.vertexAttribPointer(a.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.LINES,0,2);gl.deleteBuffer(d)};k.drawPolyline=function(d,f,b,e){for(var g=
[],a=0;a<d.length;a++){var c=d[a];g.push(c[0],c[1],c[2])}a=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(g),gl.STATIC_DRAW);g=WebGL.shaderPosition;k.setShaderProgram(g);gl.uniform4fv(g.uColor,f);gl.uniformMatrix4fv(g.uMatP,!1,b);gl.uniformMatrix4fv(g.uMatMV,!1,e);gl.vertexAttribPointer(g.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.LINE_STRIP,0,d.length);gl.deleteBuffer(a)};k.drawQuad=function(d,f,b,e,g,a,c,m){var l=[];l.push(d[0][0],d[0][1],d[0][2],
e,g,a,c,d[1][0],d[1][1],d[1][2],e,g,a,c,d[2][0],d[2][1],d[2][2],e,g,a,c,d[3][0],d[3][1],d[3][2],e,g,a,c);d=[0,1,2,2,3,0];l=WebGL.createVertexBuffer(l);e=WebGL.createIndexBuffer(d);g=WebGL.shaderPositionColor;k.setShaderProgram(g);gl.uniformMatrix4fv(g.uMatP,!1,f);gl.uniformMatrix4fv(g.uMatMV,!1,b);gl.bindBuffer(gl.ARRAY_BUFFER,l);gl.vertexAttribPointer(g.aPosition,3,gl.FLOAT,!1,28,0);gl.vertexAttribPointer(g.aColor,4,gl.FLOAT,!1,28,12);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,e);m?gl.drawElements(gl.TRIANGLES,
d.length,gl.UNSIGNED_SHORT,0):gl.drawElements(gl.LINE_LOOP,d.length,gl.UNSIGNED_SHORT,0);gl.deleteBuffer(l);gl.deleteBuffer(e)};k.drawTexturedQuad=function(d,f,b,e,g,a,c,m,l){var r=[];r.push(d[0][0],d[0][1],d[0][2],a[0].x,a[0].y,d[1][0],d[1][1],d[1][2],a[1].x,a[1].y,d[2][0],d[2][1],d[2][2],a[2].x,a[2].y,d[3][0],d[3][1],d[3][2],a[3].x,a[3].y);d=[0,1,2,2,3,0];r=WebGL.createVertexBuffer(r);a=WebGL.createIndexBuffer(d);var h=WebGL.shaderPositionTexCoord;k.setShaderProgram(h);gl.uniform4f(h.uColor,f,b,
e,g);gl.uniformMatrix4fv(h.uMatP,!1,m);gl.uniformMatrix4fv(h.uMatMV,!1,l);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,c);gl.uniform1i(h.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,r);gl.vertexAttribPointer(h.aPosition,3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(h.aTexCoord,2,gl.FLOAT,!1,20,12);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,a);gl.drawElements(gl.TRIANGLES,d.length,gl.UNSIGNED_SHORT,0);gl.deleteBuffer(r);gl.deleteBuffer(a)};k.drawTexturedTriangles=function(d,f,b,e,g,a,c,m){var l=
WebGL.createVertexBuffer(d),r=WebGL.shaderPositionTexCoord;k.setShaderProgram(r);gl.uniform4f(r.uColor,f,b,e,g);gl.uniformMatrix4fv(r.uMatP,!1,c);gl.uniformMatrix4fv(r.uMatMV,!1,m);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,a);gl.uniform1i(r.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,l);gl.vertexAttribPointer(r.aPosition,3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(r.aTexCoord,2,gl.FLOAT,!1,20,12);gl.drawArrays(gl.TRIANGLES,0,Math.floor(d.length/5));gl.deleteBuffer(l)};k.drawPolygon=
function(d,f,b,e,g,a,c,m){var l,r=[];for(l=0;l<d.length;l++){var h=d[l];r.push(h[0],h[1],h[2],e,g,a,c)}e=[];if(m)for(l=0;l<d.length-2;l++)e.push(0,l+1,l+2);else for(l=0;l<d.length;l++)e.push(l);d=WebGL.createVertexBuffer(r);l=WebGL.createIndexBuffer(e);r=WebGL.shaderPositionColor;k.setShaderProgram(r);gl.uniformMatrix4fv(r.uMatP,!1,f);gl.uniformMatrix4fv(r.uMatMV,!1,b);gl.bindBuffer(gl.ARRAY_BUFFER,d);gl.vertexAttribPointer(r.aPosition,3,gl.FLOAT,!1,28,0);gl.vertexAttribPointer(r.aColor,4,gl.FLOAT,
!1,28,12);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,l);m?gl.drawElements(gl.TRIANGLES,e.length,gl.UNSIGNED_SHORT,0):gl.drawElements(gl.LINE_LOOP,e.length,gl.UNSIGNED_SHORT,0);gl.deleteBuffer(d);gl.deleteBuffer(l)}})(Renderer);
(function(k){k.getShaderProgram=function(d){var f="shader_",b=Object.keys(d);if(0===b.length)f+="basic";else for(var e=0;e<b.length;e++)f+=b[e],e<b.length-1&&(f+="_");d.mapLight&&(d.mapLightLegacy=!0);b=k.shaderCache[f];if(!b){e=0;(d.mapDiffuse||d.mapSpecular||d.mapNormal)&&e++;d.mapLight&&e++;b="precision highp float;\nprecision highp int;\n\n"+(d.lighting?"struct PhongMaterial {\n    vec3  emissive;\n    vec3  ambient;\n    vec3  diffuse;\n    vec3  specular;\n    float shininess;\n    float opacity;\n};\n\nconst int dirLightCount = 2;\n\nstruct DirLight {\n    vec3 color;\n    vec3 direction;\n};\n\nconst int hemiLightCount = 2;\n\nstruct HemiLight {\n    vec3 color1;\n    vec3 color2;\n    vec3 direction;\n};\n\nuniform vec3          ambientColor;\nuniform PhongMaterial material;\nuniform DirLight      dirLights[dirLightCount];\nuniform HemiLight     hemiLights[hemiLightCount];\n":
"struct BasicMaterial {\n    vec3  color;\n    float opacity;\n};\n\nuniform BasicMaterial material;\n");b+="\nattribute vec3 aPosition;\n";d.lighting&&(b+="attribute vec3 aNormal;\n");0<e&&(b=b+(1===e?"attribute vec2 aTexCoord;\n":"attribute vec2 aTexCoord1;\nattribute vec2 aTexCoord2;\n")+"\n");d.lighting&&(b+="varying vec4 vVertex;\nvarying vec3 vNormal;\n");if(d.mapDiffuse||d.mapSpecular||d.mapNormal)b+="varying vec2 vTexCoordDiffuse;\n";d.mapLight&&(b+="varying vec2 vTexCoordLight;\n");b+="\nuniform mat4 uMatP;\nuniform mat4 uMatMV;\n";
b+="\nvoid main(void) {\n";b+="    vec4 vertex = uMatMV * vec4(aPosition, 1.0);     // Vertex position in eye space\n";d.lighting&&(b+="    vec3 normal = normalize(mat3(uMatMV) * aNormal); // Vertex normal in eye space\n");b+="    gl_Position = uMatP * vertex;\n";d.lighting&&(b+="    vVertex = vertex;\n    vNormal = normal;\n");if(d.mapDiffuse||d.mapSpecular||d.mapNormal)b+=1===e?"    vTexCoordDiffuse = aTexCoord;\n":"    vTexCoordDiffuse = aTexCoord1;\n";d.mapLight&&(b+=1===e?"    vTexCoordLight = aTexCoord;\n":
"    vTexCoordLight = aTexCoord2;\n");b+="}";e="";d.mapNormal&&(e+="#extension GL_OES_standard_derivatives : enable\n\n");e=e+"precision highp float;\nprecision highp int;\n\n"+(d.lighting?"struct PhongMaterial {\n    vec3  emissive;\n    vec3  ambient;\n    vec3  diffuse;\n    vec3  specular;\n    float shininess;\n    float opacity;\n};\n\nconst int dirLightCount = 2;\n\nstruct DirLight {\n    vec3 color;\n    vec3 direction;\n};\n\nconst int hemiLightCount = 2;\n\nstruct HemiLight {\n    vec3 color1;\n    vec3 color2;\n    vec3 direction;\n};\n\nuniform vec3          ambientColor;\nuniform PhongMaterial material;\nuniform DirLight      dirLights[dirLightCount];\nuniform HemiLight     hemiLights[hemiLightCount];\n":
"struct BasicMaterial {\n    vec3  color;\n    float opacity;\n};\n\nuniform BasicMaterial material;\n");e+="\n";d.lighting&&(e+="varying vec4 vVertex;\nvarying vec3 vNormal;\n");if(d.mapDiffuse||d.mapSpecular||d.mapNormal)e+="varying vec2 vTexCoordDiffuse;\n";d.mapLight&&(e+="varying vec2 vTexCoordLight;\n");e+="\n";d.mapDiffuse&&(e+="uniform sampler2D uSamplerDiffuse;\nuniform float     uMixFactorDiffuse;\n");d.mapSpecular&&(e+="uniform sampler2D uSamplerSpecular;\nuniform float     uMixFactorSpecular;\n");
d.mapLight&&(e+="uniform sampler2D uSamplerLight;\nuniform float     uMixFactorLight;\nuniform float     uLightmapScale;\nuniform vec3      uLightmapOffset;\n");d.mapNormal&&(e+="uniform sampler2D uSamplerNormal;\nuniform float     uMixFactorNormal;\nuniform float     uNormalScale;\n");e+="\nvoid main(void) {\n";d.lighting?(e+="    vec3 colorEmissive = material.emissive;\n    vec3 colorDiffuse  = material.diffuse;\n    vec3 colorSpecular = vec3(1.0); // material.specular;\n\n    vec3 normal = normalize(vNormal); // Re-normalizing per fragment makes a difference\n\n    vec3 irradianceDiffuse  = vec3(0.0);\n    vec3 irradianceSpecular = vec3(0.0);\n\n",
d.ambientLight&&(e+="    irradianceDiffuse += ambientColor;\n\n"),d.mapDiffuse&&(e+="    vec3 diffuseTexel    = vec3(texture2D(uSamplerDiffuse, vTexCoordDiffuse));\n    vec3 diffuseTexelMix = mix(vec3(1.0), diffuseTexel, uMixFactorDiffuse);\n    colorDiffuse *= diffuseTexelMix;\n\n"),d.mapLight&&!d.mapLightLegacy&&(e+="    vec3 lightTexel    = vec3(texture2D(uSamplerLight, vTexCoordLight));\n    vec3 lightTexelMix = mix(uLightmapOffset, lightTexel, uMixFactorLight);\n    irradianceDiffuse += uLightmapScale * (lightTexelMix - uLightmapOffset);\n\n"),
d.mapNormal&&(e+="    // Adapted from http://hacksoflife.blogspot.gr/2009/11/per-pixel-tangent-space-normal-mapping.html\n    vec3 normalTexel    = vec3(texture2D(uSamplerNormal, vTexCoordDiffuse));\n    vec3 normalTexelMix = mix(vec3(0.5, 0.5, 1.0), normalTexel, uMixFactorNormal);\n    vec3 mapNormal      = normalTexelMix * 2.0 - 1.0;\n    mapNormal.xy *= uNormalScale;\n\n    vec3 qX  = dFdx(vVertex.xyz);\n    vec3 qY  = dFdy(vVertex.xyz);\n\n    vec2 stX = dFdx(vTexCoordDiffuse);\n    vec2 stY = dFdy(vTexCoordDiffuse);\n\n    vec3 s = normalize( qX * stY.t - qY * stX.t);\n    vec3 t = normalize(-qX * stY.s + qY * stX.s);\n    mat3 matTBN = mat3(s, t, normal);\n\n    normal = normalize(matTBN * mapNormal);\n\n"),
e+=d.mapSpecular?"    vec3  specularTexel    = vec3(texture2D(uSamplerSpecular, vTexCoordDiffuse));\n    vec3  specularTexelMix = mix(vec3(1.0), specularTexel, uMixFactorSpecular);\n    float specularStrength = specularTexelMix.r;\n":"    float specularStrength = 1.0;\n",e+="\n",d.directLight&&(e+="    // Note that pow(0, 0) is undefined as per the GLSL spec and it will produce either\n    // a zero or a NaN. The latter (eg. in the case of the Intel HD Graphics 4000) will\n    // result in black output.\n\n    vec3  vertexToEye = normalize(-vVertex.xyz);  // Re-normalizing per fragment makes a difference\n    float specularNormalization = (material.shininess + 2.0) / 8.0;\n\n    // Directional lights\n    for (int i = 0; i < dirLightCount; i++) {\n        DirLight light    = dirLights[i];\n        vec3     lightDir = normalize(light.direction);\n        // Diffuse\n        float dotNL        = max(dot(normal, -lightDir), 0.0);\n        irradianceDiffuse += dotNL * light.color;\n        // Specular\n        vec3  halfVector     = normalize(-lightDir + vertexToEye);\n        float dotNH          = max(dot(normal, halfVector), 0.0);\n        float specularWeight = pow(dotNH, material.shininess) * dotNL;\n        float dotLH          = max(dot(-lightDir, halfVector), 0.0);\n        float fresnel        = pow(1.0 - dotLH, 5.0);\n        vec3  schlick        = (1.0 - material.specular) * fresnel + material.specular;\n        irradianceSpecular += specularStrength * specularNormalization * light.color * specularWeight * schlick;\n    }\n\n    // Hemisphere lights\n    for (int i = 0; i < hemiLightCount; i++) {\n        HemiLight light    = hemiLights[i];\n        vec3      lightDir = normalize(light.direction);\n        // Diffuse\n        float lightValue   = 0.5 + 0.5 * dot(normal, -lightDir);\n        vec3  lightColor   = mix(light.color2, light.color1, lightValue);\n        irradianceDiffuse += lightColor;\n        // Specular\n        vec3  halfVector1     = normalize(-lightDir + vertexToEye);\n        vec3  halfVector2     = normalize( lightDir + vertexToEye);\n        float dotNL1          = max(dot(normal, -lightDir), 0.0);\n        float dotNL2          = max(dot(normal,  lightDir), 0.0);\n        float dotNH1          = max(0.5 * dot(normal, halfVector1) + 0.5, 0.0);\n        float dotNH2          = max(0.5 * dot(normal, halfVector2) + 0.5, 0.0);\n        float specularWeight1 = pow(dotNH1, material.shininess) * dotNL1;\n        float specularWeight2 = pow(dotNH2, material.shininess) * dotNL2;\n        float dotLH1          = max(dot(-lightDir, halfVector1), 0.0);\n        float dotLH2          = max(dot( lightDir, halfVector2), 0.0);\n        float fresnel1        = pow(1.0 - dotLH1, 5.0);\n        float fresnel2        = pow(1.0 - dotLH2, 5.0);\n        vec3  schlick1        = (1.0 - material.specular) * fresnel1 + material.specular;\n        vec3  schlick2        = (1.0 - material.specular) * fresnel2 + material.specular;\n        irradianceSpecular += specularStrength * specularNormalization * lightColor * (specularWeight1 * schlick1 + specularWeight2 * schlick2);\n    }\n\n"),
e+="    colorDiffuse  *= irradianceDiffuse;\n    colorSpecular *= irradianceSpecular;\n\n",d.mapLight&&d.mapLightLegacy&&(e+="    vec3 lightTexel    = vec3(texture2D(uSamplerLight, vTexCoordLight));\n    vec3 lightTexelMix = mix(uLightmapOffset, lightTexel, uMixFactorLight);\n    colorDiffuse += uLightmapScale * (lightTexelMix - uLightmapOffset);\n\n"),e+="    gl_FragColor = vec4((colorEmissive + colorDiffuse + colorSpecular) * material.opacity, material.opacity);\n"):(e+="    vec3 colorDiffuse  = material.color;\n\n",
d.mapDiffuse&&(e+="    vec3 diffuseTexel    = vec3(texture2D(uSamplerDiffuse, vTexCoordDiffuse));\n    vec3 diffuseTexelMix = mix(vec3(1.0), diffuseTexel, uMixFactorDiffuse);\n    colorDiffuse *= diffuseTexelMix;\n\n"),e+="    gl_FragColor = vec4(colorDiffuse * material.opacity, material.opacity);\n");b=WebGL.ShaderProgram(b,e+"}",f,{print:!1});b.options=d;b.uniformsCache={};d=b;e=d.options;var g={};if(e.lighting){g.uMaterial={emissive:d["material.emissive"],ambient:d["material.ambient"],diffuse:d["material.diffuse"],
specular:d["material.specular"],shininess:d["material.shininess"],opacity:d["material.opacity"]};var a;g.uDirLights=[];for(a=0;2>a;a++)g.uDirLights.push({color:d["dirLights["+a+"].color"],direction:d["dirLights["+a+"].direction"]});g.uHemiLights=[];for(a=0;2>a;a++)g.uHemiLights.push({color1:d["hemiLights["+a+"].color1"],color2:d["hemiLights["+a+"].color2"],direction:d["hemiLights["+a+"].direction"]});g.uAmbientColor=d.ambientColor}else g.uMaterial={color:d["material.color"],opacity:d["material.opacity"]};
g.uMatP=d.uMatP;g.uMatMV=d.uMatMV;e.mapDiffuse&&(g.uSamplerDiffuse=d.uSamplerDiffuse,g.uMixFactorDiffuse=d.uMixFactorDiffuse);e.mapSpecular&&(g.uSamplerSpecular=d.uSamplerSpecular,g.uMixFactorSpecular=d.uMixFactorSpecular);e.mapLight&&(g.uSamplerLight=d.uSamplerLight,g.uMixFactorLight=d.uMixFactorLight,g.uLightmapScale=d.uLightmapScale,g.uLightmapOffset=d.uLightmapOffset);e.mapNormal&&(g.uSamplerNormal=d.uSamplerNormal,g.uMixFactorNormal=d.uMixFactorNormal,g.uNormalScale=d.uNormalScale);d.uniforms=
g;k.shaderCache[f]=b;k.performanceData.shaderCount++}return b}})(Renderer);
(function(k){function d(){this.id=e++;this.attributes=[];this.data=null;this.vertexCount=this.vertexSize=0;this.webGLVertexBuffer=null}function f(){this.primitiveType=gl.TRIANGLES;this.shaderProgram=null;this.textures=[];this.texturesByType={};this.texCoordSources=[!1,!1,!1,!1];this.buffers=[];this.timeFirstUse=void 0}function b(b){this.node=b;this.streams=[];this.needsUpdate=!0}var e=0;d.prototype.addAttribute=function(b,a,c,d){var e={};e.name=b;e.size=a;e.type=c;e.offset=this.vertexSize;this.attributes.push(e);
switch(c){case gl.BYTE:case gl.UNSIGNED_BYTE:var f=1;break;case gl.SHORT:case gl.UNSIGNED_SHORT:f=2;break;case gl.FLOAT:f=4}d&&(this.data=d);this.vertexSize+=a*f};d.prototype.bind=function(b){this.webGLVertexBuffer?gl.bindBuffer(gl.ARRAY_BUFFER,this.webGLVertexBuffer):(this.webGLVertexBuffer=gl.createBuffer(),gl.bindBuffer(gl.ARRAY_BUFFER,this.webGLVertexBuffer),gl.bufferData(gl.ARRAY_BUFFER,this.data,gl.STATIC_DRAW));for(var a=this.vertexSize,c=0;c<this.attributes.length;c++){var d=this.attributes[c];
gl.vertexAttribPointer(b[d.name],d.size,d.type,!1,a,d.offset)}};d.prototype.releaseWebGLResources=function(){this.webGLVertexBuffer&&(gl.deleteBuffer(this.webGLVertexBuffer),delete this.webGLVertexBuffer)};f.prototype.releaseWebGLResources=function(){for(var b=0;b<this.buffers.length;b++)this.buffers[b].releaseWebGLResources()};f.prototype.createBuffer=function(b,a){function c(a){var c=3*a;a*=2;f&&(A[n++]=f[c+0],A[n++]=f[c+1],A[n++]=f[c+2]);g&&(A[n++]=g[c+0],A[n++]=g[c+1],A[n++]=g[c+2]);h&&(A[n++]=
h[a+0],A[n++]=h[a+1]);k&&(A[n++]=k[a+0],A[n++]=k[a+1])}a=a||{};a="undefined"!==typeof a.wireframe?a.wireframe:!1;var e=this.materialStream,f=e.positions,g=e.normals,h=this.texCoordSources[0]?e.texCoords[0]:null,k=this.texCoordSources[1]?e.texCoords[1]:null;e=new d;f&&e.addAttribute("aPosition",3,gl.FLOAT);g&&e.addAttribute("aNormal",3,gl.FLOAT);h&&k?(e.addAttribute("aTexCoord1",2,gl.FLOAT),e.addAttribute("aTexCoord2",2,gl.FLOAT)):(h||k)&&e.addAttribute("aTexCoord",2,gl.FLOAT);f&&f.length/3!==b&&console.warning("RendererStream.createBuffer: Incomplete position data in material stream.");
g&&g.length/3!==b&&console.warning("RendererStream.createBuffer: Incomplete normal data in material stream.");h&&h.length/2!==b&&console.warning("RendererStream.createBuffer: Incomplete channel 0 texture coordinate data in material stream.");k&&k.length/2!==b&&console.warning("RendererStream.createBuffer: Incomplete channel 1 texture coordinate data in material stream.");var q=a?6*b:b,p=0;f&&(p+=12*q);g&&(p+=12*q);h&&(p+=8*q);k&&(p+=8*q);var A=new Float32Array(p),n=0;if(a)for(a=0;a<b;a+=3)c(a+0),
c(a+1),c(a+1),c(a+2),c(a+2),c(a+0);else for(a=0;a<b;a++)c(a);e.data=A;return e};f.prototype.bindBuffers=function(b){for(b=0;b<this.buffers.length;b++)k.bindBuffer(this.buffers[b])};f.prototype.unbindBuffers=function(b){gl.bindBuffer(gl.ARRAY_BUFFER,null)};f.prototype.registerTexture=function(b,a){0<b.textures.length&&(b={type:a.type,map:b,texCoordSource:a.texCoordSource,lastLevelUsed:void 0,timeFirstUse:void 0},this.textures.push(b),this.texturesByType[a.type]=b,this.texCoordSources[a.texCoordSource]=
!0)};f.prototype.bindTextures=function(){for(var b=0;b<this.textures.length;b++){var a=this.textures[b],c=a.map;if(c.textures[1]&&c.textures[1].webGLTexture&&c.textures[1].enabled){var d=c.textures[1];c=1}else if(c.textures[0]&&c.textures[0].webGLTexture&&c.textures[0].enabled)d=c.textures[0],c=0;else{switch(a.type){case "diffuse":d=k.defaultTexture;break;case "specular":d=k.defaultTexture;break;case "light":d=k.defaultTextureHalfIntensity;break;case "normal":d=k.defaultTextureNormal}c=null}k.mapEnabled[a.type]||
void 0===a.timeFirstUse?void 0===a.timeFirstUse&&null!==c&&(a.timeFirstUse=k.timeFrameBegin):a.timeFirstUse=void 0;a.lastLevelUsed=c;k.bindTexture(b,d.webGLTexture)}};f.prototype.unbindTextures=function(){for(var b=0;b<this.textures.length;b++)k.bindTexture(b,null)};f.prototype.draw=function(b,a,c){k.pushState();var d=this.material;k.setBlend(d.blend);k.setDepthTest(d.depthTest);k.setDepthWrite(d.depthWrite);d=this.shaderProgram;k.setShaderProgram(d);void 0===this.timeFirstUse&&(this.timeFirstUse=
k.timeFrameBegin);this.bindBuffers(d);this.bindTextures();this.loadUniforms(b,a,c);gl.drawArrays(this.primitiveType,0,this.vertexCount);k.popState()};b.prototype.releaseWebGLResources=function(){for(var b=0;b<this.streams.length;b++)this.streams[b].releaseWebGLResources()};b.prototype.createRenderStreams=function(){this.releaseWebGLResources();var b=this.node,a=b.mesh;this.streams=[];for(var c=0;c<a.materialStreams.length;c++){var d=a.materialStreams[c];d=new k.PhongRenderStream(a,d.material,d,{wireframe:!1});
d.node=b;d.mWorld=mat4.clone(b.mWorld);k.visualizer&&k.visualizer.initializeStream(d);this.streams.push(d)}};k.RenderStreamBuffer=d;k.RenderStream=f;k.RenderNode=b})(Renderer);
(function(k){function d(b,a){a="undefined"===typeof a?{}:a;var c="undefined"===typeof a.recursive?!0:a.recursive;if(b.mesh){b.renderNode||(b.renderNode=new k.RenderNode(b));var e=b.renderNode;e.needsUpdate&&(e.createRenderStreams(),b.mesh.castShadow&&Viewer.shadowPlane?e.streamShadowPlane=k.createShadowPlaneRenderStream(b):!b.mesh.castShadow&&Viewer.shadowPlaneGrid&&(e.streamShadowPlaneGrid=k.createShadowPlaneRenderStream(b)),e.needsUpdate=!1)}if(c)for(c=0;c<b.children.length;c++)d(b.children[c],
a)}function f(b,a,c){k.setShaderProgram(b);gl.uniformMatrix4fv(b.uniforms.uMatP,!1,a.mProjection);if(b.options.lighting){a=b.uniforms;var d=c.ambient;d.enabled?gl.uniform3f(a.uAmbientColor,d.intensity*d.color[0],d.intensity*d.color[1],d.intensity*d.color[2]):gl.uniform3f(a.uAmbientColor,0,0,0);a=b.uniforms;var e=0;for(d=0;d<c.directional.length;d++){var f=c.directional[d];if(f.enabled){var g=f.eyeSpaceDirection;gl.uniform3f(a.uDirLights[e].color,f.intensity*f.color[0],f.intensity*f.color[1],f.intensity*
f.color[2]);gl.uniform3f(a.uDirLights[e].direction,g[0],g[1],g[2]);e++}}f=2-e;for(d=0;d<f;d++)gl.uniform3f(a.uDirLights[e].color,0,0,0),gl.uniform3f(a.uDirLights[e].direction,0,1,0),e++;a=b.uniforms;for(d=e=0;d<c.hemisphere.length;d++)if(f=c.hemisphere[d],f.enabled){g=f.intensity*f.color2[0];var C=f.intensity*f.color2[1],q=f.intensity*f.color2[2],p=f.eyeSpaceDirection;gl.uniform3f(a.uHemiLights[e].color1,f.intensity*f.color1[0],f.intensity*f.color1[1],f.intensity*f.color1[2]);gl.uniform3f(a.uHemiLights[e].color2,
g,C,q);gl.uniform3f(a.uHemiLights[e].direction,p[0],p[1],p[2]);e++}c=2-e;for(d=0;d<c;d++)gl.uniform3f(a.uHemiLights[e].color1,0,0,0),gl.uniform3f(a.uHemiLights[e].color2,0,0,0),gl.uniform3f(a.uHemiLights[e].direction,0,1,0),e++}c=b.options;a=b.uniforms;d=0;c.mapDiffuse&&gl.uniform1i(a.uSamplerDiffuse,d++);c.mapSpecular&&gl.uniform1i(a.uSamplerSpecular,d++);c.mapLight&&gl.uniform1i(a.uSamplerLight,d++);c.mapNormal&&gl.uniform1i(a.uSamplerNormal,d++);c=b.uniformsCache;b.options.lighting?(c.emissive=
new WebGL.RGB(void 0,void 0,void 0),c.ambient=new WebGL.RGB(void 0,void 0,void 0),c.diffuse=new WebGL.RGB(void 0,void 0,void 0),c.specular=new WebGL.RGB(void 0,void 0,void 0),c.shininess=void 0):c.color=new WebGL.RGB(void 0,void 0,void 0);c.opacity=void 0}function b(b,a,c){function d(a){var c;for(c=0;c<a.directional.length;c++){var d=a.directional[c];d.transformToEyeSpace(b.mView)}for(c=0;c<a.hemisphere.length;c++)d=a.hemisphere[c],d.transformToEyeSpace(b.mView)}d(a);d(c);for(var e=Object.keys(k.shaderCache),
g=0;g<e.length;g++){var h=k.shaderCache[e[g]];h.options.mapLight?f(h,b,c):f(h,b,a)}}var e=mat4.create();mat4.create();k.createRenderStreams=d;k.drawRenderStreams=function(d,a,c){c=c||{};c.lights1&&c.lights2&&b(a,c.lights1,c.lights2);for(var f=a.mProjection,g=0;g<d.length;g++){var k=d[g];k.node.enabled&&(mat4.multiply(e,a.mView,k.mWorld),k.draw(f,e,c))}}})(Renderer);
(function(k){function d(b,a,c){if(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2])gl.uniform3f(b,c[0],c[1],c[2]),a[0]=c[0],a[1]=c[1],a[2]=c[2],e.uniformSetCount++}function f(b,a){gl.uniform1f(b,void 0!==a.timeFirstUse?Math.min(1,(k.timeFrameBegin-a.timeFirstUse)/2E3):0);e.uniformSetCount++}function b(b,a,c,d){k.RenderStream.prototype.constructor.call(this);this.mesh=b;this.material=a;this.materialStream=c;this.initialize();this.serializeSourceData(d)}var e=k.performanceData;b.prototype=Object.create(k.RenderStream.prototype);
b.prototype.constructor=b;b.prototype.initialize=function(){var b=this.material,a=this.materialStream;this.shaderProgram=k.getMaterialShaderProgram(b);var c=this.shaderProgram.options;c.mapDiffuse&&this.registerTexture(b.maps.diffuse,{type:"diffuse",texCoordSource:0});c.mapSpecular&&this.registerTexture(b.maps.specular,{type:"specular",texCoordSource:0});c.mapLight&&this.registerTexture(b.maps.light,{type:"light",texCoordSource:1});c.mapNormal&&this.registerTexture(b.maps.normal,{type:"normal",texCoordSource:0});
for(b=0;b<this.textures.length;b++)if(c=this.textures[b],!a.texCoords[c.texCoordSource])throw"Material stream missing texture coordinate attribute "+c.texCoordSource+" (map '"+c.type+"').";};b.prototype.serializeSourceData=function(b){b=b||{};b="undefined"!==typeof b.wireframe?b.wireframe:!1;var a=this.materialStream,c=a.positions.length/3;a=a.dataId+"/"+this.material.id;var d=k.bufferCache[a];d||(d=this.createBuffer(c,{wireframe:b}),k.bufferCache[a]=d,e.bufferTotalSize+=d.data.length,e.bufferCount++);
this.buffers.push(d);this.primitiveType=b?gl.LINES:gl.TRIANGLES;this.vertexCount=b?6*c:c};b.prototype.loadUniforms=function(b,a,c){var g=this.shaderProgram;b=g.options;c=g.uniforms;g=g.uniformsCache;var l=this.material.color,r=Math.min(1,(k.timeFrameBegin-this.timeFirstUse)/1E3)*this.material.opacity;if(0===this.material.shininess){WebGL.RGB(0,0,0);var h=1}else h=Math.max(1,this.material.shininess);this.colorDiffuse=k.visualizer?k.visualizer.getColor(this,k.timeFrameBegin):l.diffuse;d(c.uMaterial.emissive,
g.emissive,l.emissive);d(c.uMaterial.ambient,g.ambient,l.ambient);d(c.uMaterial.diffuse,g.diffuse,this.colorDiffuse);d(c.uMaterial.specular,g.specular,l.specular);g.shininess!==h&&(gl.uniform1f(c.uMaterial.shininess,h),g.shininess=h,e.uniformSetCount++);g.opacity!==r&&(gl.uniform1f(c.uMaterial.opacity,r),g.opacity=r,e.uniformSetCount++);gl.uniformMatrix4fv(c.uMatMV,!1,a);e.uniformSetCount++;b.mapLight&&(a=this.material.maps.light.origin,gl.uniform1f(c.uLightmapScale,2*this.material.maps.light.intensity),
gl.uniform3f(c.uLightmapOffset,a,a,a),e.uniformSetCount+=2);b.mapNormal&&(gl.uniform1f(c.uNormalScale,this.material.maps.normal.scale),e.uniformSetCount++);a=this.texturesByType;b.mapDiffuse&&f(c.uMixFactorDiffuse,a.diffuse);b.mapSpecular&&f(c.uMixFactorSpecular,a.specular);b.mapLight&&f(c.uMixFactorLight,a.light);b.mapNormal&&f(c.uMixFactorNormal,a.normal)};k.PhongRenderStream=b})(Renderer);
(function(k){function d(a){}function f(a){d.prototype.constructor.call(this,a);this.scaleLo="undefined"!==typeof a.scaleLo?a.scaleLo:0;this.scaleHi="undefined"!==typeof a.scaleHi?a.scaleHi:8E3}function b(a){d.prototype.constructor.call(this,a)}function e(a){d.prototype.constructor.call(this,a);this.mapType="undefined"!==typeof a.mapType?a.mapType:"diffuse"}function g(a){d.prototype.constructor.call(this,a);var c=["highlight","id","scale"];this.colorMode="undefined"!==typeof a.colorMode?c.indexOf(a.colorMode):
0;this.scaleLo="undefined"!==typeof a.scaleLo?a.scaleLo:0;this.scaleHi="undefined"!==typeof a.scaleHi?a.scaleHi:10}function a(a){d.prototype.constructor.call(this,a);var c=["highlight","id","scale"];this.mapType="undefined"!==typeof a.mapType?a.mapType:"diffuse";this.textureLevel="undefined"!==typeof a.textureLevel?a.textureLevel:0;this.colorMode="undefined"!==typeof a.colorMode?c.indexOf(a.colorMode.toLowerCase()):0;this.scaleLo="undefined"!==typeof a.scaleLo?a.scaleLo:0;this.scaleHi="undefined"!==
typeof a.scaleHi?a.scaleHi:10;this.textureRefCounts={}}var c=WebGL.RGB(.5,.5,.5),m=WebGL.RGB(0,.25,.5),l=WebGL.RGB(0,.5,0),r=WebGL.RGB(1,.5,0),h=WebGL.RGB(.5,.5,.5),C=WebGL.RGB(1,.5,0),q=WebGL.RGB(.5,.5,.5),p=WebGL.RGB(0,.25,.5),A=WebGL.RGB(0,.5,0);d.prototype.initialize=function(a){for(var c=0;c<a.length;c++)this.initializeStream(a[c])};d.prototype.finalize=function(a){for(var c=0;c<a.length;c++)this.finalizeStream(a[c])};d.prototype.initializeStream=function(a){a.visualizerData={colorStartTime:0,
colorStart:WebGL.RGB(1,1,1),colorTarget:WebGL.RGB(1,1,1),colorCurrent:WebGL.RGB(1,1,1)}};d.prototype.finalizeStream=function(a){delete a.visualizerData};d.prototype.getColor=function(a,c){var b=this.getColorTarget(a),d=a.visualizerData;if(b[0]!==d.colorTarget[0]||b[1]!==d.colorTarget[1]||b[2]!==d.colorTarget[2])0===d.colorStartTime&&(d.colorCurrent=a.colorDiffuse?vec3.clone(a.colorDiffuse):vec3.clone(a.material.color.diffuse)),d.colorStartTime=c,d.colorStart=vec3.clone(d.colorCurrent),d.colorTarget=
b;d.colorCurrent[0]===d.colorTarget[0]&&d.colorCurrent[1]===d.colorTarget[1]&&d.colorCurrent[2]===d.colorTarget[2]||vec3.lerp(d.colorCurrent,d.colorStart,d.colorTarget,Math.min(1,(c-d.colorStartTime)/1E3));return d.colorCurrent};f.prototype=Object.create(d.prototype);f.prototype.constructor=f;f.prototype.initializeStream=function(a){d.prototype.initializeStream.call(this,a);a.visualizerData.color=MathUtils.hsvToRgb(240*Math.min(1,Math.max(0,1-((a.primitiveType===gl.TRIANGLES?a.vertexCount/3:a.vertexCount/
18)-this.scaleLo)/(this.scaleHi-this.scaleLo))),1,1)};f.prototype.getColorTarget=function(a){return a.visualizerData.color};b.prototype=Object.create(d.prototype);b.prototype.constructor=b;b.prototype.initializeStream=function(a){d.prototype.initializeStream.call(this,a);a.visualizerData.color=WebGL.RGB(Math.random(),Math.random(),Math.random())};b.prototype.getColorTarget=function(a){return a.visualizerData.color};e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.getColorTarget=
function(a){a=a.texturesByType[this.mapType];if(void 0===a)a=c;else switch(a.lastLevelUsed){case null:a=m;break;case 0:a=l;break;case 1:a=r;break;default:throw"TextureLevelVisualizer.getColorTarget: Unknown level code.";}return a};g.prototype=Object.create(d.prototype);g.prototype.constructor=g;g.prototype.initializeStream=function(a){d.prototype.initializeStream.call(this,a);for(var c=0;c<a.buffers.length;c++){var b=a.buffers[c];"undefined"===typeof b.visualizerData&&(b.visualizerData={refCount:0,
idColor:WebGL.RGB(Math.random(),Math.random(),Math.random())});b.visualizerData.refCount++}};g.prototype.finalizeStream=function(a){for(var c=0;c<a.buffers.length;c++){var b=a.buffers[c];"undefined"!==typeof b.visualizerData&&delete b.visualizerData}d.prototype.finalizeStream.call(this,a)};g.prototype.getColorTarget=function(a){a=a.buffers[0].visualizerData;switch(this.colorMode){case 0:var c=1===a.refCount?h:C;break;case 1:c=1===a.refCount?h:a.idColor;break;case 2:c=MathUtils.hsvToRgb(240*Math.min(1,
Math.max(0,1-(a.refCount-this.scaleLo)/(this.scaleHi-this.scaleLo))),1,1)}return c};a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.initializeStream=function(a){d.prototype.initializeStream.call(this,a);if(a=a.material.maps[this.mapType].textures[this.textureLevel])a=this.textureRefCounts[a.name],a||(a={refCount:0,idColor:WebGL.RGB(Math.random(),Math.random(),Math.random())},this.textureRefCounts[textureName]=a),a.refCount++};a.prototype.getColorTarget=function(a){a=a.material.maps[this.mapType].textures[this.textureLevel];
if(a)switch(a=this.textureRefCounts[a.name],this.colorMode){case 0:var c=1===a.refCount?p:A;break;case 1:c=1===a.refCount?p:a.idColor;break;case 2:c=MathUtils.hsvToRgb(240*Math.min(1,Math.max(0,1-(a.refCount-this.scaleLo)/(this.scaleHi-this.scaleLo))),1,1)}else c=q;return c};var n={registry:{},list:function(){for(var a=Object.keys(this.registry),c=0;c<a.length;c++)console.log(a[c])},set:function(a,c){c=c||{};var b=a.toLowerCase();b=this.registry[b];void 0===b?console.warn("Unknown render stream visualizer: '"+
a+"'."):(k.visualizer&&(k.visualizer.finalize(Viewer.streamsOpaque),k.visualizer.finalize(Viewer.streamsTransparent)),b?(k.visualizer=new b.class(c),k.visualizer.initialize(Viewer.streamsOpaque),k.visualizer.initialize(Viewer.streamsTransparent)):delete k.visualizer)}};n.registry.none=null;n.registry.trianglecount={class:f};n.registry.streamid={class:b};n.registry.texturelevel={class:e};n.registry.bufferrefcount={class:g};n.registry.texturerefcount={class:a};k.Visualizers=n})(Renderer);
(function(k){function d(){this.name="";this.parent=null;this.children=[]}function f(){d.prototype.constructor.call(this);this.position=vec3.create();this.rotation=quat.create();this.scale=vec3.fromValues(1,1,1);this.pivotPoint=vec3.create();this.mTransform=mat4.create();this.mesh=null;this.enabled=this.pickable=this.visible=!0;this.boundingBox={min:null,max:null};this.boundingSphere={center:null,radius:0};this.meshBoundingSphere=this.meshBoundingBox=null;this.mWorld=mat4.create();this.mWorldInv=mat4.create();
this.mNormals=mat4.create();this.transformMatrixChanged()}d.prototype.addChild=function(b){b.parent=this;this.children.push(b);b.transformMatrixChanged()};d.prototype.removeChild=function(b){var d=this.children.indexOf(b);if(-1===d)throw"Node.removeChild: Child node not found.";b.parent=null;this.children.splice(d,1);b.transformMatrixChanged();return d};d.prototype.replaceChild=function(b,d){b=this.removeChild(b);for(var e=0;e<d.length;e++){var a=d[e];this.children.splice(b+e,0,a);a.parent=this;a.transformMatrixChanged()}};
f.prototype=Object.create(d.prototype);f.prototype.constructor=f;f.prototype.copy=function(b){this.name=b.name;vec3.copy(this.position,b.position);quat.copy(this.rotation,b.rotation);vec3.copy(this.scale,b.scale);vec3.copy(this.pivotPoint,b.pivotPoint);mat4.copy(this.mTransform,b.mTransform);this.mesh=b.mesh;this.visible=b.visible;this.pickable=b.pickable;this.enabled=b.enabled;b.boundingBox.min&&(vec3.copy(this.boundingBox.min,b.boundingBox.min),vec3.copy(this.boundingBox.max,b.boundingBox.max));
b.meshBoundinBox&&(vec3.copy(this.meshBoundingBox.min,b.meshBoundingBox.min),vec3.copy(this.meshBoundingBox.max,b.meshBoundingBox.max));b.meshBoundingSphere&&(vec3.copy(this.meshBoundingSphere.center,b.meshBoundingSphere.center),this.meshBoundingSphere.radius=b.meshBoundingSphere.radius);mat4.copy(this.mWorld,b.mWorld);mat4.copy(this.mWorldInv,b.mWorldInv);mat4.copy(this.mNormals,b.mNormals);this.children=[];for(var d=0;d<b.children.length;d++){var f=b.children[d].clone();this.addChild(f)}};f.prototype.clone=
function(){var b=new f;b.copy(this);return b};f.prototype.transformAttrsChanged=function(){mat4.fromRotationTranslationScaleOrigin(this.mTransform,this.rotation,this.position,this.scale,this.pivotPoint);this.transformMatrixChanged()};f.prototype.transformMatrixChanged=function(){this.parent?mat4.multiply(this.mWorld,this.parent.mWorld,this.mTransform):mat4.copy(this.mWorld,this.mTransform);mat4.invert(this.mWorldInv,this.mWorld);for(var b=0;b<this.children.length;b++)this.children[b].transformMatrixChanged()};
f.prototype.generateNormals=function(){this.mesh&&this.mesh.generateNormals();for(var b=0;b<this.children.length;b++)this.children[b].generateNormals()};f.prototype.calculateBounds=function(b){b=b||{};var d="undefined"!==typeof b.recalculate?b.recalculate:!0;if(this.mesh){if(null===this.meshBoundingBox||d)this.meshBoundingBox=GeometryHelpers.calculateMeshBounds(this.mesh,this.mWorld),this.meshBoundingSphere=GeometryHelpers.getBoundingSphereFromBoundingBox(this.meshBoundingBox.min,this.meshBoundingBox.max)}else{d=
Number.NEGATIVE_INFINITY;var f=Number.POSITIVE_INFINITY;f=vec3.fromValues(f,f,f);var a=vec3.fromValues(d,d,d);this.meshBoundingBox={min:f,max:a};this.meshBoundingSphere={center:vec3.fromValues(0,0,0),radius:d}}this.boundingBox={min:vec3.clone(this.meshBoundingBox.min),max:vec3.clone(this.meshBoundingBox.max)};for(d=0;d<this.children.length;d++)f=this.children[d],f.calculateBounds(b),vec3.min(this.boundingBox.min,f.boundingBox.min,this.boundingBox.min),vec3.max(this.boundingBox.max,f.boundingBox.max,
this.boundingBox.max);this.boundingSphere=GeometryHelpers.getBoundingSphereFromBoundingBox(this.boundingBox.min,this.boundingBox.max)};f.prototype.getTreeAsList=function(){var b=[];b.push(this);for(var d=0;d<this.children.length;d++){var f=this.children[d].getTreeAsList();b=b.concat(f)}return b};k.Node=f})(Renderer);
(function(k){function d(b){k.Node.prototype.constructor.call(this);this.type=0;this.color="undefined"===typeof b.color?WebGL.RGB(.1,.1,.1):b.color;this.intensity="undefined"===typeof b.intensity?1:b.intensity;this.enabled=!0}function f(b){k.Node.prototype.constructor.call(this);this.type=1;this.color="undefined"===typeof b.color?WebGL.RGB(1,1,1):b.color;this.intensity="undefined"===typeof b.intensity?1:b.intensity;this.direction="undefined"===typeof b.direction?vec3.fromValues(0,-1,0):b.direction;
this.enabled=!0;this.eyeSpaceDirection=vec3.create()}function b(b){k.Node.prototype.constructor.call(this);this.type=2;this.color1="undefined"===typeof b.color1?WebGL.RGB(1,1,1):b.color1;this.color2="undefined"===typeof b.color2?WebGL.RGB(0,0,0):b.color2;this.intensity="undefined"===typeof b.intensity?1:b.intensity;this.direction="undefined"===typeof b.direction?vec3.fromValues(0,-1,0):b.direction;this.enabled=!0;this.eyeSpaceDirection=vec3.create()}k=k||{};d.prototype=Object.create(k.Node.prototype);
d.prototype.constructor=d;f.prototype=Object.create(k.Node.prototype);f.prototype.constructor=f;f.prototype.transformToEyeSpace=function(b){var d=mat4.create();mat4.transpose(d,b);mat4.invert(d,d);b=mat3.create();mat3.fromMat4(b,d);vec3.transformMat3(this.eyeSpaceDirection,this.direction,b)};b.prototype=Object.create(k.Node.prototype);b.prototype.constructor=b;b.prototype.transformToEyeSpace=function(b){var d=mat4.create();mat4.transpose(d,b);mat4.invert(d,d);b=mat3.create();mat3.fromMat4(b,d);vec3.transformMat3(this.eyeSpaceDirection,
this.direction,b)};k.AmbientLight=d;k.DirectionalLight=f;k.HemisphereLight=b})(Renderer);
(function(k){function d(){k.Node.prototype.constructor.call(this);this.mode=1;this.position=vec3.fromValues(0,0,0);this.normal=vec3.fromValues(0,0,0);this.up=vec3.fromValues(0,1,0);this.near=.1;this.far=1E5;this.fov=Math.PI/3;this.viewportHeight=this.viewportWidth=this.viewportY=this.viewportX=this.lensShiftY=this.lensShiftX=0;this.mProjection=mat4.create();this.mView=mat4.create()}k=k||{};d.prototype=Object.create(k.Node.prototype);d.prototype.constructor=d;d.prototype.updateProjectionMatrix=function(){if(this.mode===
k.cmOrthographic)mat4.ortho(this.mProjection,this.left,this.right,this.bottom,this.top,this.near,this.far);else{var d=this.near,b=this.far,e=this.near*Math.tan(.5*this.fov),g=this.viewportWidth/this.viewportHeight*e,a=-g,c=-e;a-=a*this.lensShiftX;g+=g*this.lensShiftX;e+=e*this.lensShiftY;c-=c*this.lensShiftY;mat4.frustum(this.mProjection,a,g,c,e,d,b)}};d.prototype.updateViewMatrix=function(){var d=vec3.create(),b=vec3.fromValues(0,1,0);vec3.add(d,this.position,this.normal);mat4.lookAt(this.mView,
this.position,d,b)};d.prototype.setViewport=function(d){this.viewportX=d.x;this.viewportY=d.y;this.viewportWidth=d.width;this.viewportHeight=d.height;this.updateProjectionMatrix()};d.prototype.lookAt=function(d,b,e){"undefined"===typeof e&&(e=vec3.fromValues(0,1,0));this.position=vec3.clone(d);vec3.sub(this.normal,b,d);vec3.normalize(this.normal,this.normal);mat4.lookAt(this.mView,d,b,e)};d.prototype.setOrthographic=function(d,b,e,g,a,c){this.left=d;this.right=b;this.bottom=e;this.top=g;this.near=
a;this.far=c;this.updateProjectionMatrix()};d.prototype.getRay=function(d,b,e,g){if(d<this.viewportX||d>=this.viewportX+this.viewportWidth||b<this.viewportY||b>=this.viewportY+this.viewportHeight)return!1;var a=mat4.create();mat4.multiply(a,this.mProjection,this.mView);mat4.invert(a,a);d=2*(d-this.viewportX)/this.viewportWidth-1;var c=-(2*(b-this.viewportY)/this.viewportHeight-1);b=vec3.fromValues(d,c,-1);var f=vec3.fromValues(d,c,1);d=vec3.create();c=vec3.create();vec3.transformMat4(d,b,a);vec3.transformMat4(c,
f,a);a=vec3.create();vec3.sub(a,c,d);vec3.normalize(a,a);vec3.copy(e,d);vec3.copy(g,a);return!0};d.prototype.rotateCenter=function(d,b,e,g){g=g||{};var a=g.phiMin;g=g.phiMax;var c=vec3.create();vec3.sub(c,e,this.position);c=MathUtils.cartesianToSpherical(c[0],c[1],c[2]);c[1]+=d;c[2]+=b;"undefined"!==typeof g&&(c[1]=Math.min(c[1],g));"undefined"!==typeof a&&(c[1]=Math.max(c[1],a));d=MathUtils.sphericalToCartesian(c[0],c[1],c[2]);vec3.sub(this.position,e,d);vec3.normalize(this.normal,d);this.updateViewMatrix()};
d.prototype.rotatePivot=function(d,b,e,g){g=g||{};var a=g.phiMin,c=g.phiMax;g=this.normal;var f=MathUtils.cartesianToSpherical(g[0],g[1],g[2]),l=f[1]+d;"undefined"!==typeof a&&l<a?d=a-f[1]:"undefined"!==typeof c&&l>c&&(d=c-f[1]);c=vec3.fromValues(0,1,0);g=vec3.fromValues(-g[2],0,g[0]);vec3.normalize(g,g);a=quat.create();quat.setAxisAngle(a,c,-b);b=quat.create();quat.setAxisAngle(b,g,-d);g=quat.create();quat.multiply(g,a,b);d=mat4.create();mat4.fromQuat(d,g);a=vec3.fromValues(-e[0],-e[1],-e[2]);b=
mat4.create();mat4.identity(b);mat4.translate(b,b,e);mat4.multiply(b,b,d);mat4.translate(b,b,a);e=vec3.create();a=vec3.create();vec3.transformMat4(e,this.position,b);vec3.transformMat4(a,this.normal,d);vec3.normalize(a,a);this.position=e;this.normal=a;this.updateViewMatrix()};d.prototype.calculateZoomAtPosition=function(d,b,e,g){g=g||{};var a=vec3.create();vec3.sub(a,e,this.position);if("undefined"!==typeof g.lowPositionY){var c=e[1]-1*a[1]/b;if(0<this.position[1]){g=g.lowPositionY+.001;var f=c<g}else g=
-g.lowPositionY-.001,f=c>g;f&&(b=b*(e[1]-c)/(e[1]-g))}c=vec3.create();vec3.scale(c,a,1/b);vec3.sub(d,e,c)};d.prototype.zoomAt=function(d,b,e){this.calculateZoomAtPosition(this.position,d,b,e);this.updateViewMatrix()};d.prototype.zoomExtents=function(d,b,e,g){void 0===e&&(e=vec3.fromValues(0,-1,.001));void 0===g&&(g=1);var a=vec3.fromValues(1,1,1),c=vec3.create();vec3.sub(c,b,d);var f=vec3.create();vec3.sub(f,c,a);0<f[0]&&(f[0]=0);0<f[1]&&(f[1]=0);0<f[2]&&(f[2]=0);vec3.scale(f,f,.5);vec3.add(d,d,f);
vec3.sub(b,b,f);vec3.sub(c,b,d);b=.5*c[0];a=.5*c[2];if(0===this.viewportHeight)throw"Camera viewport has zero height.";b=.5*c[1]+Math.max(b/Math.tan(.5*this.fov),a/(Math.tan(.5*this.fov)/(this.viewportWidth/this.viewportHeight)));a=vec3.create();vec3.scaleAndAdd(a,d,c,.5);vec3.normalize(this.normal,e);d=vec3.create();vec3.scale(d,this.normal,g*b/this.normal[1]);vec3.add(this.position,a,d);this.updateViewMatrix()};k.cmOrthographic=0;k.cmPerspective=1;k.Camera=d})(Renderer);
(function(k){function d(a,c){if(MathUtils.isPowerOfTwo(a)&&MathUtils.isPowerOfTwo(c)){a=gl.LINEAR_MIPMAP_LINEAR;var b=c=gl.REPEAT}else a=gl.LINEAR,b=c=gl.CLAMP_TO_EDGE;return{minFilter:a,wrapS:c,wrapT:b}}function f(a){this.name="Default";this.height=this.width=0;this.webGLTexture=null;this.enabled=!0;a&&Utils.mergeAttributes(this,a,{deep:!0})}function b(){this.textures=[]}function e(a){this.name="Default";this.id=g++;this.color={emissive:WebGL.RGB(0,0,0),ambient:WebGL.RGB(1,1,1),diffuse:WebGL.RGB(1,
1,1),specular:WebGL.RGB(1,1,1)};this.shininess=50;this.opacity=1;this.maps={diffuse:{textures:[]},specular:{textures:[]},light:{textures:[],intensity:1,origin:.5},normal:{textures:[],scale:1},environment:{textures:[],opacity:.15},opacity:{textures:[]}};this.depthWrite=this.depthTest=this.blend=!0;this.options={lighting:!0,ambientLight:!0,directLight:!0};a&&Utils.mergeAttributes(this,a,{deep:!0})}k=k||{};var g=0;f.prototype.fromImage=function(a,c){var b=d(a.width,a.height);c=c||{};var e="undefined"!==
typeof c.magFilter?c.magFilter:gl.LINEAR,f="undefined"!==typeof c.minFilter?c.minFilter:b.minFilter,g="undefined"!==typeof c.wrapS?c.wrapS:b.wrapS;b="undefined"!==typeof c.wrapT?c.wrapT:b.wrapT;var k="undefined"!==typeof c.flipY?c.flipY:!0;c="undefined"!==typeof c.anisotropy?c.anisotropy:1;this.width=a.width;this.height=a.height;this.webGLTexture=WebGL.getTextureFromImage(a,e,f,g,b,k,c);return this};f.prototype.fromCanvas=function(a,c){var b=d(a.width,a.height);c=c||{};var e="undefined"!==typeof c.magFilter?
c.magFilter:gl.LINEAR,f="undefined"!==typeof c.minFilter?c.minFilter:b.minFilter,g="undefined"!==typeof c.wrapS?c.wrapS:b.wrapS;b="undefined"!==typeof c.wrapT?c.wrapT:b.wrapT;var k="undefined"!==typeof c.flipY?c.flipY:!0;c="undefined"!==typeof c.anisotropy?c.anisotropy:1;this.width=a.width;this.height=a.height;this.webGLTexture=WebGL.getTextureFromCanvas(a,e,f,g,b,k,c);return this};f.prototype.fromUint8Array=function(a,c,b,e){var f=d(c,b);e=e||{};var g="undefined"!==typeof e.magFilter?e.magFilter:
gl.LINEAR,l="undefined"!==typeof e.minFilter?e.minFilter:f.minFilter,m="undefined"!==typeof e.wrapS?e.wrapS:f.wrapS;f="undefined"!==typeof e.wrapT?e.wrapT:f.wrapT;var k="undefined"!==typeof e.flipY?e.flipY:!0;e="undefined"!==typeof e.anisotropy?e.anisotropy:1;this.width=c;this.height=b;this.webGLTexture=WebGL.getTextureFromUint8Array(a,c,b,g,l,m,f,k,e);return this};f.prototype.fromDdsTexture=function(a,c){var b=d(a.width,a.height);c=c||{};var e="undefined"!==typeof c.magFilter?c.magFilter:gl.LINEAR,
f="undefined"!==typeof c.minFilter?c.minFilter:b.minFilter,g="undefined"!==typeof c.wrapS?c.wrapS:b.wrapS;b="undefined"!==typeof c.wrapT?c.wrapT:b.wrapT;var k="undefined"!==typeof c.flipY?c.flipY:!0;c="undefined"!==typeof c.anisotropy?c.anisotropy:1;this.width=a.width;this.height=a.height;this.webGLTexture=WebGL.getTextureFromDdsTexture(a,e,f,g,b,k,c);return this};b.prototype.getLowestRes=function(){return this.textures[0]?this.textures[0]:this.textures[1]};b.prototype.getHighestRes=function(){return this.textures[1]?
this.textures[1]:this.textures[0]};b.prototype.getLowRes=function(){return this.textures[0]};b.prototype.getHighRes=function(){return this.textures[1]};k.Texture=f;k.TextureSet=b;k.Material=e;k.createBasicMaterial=function(a,c,b,d){return new e({name:a,color:{ambient:WebGL.RGB(c,b,d),diffuse:WebGL.RGB(c,b,d)}})};k.getMaterialShaderProgram=function(a){for(var c=a.options,b=Object.keys(a.maps),d=0;d<b.length;d++){var e=b[d];0<a.maps[e].textures.length&&(e="map"+e.charAt(0).toUpperCase()+e.slice(1),
c[e]=!0)}return k.getShaderProgram(c)};k.initializeTextures=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var c=a.getContext("2d");c.fillStyle="rgba(255, 255, 255, 1.0)";c.fillRect(0,0,16,16);k.defaultTexture=(new f({name:"Default"})).fromCanvas(a);c.fillStyle="rgba(128, 128, 128, 1.0)";c.fillRect(0,0,16,16);k.defaultTextureHalfIntensity=(new f({name:"Default Half Intensity"})).fromCanvas(a);c.fillStyle="rgba(128, 128, 255, 1.0)";c.fillRect(0,0,16,16);k.defaultTextureNormal=
(new f({name:"Default Normal"})).fromCanvas(a)}})(Renderer);
(function(k){function d(){this.vertices=[];this.edges=[];this.smoothingGroups=0;this.materialStream=this.material=null}function f(b,a){this.dataId=this.id=e++;this.ownerMesh=b;this.material=a;this.faces=[];this.normals=this.colors=this.positions=null;this.texCoords=[]}function b(){this.name="";this.vertices=[];this.faces=[];this.materialStreams=[];this.edges=[];this.faceIndexOffset=this.vertexIndexOffset=0;this.castShadow=!1}k=k||{};var e=0;d.prototype.recalculateNormal=function(){var b=this.vertices.length;
this.normal=vec3.fromValues(0,0,0);for(var a=0;a<b;a++)vec3.add(this.normal,this.normal,this.vertices[a].normal);vec3.scale(this.normal,1/b)};b.prototype.copy=function(b){this.name=b.name;this.castShadow=b.castShadow;for(var a=0;a<b.materialStreams.length;a++){var c=b.materialStreams[a],d=this.createMaterialStream(c.material);d.name=c.name;d.positions=c.positions;d.normals=c.normals;for(var e=0;e<c.texCoords.length;e++)d.texCoords[e]=c.texCoords[e];d.dataId=c.dataId}k.performanceData.meshCopyCount++};
b.prototype.clone=function(){var d=new b;d.copy(this);return d};b.prototype.getMaterialStream=function(b){var a;for(a=0;a<this.materialStreams.length;a++){var c=this.materialStreams[a];if(c.material===b)break}return a<this.materialStreams.length?c:!1};b.prototype.createMaterialStream=function(b){b=new f(this,b);this.materialStreams.push(b);return b};b.prototype.getOrCreateMaterialStream=function(b){var a=this.getMaterialStream(b);a||(a=this.createMaterialStream(b));return a};b.prototype.updateMaterialStreams=
function(){this.materialStreams=[];for(var b=0;b<this.faces.length;b++){var a=this.faces[b],c=this.getOrCreateMaterialStream(a.material);a.materialStream=c;c.faces.push(a)}};b.prototype.getMaterialStreamAttributeData=function(b){function a(a){var h=g.vertices[a.vertexIndex];c.push(h[0],h[1],h[2]);b.normals&&(h=a.normal,d.push(h[0],h[1],h[2]));b.texCoords1&&(h=a.texCoord,e.push(h.u,h.v));b.texCoords2&&(a=a.texCoord2,f.push(a.u,a.v))}for(var c,d,e,f,g=this,k=0;k<this.materialStreams.length;k++){var q=
this.materialStreams[k];c=[];d=[];e=[];f=[];for(var p=0;p<q.faces.length;p++){var A=q.faces[p];a(A.vertices[0]);a(A.vertices[1]);a(A.vertices[2])}q.positions=new Float32Array(c);b.normals&&(q.normals=new Float32Array(d));b.texCoords1&&(q.texCoords[0]=new Float32Array(e));b.texCoords2&&(q.texCoords[1]=new Float32Array(f))}};b.prototype.getMaterialsUsed=function(){for(var b=[],a=0;a<this.faces.length;a++){var c=this.faces[a].material;-1===b.indexOf(c)&&b.push(c)}return b};b.prototype.setMaterial=function(b){var a=
this.getMaterialStream(b);a||(a=this.createMaterialStream(b));this.currentMaterial=b;this.currentMaterialStream=a};b.prototype.addVertex=function(b,a,c){return this.vertices.push(vec3.fromValues(b,a,c))-1};b.prototype.addFace=function(b,a,c,e,f,k){function g(d){var f={};f.vertexIndex=l.vertexIndexOffset+b[d];a&&a[d]&&(f.normal=a[d]);c&&c[d]&&(f.texCoord=c[d]);e&&e[d]&&(f.texCoord2=e[d]);return f}var l=this;void 0===f&&(f=0);void 0===k&&(k=!0);var m=[];if(k)for(k=0;k<b.length-2;k++){var p=new d;p.vertices[0]=
g(0);p.vertices[1]=g(k+1);p.vertices[2]=g(k+2);p.smoothingGroups=f;p.material=this.currentMaterial;p.materialStream=this.currentMaterialStream;this.faces.push(p);this.currentMaterialStream.faces.push(p);m.push(p)}else{p=new d;for(k=0;k<b.length;k++)p.vertices[k]=g(k);p.smoothingGroups=f;p.material=this.currentMaterial;p.materialStream=this.currentMaterialStream;this.faces.push(p);this.currentMaterialStream.faces.push(p);m.push(p)}return m};b.prototype.calculateBounds=function(b){var a=Number.NEGATIVE_INFINITY,
c=Number.POSITIVE_INFINITY;c=vec3.fromValues(c,c,c);a=vec3.fromValues(a,a,a);var d=vec3.create(),e;if(void 0===b)for(e=0;e<this.vertices.length;e++){var f=this.vertices[e];vec3.min(c,c,f);vec3.max(a,a,f)}else for(e=0;e<this.vertices.length;e++)f=this.vertices[e],vec3.transformMat4(d,f,b),vec3.min(c,c,d),vec3.max(a,a,d);return{min:c,max:a}};b.prototype.transformVertices=function(b){for(var a=0;a<this.vertices.length;a++)vec3.transformMat4(this.vertices[a],this.vertices[a],b)};b.prototype.transformFaceNormals=
function(b){for(var a=0;a<this.faces.length;a++)for(var c=this.faces[a],d=0;d<c.vertices.length;d++){var e=c.vertices[d];vec3.transform(e.normal,e.normal,b)}};b.prototype.invertVertexWindingOrder=function(){var b,a;for(b=0;b<this.faces.length;b++){var c=this.faces[b],d=Math.floor(c.vertices.length/2);for(a=0;a<d-1;a++){var e=a,f=c.vertices.length-1-a,h=c.vertices[e];c.vertices[e]=c.vertices[f];c.vertices[f]=h}for(a=0;a<c.vertices.length;a++)d=c.vertices[a],vec3.negate(d.normal,d.normal)}};b.prototype.generateNormalsConditionally=
function(){var b,a=[];for(b=0;b<this.faces.length;b++){var c=this.faces[b];0!==c.smoothingGroups&&a.push(c)}a=vec3.create();var d=vec3.create(),e=vec3.create();for(b=0;b<this.faces.length;b++)if(c=this.faces[b],!(c.vertices[0].normal&&c.vertices[1].normal&&c.vertices[2].normal)){var f=c.vertices[0].vertexIndex;var h=c.vertices[1].vertexIndex;var k=c.vertices[2].vertexIndex;f=this.vertices[f];k=this.vertices[k];vec3.sub(a,this.vertices[h],f);vec3.sub(d,k,f);vec3.cross(e,a,d);vec3.normalize(e,e);c.normal=
vec3.clone(e);for(h=0;h<c.vertices.length;h++)k=c.vertices[h],k.normal=vec3.clone(e)}};b.prototype.generateNormals=function(){var b,a=vec3.create(),c=vec3.create();var d=vec3.create();for(b=0;b<this.faces.length;b++){var e=this.faces[b];var f=e.vertices[0].vertexIndex;var h=e.vertices[1].vertexIndex;var k=e.vertices[2].vertexIndex;f=this.vertices[f];k=this.vertices[k];vec3.sub(a,this.vertices[h],f);vec3.sub(c,k,f);vec3.cross(d,a,c);vec3.normalize(d,d);e.normal=vec3.clone(d);for(h=0;h<e.vertices.length;h++)k=
e.vertices[h],k.normal=vec3.clone(d)}a=[];for(b=0;b<this.faces.length;b++)e=this.faces[b],0!==e.smoothingGroups&&a.push(e);for(b=0;b<a.length;b++)for(e=a[b],h=0;h<a.length;h++)if(d=a[h],h!==b&&0!==(d.smoothingGroups&e.smoothingGroups))for(c=e,k=0;k<c.vertices.length;k++){f=c.vertices[k];for(var q=0;q<d.vertices.length;q++)f.vertexIndex===d.vertices[q].vertexIndex&&vec3.add(f.normal,f.normal,d.normal)}for(b=0;b<a.length;b++)for(e=a[b],h=0;h<e.vertices.length;h++)k=e.vertices[h],vec3.normalize(k.normal,
k.normal)};k.MeshFace=d;k.Mesh=b})(Renderer);
(function(k){function d(a){for(var c=new Float32Array(9*a),b=0;b<a;b++){var d=(b>>16&255)/255,e=(b>>8&255)/255,f=(b&255)/255;c[0]=d;c[1]=e;c[2]=f;c[3]=d;c[4]=e;c[5]=f;c[6]=d;c[7]=e;c[8]=f}a=new k.RenderStreamBuffer;a.addAttribute("pickingColor",3,gl.FLOAT,c);return a}function f(){this.colorBuffer=d(1024);this.restart()}var b=Math.pow(2,14)-2,e=Math.pow(2,18)-1,g=b+1,a=mat4.create();f.prototype.restart=function(){this.map=null;this.mapHeight=this.mapWidth=this.mapViewHeight=this.mapViewWidth=0;this.mapScale=
1;this.mapNeedsUpdate=!0;this.mapCacheExtent=64;this.mapCacheSide=2*this.mapCacheExtent;this.mapCacheSize=4*this.mapCacheSide*this.mapCacheSide;this.mapCachePixels=new Uint8Array(this.mapCacheSize);this.mapCacheDisplay=new Uint8Array(this.mapCacheSize);this.mapCacheY1=this.mapCacheX1=0;this.mapCacheValid=!1;this.display=new k.PickingDisplay(this);this.pickingIdMap=[];this.currentPickingId=1;this.lastFaceHit=this.lastMeshHit=null};f.prototype.registerObject=function(a){var c=a.mesh.faces.length,d=
this.currentPickingId===b;d&&console.warn("Picking.registerObject: Too many objects in scene.");(c=c>=e)&&console.warn("Picking.registerObject: Too many faces in object.");var f=d?g:this.currentPickingId++,h=new k.PickingRenderStream(a.mesh,a.mesh.faces,null,{});a.pickingData={};a.pickingData.id=f;a.pickingData.flags={exceedsMaxObjectCount:d,exceedsMaxFaceCount:c};a.pickingData.stream=h};f.prototype.updateMapSize=function(a,b){console.log("Picking.updateMapSize(): "+a+", "+b);this.mapViewWidth=a;
this.mapViewHeight=b;this.mapWidth=Math.round(a*this.mapScale);this.mapHeight=Math.round(b*this.mapScale);this.map?this.map.requestSize(this.mapWidth,this.mapHeight):this.map=new WebGL.Renderable({alpha:!0,depth:!0,sizeStep:1,width:this.mapWidth,height:this.mapHeight});this.display.updateMapSize(a,b);this.mapNeedsUpdate=!0};f.prototype.doRender=function(c,b,d){WebGL.renderTargetState.save();WebGL.renderTargetState.setFromRenderable(c);gl.clearColor(0,0,0,0);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);
c=d.mProjection;for(var e=0;e<b.length;e++){var f=b[e];f.mesh&&f.visible&&f.pickable&&(mat4.multiply(a,d.mView,f.mWorld),f.pickingData.stream.draw(c,a,{shaderProgramName:f.pickingData.flags.exceedsMaxObjectCount?"shaderPickingMapExceedsMaxObjectCount":f.pickingData.flags.exceedsMaxFaceCount?"shaderPickingMapExceedsMaxFaceCount":"shaderPickingMap",pickingId:f.pickingData.id}))}WebGL.renderTargetState.restore()};f.prototype.renderMap=function(a,b,f){console.log("Picking.renderMap()");f=f||{};f="undefined"===
typeof f.updateDisplay?!1:f.updateDisplay;var c=a.getTreeAsList(),g,l=0;for(g=0;g<c.length;g++){var k=c[g];k.mesh&&k.visible&&k.pickable&&(k=k.mesh.faces.length,k<=e&&k>l&&(l=k))}l>this.colorBuffer.data.length/9&&(g=1024*Math.ceil(l/1024),this.colorBuffer=d(g),console.log("Picking.renderMap: Face color attribute resized ("+g+" faces)."));this.pickingIdMap=[];for(g=0;g<c.length;g++)k=c[g],k.mesh&&k.visible&&k.pickable&&("undefined"===typeof k.pickingData&&this.registerObject(k),this.pickingIdMap[k.pickingData.id]=
k);this.doRender(this.map,c,b);f&&this.display.render(a,b);this.mapCacheValid=this.mapNeedsUpdate=!1};f.prototype.decodeMesh=function(a,b,d,f,g,k,q,p){g=this.pickingIdMap[a];if(!g)return console.warn("Picking.decodeMesh: Picking id does not correspond to a registered Node instance."),null;if(b===e)return console.warn("Picking.decodeMesh: Object hit exceeds maximum supported face count."),p&&(p.hit=!0,p.pickingId=a,p.hitObject=g),this.lastMeshHit=g,this.lastFaceHit=null,{node:g,pickingId:a};k=g.pickingData.stream.buffers[0].data;
var c=9*b,h=vec3.fromValues(k[c+0],k[c+1],k[c+2]),l=vec3.fromValues(k[c+3],k[c+4],k[c+5]),m=vec3.fromValues(k[c+6],k[c+7],k[c+8]);k=vec3.create();c=vec3.create();q.getRay(d,f,k,c);d=vec3.create();f=vec3.create();q=vec3.create();vec3.transformMat4(d,h,g.mWorld);vec3.transformMat4(f,l,g.mWorld);vec3.transformMat4(q,m,g.mWorld);h=MathUtils.getPlaneFromPoints(d,f,q);h=MathUtils.rayPlaneIntersection(k,c,h);l=p?MathUtils.rayTriangleIntersection(k,c,d,f,q):null;p&&(p.hit=!0,p.rO=k,p.rD=c,p.pickingId=a,p.faceIndex=
b,p.hitNode=g,p.hitFace={v1:vec3.clone(d),v2:vec3.clone(f),v3:vec3.clone(q)},p.hitInfo1=h,p.hitInfo2=l);this.lastMeshHit=g;this.lastFaceHit={v1:vec3.clone(d),v2:vec3.clone(f),v3:vec3.clone(q)};return h.p?{mesh:g,view:g.pickingData.view,pickingId:a,faceIndex:b,p:h?h.p:null}:null};f.prototype.getPickingInfo=function(a,b,d,e){var c=gl.drawingBufferWidth,f=gl.drawingBufferHeight;this.map&&this.mapViewWidth===c&&this.mapViewHeight===f||(console.log("Picking.getPickingInfo(): Resizing picking map."),this.updateMapSize(c,
f));this.mapNeedsUpdate&&this.renderMap(Viewer.scene,Viewer.camera,{updateDisplay:!0});var k=Math.round(a*this.mapScale),l=Math.round((f-1-b)*this.mapScale);if(!this.mapCacheValid||k<this.mapCacheX1||k>=this.mapCacheX1+this.mapCacheSide||l<this.mapCacheY1||l>=this.mapCacheY1+this.mapCacheSide){this.mapCacheX1=k-this.mapCacheExtent;this.mapCacheY1=l-this.mapCacheExtent;for(var m=0;m<this.mapCachePixels.length;m++)this.mapCachePixels[m]=0;gl.bindFramebuffer(gl.FRAMEBUFFER,this.map.framebuffer.webGLFramebuffer);
gl.readPixels(this.mapCacheX1,this.mapCacheY1,this.mapCacheSide,this.mapCacheSide,gl.RGBA,gl.UNSIGNED_BYTE,this.mapCachePixels);gl.bindFramebuffer(gl.FRAMEBUFFER,null);this.mapCacheDisplay.set(this.mapCachePixels);this.mapCacheValid=!0;e&&(e.cacheHit=!1)}else e&&(e.cacheHit=!0);k=4*(this.mapCacheSide*(l-this.mapCacheY1)+(k-this.mapCacheX1));m=this.mapCachePixels[k+0];l=this.mapCachePixels[k+3]<<6|m>>>2;m=(m&3)<<16|this.mapCachePixels[k+1]<<8|this.mapCachePixels[k+2];this.mapCacheDisplay[k+0]=255;
this.mapCacheDisplay[k+1]=255;this.mapCacheDisplay[k+2]=255;this.mapCacheDisplay[k+3]=255;l===g?(console.warn("Picking.getPickingInfo(): Unpickable object hit."),a=null,e&&(e.hit=!1)):0!==l?a=this.decodeMesh(l,m,a,b,c,f,d,e):(a=null,e&&(e.hit=!1));return a};f.prototype.showMapOnNewPage=function(){if(this.map&&this.map.framebuffer.webGLFramebuffer){var a=this.map.width,b=this.map.height,d=new Uint8Array(4*a*b);gl.bindFramebuffer(gl.FRAMEBUFFER,this.map.framebuffer.webGLFramebuffer);gl.readPixels(0,
0,a,b,gl.RGBA,gl.UNSIGNED_BYTE,d);gl.bindFramebuffer(gl.FRAMEBUFFER,null);Misc.showPixelBufferColorOnNewPage("Picking map color",a,b,d);Misc.showPixelBufferAlphaOnNewPage("Picking map alpha",a,b,d)}};k.Picking=f})(Renderer);
(function(k){function d(b,d){this.owner=b;this.map=null;this.mapHeight=this.mapWidth=0;this.mapScale=1;this.renderSettings=d||{opaque:!1,theme:0,highlight:!1,highlightMode:0,highlightTheme:0}}var f=mat4.create();d.prototype.updateMapSize=function(b,d){this.mapWidth=Math.round(b*this.mapScale);this.mapHeight=Math.round(d*this.mapScale);this.map?this.map.requestSize(this.mapWidth,this.mapHeight):this.map=new WebGL.Renderable({alpha:!0,depth:!0,sizeStep:1,width:this.mapWidth,height:this.mapHeight})};
d.prototype.getThemeMaterials=function(){if(this.renderSettings.highlight)switch(this.renderSettings.highlightTheme){case 0:var b={scene:"Color",highlight:"Highlight"};break;case 1:b={scene:"Grayscale",highlight:"Color"};break;case 2:b={scene:"Grayscale",highlight:"Sepia"};break;case 3:b={scene:"Sepia",highlight:"Color"};break;case 4:b={scene:"Sepia",highlight:"Highlight"}}else switch(this.renderSettings.theme){case 0:b={scene:"Color"};break;case 1:b={scene:"Grayscale"};break;case 2:b={scene:"Sepia"}}return b};
d.prototype.render=function(b,d){b=b.getTreeAsList();WebGL.renderTargetState.save();WebGL.renderTargetState.setFromRenderable(this.map);gl.clearColor(0,0,0,1);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);for(var e=d.mProjection,a=0;a<b.length;a++){var c=b[a];if(c.mesh&&c.visible&&c.pickable){mat4.multiply(f,d.mView,c.mWorld);var k=c.pickingData.flags.exceedsMaxObjectCount?"shaderPickingDisplayExceedsMaxObjectCount":c.pickingData.flags.exceedsMaxFaceCount?"shaderPickingDisplayExceedsMaxFaceCount":
"shaderPickingDisplay"+this.getThemeMaterials().scene;c.pickingData.stream.draw(e,f,{shaderProgramName:k,pickingId:c.pickingData.id})}}WebGL.renderTargetState.restore()};d.prototype.drawMapCache=function(){var b=WebGL.getTextureFromUint8Array(this.owner.mapCacheDisplay,this.owner.mapCacheSide,this.owner.mapCacheSide,gl.NEAREST,gl.NEAREST),d=this.owner.mapCacheSide,f=gl.drawingBufferWidth-16-d,a=gl.drawingBufferHeight-16-this.owner.mapCacheSide;gl.disable(gl.BLEND);k.drawScreenRectFT(f,a,f+d,a+d,b,
0,0,1,1,WebGL.RGBA(1,1,1,1));gl.enable(gl.BLEND)};d.prototype.draw=function(){if(this.map&&this.map.framebuffer.webGLTexture){var b=1===this.mapScale?.5*this.mapWidth:this.mapWidth,d=gl.drawingBufferWidth-16-b;k.drawScreenRectFT(d,16,d+b,16+(1===this.mapScale?.5*this.mapHeight:this.mapHeight),this.map.framebuffer.webGLTexture,0,1,1,0,WebGL.RGBA(1,1,1,1))}};k.PickingDisplay=d})(Renderer);
(function(k){function d(a){var c="precision mediump float;\nprecision mediump int;\n\nattribute vec3 position;\nattribute vec3 pickingColor;\n\nvarying vec4 vColor;\n\nuniform int  pickingId;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nvoid main(void) {\n";c=a.exceedsMaxObjectCount?c+"    vec4 color = vec4(1.0, 1.0, 1.0, 1.0);\n":a.exceedsMaxFaceCount?c+"    int pickingIdHi = pickingId / 64;\n    int pickingIdLo = pickingId - 64 * pickingIdHi;\n    int pickingFaceIndexHi = 3;\n    int combined = pickingIdLo * 4 + pickingFaceIndexHi;\n    vec4 color;\n    color.a = float(pickingIdHi) / 255.0;\n    color.r = float(combined) / 255.0;\n    color.g = 1.0;\n    color.b = 1.0;\n":
c+"    int pickingIdHi = pickingId / 64;\n    int pickingIdLo = pickingId - 64 * pickingIdHi;\n    int pickingFaceIndexHi = int(pickingColor.r * 255.0);\n    int combined = pickingIdLo * 4 + pickingFaceIndexHi;\n    vec4 color;\n    color.a = float(pickingIdHi) / 255.0;\n    color.r = float(combined) / 255.0;\n    color.g = pickingColor.g;\n    color.b = pickingColor.b;\n";if(a.pickingDisplay)if(a.exceedsMaxObjectCount||a.exceedsMaxFaceCount)c+="    vColor.rgb = color.rgb;\n    vColor.a   = 1.0;\n";
else switch(a.color){case "color":c+="    vColor.rgb = color.rgb;\n    vColor.a   = 1.0;\n";break;case "grayscale":c+="    float l = (color.r + color.g + color.b) / 3.0;\n\n    vColor = vec4(l, l, l, 1.0);\n";break;case "sepia":c+="    float r = color.r * 0.393 + color.g * 0.769 + color.b * 0.189;\n    float g = color.r * 0.349 + color.g * 0.686 + color.b * 0.168;\n    float b = color.r * 0.272 + color.g * 0.534 + color.b * 0.131;\n\n    vColor.rgb  = min(vec3(1.0, 1.0, 1.0), vec3(r, g, b));\n    vColor.a    = 1.0;\n";
break;case "highlight":c+="    float l = min(1.0, 2.0 * (color.r + color.g + color.b) / 3.0);\n\n    vColor = vec4(l, l, l, 1.0);\n"}else c+="    vColor = color;\n";return c+"    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"}function f(a,c,b,d){function e(c){c=a.vertices[c.vertexIndex];f.push(c[0],c[1],c[2])}k.RenderStream.prototype.constructor.call(this);this.primitiveType=gl.TRIANGLES;this.material={blend:!1,depthTest:!0,depthWrite:!0};b=new k.RenderStreamBuffer;b.addAttribute("aPosition",
3,gl.FLOAT);var f=b.data;for(d=0;d<c.length;d++)for(var g=c[d],h=0;h<g.vertices.length-2;h++){var l=g.vertices[h+1],m=g.vertices[(h+2)%g.vertices.length];e(g.vertices[0]);e(l);e(m);b.vertexCount+=3}this.buffers.push(b);this.buffers.push(k.picking.colorBuffer);this.vertexCount=b.vertexCount}var b=d({pickingDisplay:!1}),e=d({pickingDisplay:!0,color:"color"}),g=d({pickingDisplay:!0,color:"grayscale"}),a=d({pickingDisplay:!0,color:"sepia"}),c=d({pickingDisplay:!0,color:"highlight"}),m=d({pickingDisplay:!1,
exceedsMaxObjectCount:!0}),l=d({pickingDisplay:!1,exceedsMaxFaceCount:!0}),r=d({pickingDisplay:!0,exceedsMaxObjectCount:!0}),h=d({pickingDisplay:!0,exceedsMaxFaceCount:!0});f.prototype=Object.create(k.RenderStream.prototype);f.prototype.constructor=f;f.prototype.loadUniforms=function(a,c,b){var d=this.shaderProgram;gl.uniform1i(d.pickingId,b.pickingId);gl.uniformMatrix4fv(d.projectionMatrix,!1,a);gl.uniformMatrix4fv(d.modelViewMatrix,!1,c)};k.initializePicking=function(){var d=k.Picking;d.shaderPickingMap=
WebGL.ShaderProgram(b,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingMap");d.shaderPickingMapExceedsMaxObjectCount=WebGL.ShaderProgram(m,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingMapExceedsMaxObjectCount");d.shaderPickingMapExceedsMaxFaceCount=WebGL.ShaderProgram(l,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}",
"shaderPickingMapExceedsMaxFaceCount");d.shaderPickingDisplayColor=WebGL.ShaderProgram(e,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingDisplayColor");d.shaderPickingDisplayGrayscale=WebGL.ShaderProgram(g,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingDisplayGrayscale");d.shaderPickingDisplaySepia=WebGL.ShaderProgram(a,
"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingDisplaySepia");d.shaderPickingDisplayHighlight=WebGL.ShaderProgram(c,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingDisplayHighlight");d.shaderPickingDisplayExceedsMaxObjectCount=WebGL.ShaderProgram(r,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}",
"shaderPickingDisplayExceedsMaxObjectCount");d.shaderPickingDisplayExceedsMaxFaceCount=WebGL.ShaderProgram(h,"precision mediump float;\nprecision mediump int;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n    gl_FragColor = vColor;\n}","shaderPickingDisplayExceedsMaxFaceCount");this.picking=new k.Picking};k.PickingRenderStream=f})(Renderer);
(function(k){function d(a,c){k.RenderStream.prototype.constructor.call(this);this.mesh=a;this.material=c;this.shaderProgram=WebGL.shaderPosition;this.serializeSourceData()}function f(a,c){k.setShaderProgram(a);gl.uniform1f(a.uStep,1/512);gl.uniformMatrix4fv(a.uMatP,!1,l);gl.uniformMatrix4fv(a.uMatMV,!1,r);gl.uniformMatrix4fv(a.uMatTexture,!1,h);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,c);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,
gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.uniform1i(a.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,e);gl.vertexAttribPointer(a.aPosition,3,gl.FLOAT,!1,12,0);gl.drawArrays(gl.TRIANGLES,0,6)}function b(){this.map=null;this.mapHeight=this.mapWidth=512;this.mapBorder=0;this.mapSecondary=null;this.blurMode=2;this.blurPasses=1;this.intensity=.4;this.elevation=.02;this.blendType=0;this.vertices=[];this.texCoords=[];this.streams=[];this.timeCreated=null;e=WebGL.createVertexBuffer([0,0,0,0,1,0,1,1,0,1,1,0,1,0,0,0,
0,0]);g=WebGL.ShaderProgram("attribute vec3 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = aTexCoord;\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform float     uIntensity;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  vec4 color   = texture2D(uSampler, vTexCoord);\n  gl_FragColor = vec4(uIntensity * color.rgb, 0.0);\n}",
"shaderShadowPlaneMul");a=WebGL.ShaderProgram("attribute vec3 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = aTexCoord;\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform float     uIntensity;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  vec4 color   = texture2D(uSampler, vTexCoord);\n  gl_FragColor = vec4(0.0, 0.0, 0.0, uIntensity * color.r);\n}",
"shaderShadowPlaneLerp");c=WebGL.ShaderProgram("attribute vec3 aPosition;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatTexture;\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = vec2(uMatTexture * vec4(aPosition, 1.0));\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform float     uStep;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  vec4 colorSum = vec4(0.0, 0.0, 0.0, 0.0);\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s - uStep, vTexCoord.t));\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s,         vTexCoord.t));\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s + uStep, vTexCoord.t));\n  colorSum *= 1.0 / 3.0;\n\n  gl_FragColor = colorSum;\n}",
"shaderFilterBlurH");m=WebGL.ShaderProgram("attribute vec3 aPosition;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatTexture;\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = vec2(uMatTexture * vec4(aPosition, 1.0));\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform float     uStep;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  vec4 colorSum = vec4(0.0, 0.0, 0.0, 0.0);\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t - uStep));\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t));\n  colorSum += texture2D(uSampler, vec2(vTexCoord.s, vTexCoord.t + uStep));\n  colorSum *= 1.0 / 3.0;\n\n  gl_FragColor = colorSum;\n}",
"shaderFilterBlurV")}var e,g,a,c,m,l=mat4.create(),r=mat4.create(),h=mat4.create(),C=new k.Material({name:"ShadowPlane Material",blend:!0,depthTest:!0,depthWrite:!0,options:{lighting:!1}});d.prototype=Object.create(k.RenderStream.prototype);d.prototype.constructor=d;d.prototype.serializeSourceData=function(){var a=this.mesh,c,b=0;for(c=0;c<a.materialStreams.length;c++){var d=a.materialStreams[c];b+=d.positions.length}var e=0;b=new Float32Array(b);for(c=0;c<a.materialStreams.length;c++)d=a.materialStreams[c],
b.set(d.positions,e),e+=d.positions.length;a=new k.RenderStreamBuffer;a.addAttribute("aPosition",3,gl.FLOAT,b);this.buffers.push(a);this.vertexCount=b.length/3};d.prototype.loadUniforms=function(a,c,b){b=this.shaderProgram;gl.uniformMatrix4fv(b.uMatP,!1,a);gl.uniformMatrix4fv(b.uMatMV,!1,c);gl.uniform4f(b.uColor,1,1,1,1)};b.prototype.renderMap=function(a,c){this.map?this.map.requestSize(this.mapWidth,this.mapWidth):this.map=new WebGL.Renderable({alpha:!1,depth:!0,sizeStep:1,width:this.mapWidth,height:this.mapWidth});
var b=c[0]-a[0],d=c[2]-a[2];c=.5*Math.max(b,d)+this.mapBorder;var e=-c,f=-c;b=a[0]+.5*b;a=a[2]+.5*d;WebGL.renderTargetState.save();WebGL.renderTargetState.setFromRenderable(this.map);d=new k.Camera;d.mode=k.cmOrthographic;d.setOrthographic(e,c,f,c,1,100);d.lookAt(vec3.fromValues(b,20,a),vec3.fromValues(b,0,a),vec3.fromValues(0,0,1));d.setViewport({x:0,y:0,width:this.mapWidth,height:this.mapWidth});gl.clearColor(0,0,0,0);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);k.drawRenderStreams(this.streams,
d);WebGL.renderTargetState.restore();e=b+e;f=a+f;b+=c;c=a+c;a=this.elevation;this.vertices=[vec3.fromValues(e,a,c),vec3.fromValues(b,a,c),vec3.fromValues(b,a,f),vec3.fromValues(e,a,f)];this.texCoords=[{x:1,y:1},{x:0,y:1},{x:0,y:0},{x:1,y:0}]};b.prototype.applyBlurFilterCPU=function(){var a=this.map.width,c=this.map.height,b=new Uint8Array(4*a*c),d=new Uint8Array(4*a*c);WebGL.renderTargetState.save();gl.bindFramebuffer(gl.FRAMEBUFFER,this.map.framebuffer.webGLFramebuffer);gl.readPixels(0,0,a,c,gl.RGBA,
gl.UNSIGNED_BYTE,b);WebGL.renderTargetState.restore();for(var e=b,f=Math.floor(c/2),g=0;g<f;g++)for(var h=4*a*g,l=4*a*(c-1-g),m=0;m<4*a;m++){var r=e[h],z=e[l];e[h++]=z;e[l++]=r}for(e=0;e<this.blurPasses;e++)switch(this.blurMode){case 0:g=a;h=c;l=b;m=d;r=[1,1,1,1,1,1,1,1,1];for(z=1;z<h-1;z++)for(var C=1;C<g-1;C++){for(var K=0,L=0,P=0,J=-1;1>=J;J++)for(var O=z+J,G=-1;1>=G;G++){f=4*(g*O+(C+G));var H=l[f+1],Q=l[f+2];K+=r[3*(1+J)+(1+G)]*l[f+0];L+=r[3*(1+J)+(1+G)]*H;P+=r[3*(1+J)+(1+G)]*Q}f=4*(g*z+C);m[f+
0]=Math.round(K/9);m[f+1]=Math.round(L/9);m[f+2]=Math.round(P/9);m[f+3]=l[f+3]}f=b;b=d;d=f;break;case 1:f=a;g=c;h=b;l=d;m=4*f;for(r=1;r<g-1;r++)for(z=m*r+4,C=1;C<f-1;C++)K=Math.round((h[z-4]+h[z+0]+h[z+4])/3),l[z+0]=K,l[z+1]=K,l[z+2]=K,l[z+3]=h[z+3],z+=4;f=a;g=c;h=d;l=b;m=4*f;for(r=1;r<f-1;r++)for(z=1*m+4*r,C=1;C<g-1;C++)K=Math.round((h[z-m]+h[z+0]+h[z+m])/3),l[z+0]=K,l[z+1]=K,l[z+2]=K,l[z+3]=h[z+3],z+=m}d=new k.Texture;d.fromUint8Array(b,a,c);this.map.switchWebGLTexture(d.webGLTexture)};b.prototype.applyBlurFilterGPU=
function(){var a=this.map.width,b=this.map.height;this.mapSecondary?this.mapSecondary.requestSize(a,a):this.mapSecondary=new WebGL.Renderable({alpha:!1,depth:!0,sizeStep:1,width:a,height:a});var d=a-0,e=b-0,g=0/a,w=0/b;b=0+g;a=1-w;g=1-g;w=0+w;mat4.ortho(l,0,d,e,0,-1,1);r[0]=d-0;r[5]=e-0;r[12]=0;r[13]=0;h[0]=g-b;h[5]=w-a;h[12]=b;h[13]=a;k.pushState();k.setDepthTest(!1);k.setDepthWrite(!1);b=this.map.framebuffer;a=this.mapSecondary.framebuffer;WebGL.renderTargetState.save();gl.viewport(0,0,d-0,e-0);
for(d=0;d<this.blurPasses;d++)gl.bindFramebuffer(gl.FRAMEBUFFER,a.webGLFramebuffer),f(c,b.webGLTexture),gl.bindFramebuffer(gl.FRAMEBUFFER,b.webGLFramebuffer),f(m,a.webGLTexture);WebGL.renderTargetState.restore();k.popState()};b.prototype.update=function(a){var c=a.boundingBox.min;a=a.boundingBox.max;isFinite(c[0])&&(this.renderMap(c,a),performance.now(),2===this.blurMode?this.applyBlurFilterGPU():this.applyBlurFilterCPU(),this.timeCreated=performance.now())};b.prototype.draw=function(c){if(this.map){var b=
performance.now();var d=this.timeCreated?Math.min(1,(b-this.timeCreated)/2E3):1;k.bindBuffer(null);b=this.blendType;var e=this.vertices;d*=this.intensity;var f=this.texCoords,h=this.map.framebuffer.webGLTexture,l=c.mProjection;c=c.mView;var m=[];m.push(e[0][0],e[0][1],e[0][2],f[0].x,f[0].y,e[1][0],e[1][1],e[1][2],f[1].x,f[1].y,e[2][0],e[2][1],e[2][2],f[2].x,f[2].y,e[3][0],e[3][1],e[3][2],f[3].x,f[3].y);e=[0,1,2,2,3,0];f=WebGL.createVertexBuffer(m);m=WebGL.createIndexBuffer(e);var r=0===b?g:a;k.pushState();
k.setDepthWrite(!1);switch(b){case 0:gl.blendFunc(gl.ZERO,gl.ONE_MINUS_SRC_COLOR);break;case 1:gl.blendFunc(gl.ONE,gl.ZERO)}k.setShaderProgram(r);gl.uniform1f(r.uIntensity,d);gl.uniformMatrix4fv(r.uMatP,!1,l);gl.uniformMatrix4fv(r.uMatMV,!1,c);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,h);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);gl.uniform1i(r.uSampler,0);gl.bindBuffer(gl.ARRAY_BUFFER,f);gl.vertexAttribPointer(r.aPosition,
3,gl.FLOAT,!1,20,0);gl.vertexAttribPointer(r.aTexCoord,2,gl.FLOAT,!1,20,12);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,m);gl.drawElements(gl.TRIANGLES,e.length,gl.UNSIGNED_SHORT,0);gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA);k.popState();gl.deleteBuffer(f);gl.deleteBuffer(m)}};b.prototype.drawDisplay=function(){if(this.map){var a=this.map.width,c=this.map.height,b=gl.drawingBufferWidth-16-a;k.bindBuffer(null);k.drawScreenRectFT(b,16,b+a,16+c,this.map.framebuffer.webGLTexture,0,1,1,0,WebGL.RGBA(1,
1,1,1))}};k.bmCPUOnePass=0;k.bmCPUTwoPass=1;k.bmGPU=2;k.btMultiply=0;k.btInterpolate=1;k.createShadowPlaneRenderStream=function(a){var c=mat4.create();mat4.scale(c,a.mWorld,vec3.fromValues(1,1,1));var b=new d(a.mesh,C);b.node=a;b.mWorld=c;return b};k.ShadowPlane=b})(Renderer);
(function(k){function d(b,a){k.RenderStream.prototype.constructor.call(this);this.mesh=b;this.material=a;this.shaderProgram=WebGL.ShaderProgram("attribute vec3 aPosition;\nattribute vec2 aTexCoord;\n\nvarying vec2 vTexCoord;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vTexCoord   = aTexCoord;\n}","precision highp float;\nprecision highp int;\n\nvarying vec2 vTexCoord;\n\nuniform float     uOpacity;\nuniform sampler2D uSampler;\n\nvoid main(void) {\n  gl_FragColor = vec4(texture2D(uSampler, vTexCoord).rgb * uOpacity, uOpacity);\n}",
"shaderSkyBox");this.initialize();this.serializeSourceData()}function f(e){this.opacityValue=this.opacity=0;var a=b,c=new k.Mesh;c.setMaterial(a);a=e/2;var f=e/2;e/=2;c.addVertex(-a,-f,-e);c.addVertex(a,-f,-e);c.addVertex(a,-f,e);c.addVertex(-a,-f,e);c.addVertex(-a,f,-e);c.addVertex(a,f,-e);c.addVertex(a,f,e);c.addVertex(-a,f,e);e=1/3;a=2/3;c.addFace([3,2,1,0],[],[{u:.5,v:0},{u:1,v:0},{u:1,v:e},{u:.5,v:e}],[],0);c.addFace([4,5,6,7],[],[{u:0,v:e},{u:.5,v:e},{u:.5,v:0},{u:0,v:0}],[],0);c.addFace([5,
4,0,1],[],[{u:.5,v:a},{u:0,v:a},{u:0,v:e},{u:.5,v:e}],[],0);c.addFace([6,5,1,2],[],[{u:1,v:1},{u:.5,v:1},{u:.5,v:a},{u:1,v:a}],[],0);c.addFace([7,6,2,3],[],[{u:.5,v:1},{u:0,v:1},{u:0,v:a},{u:.5,v:a}],[],0);c.addFace([4,7,3,0],[],[{u:1,v:a},{u:.5,v:a},{u:.5,v:e},{u:1,v:e}],[],0);c.getMaterialStreamAttributeData({texCoords1:!0});this.stream=new d(c,b);this.stream.uniforms={uOpacity:0}}var b=new k.Material({name:"SkyBox Material",blend:!0,depthTest:!1,depthWrite:!1,options:{lighting:!1}}),e=mat4.create();
d.prototype=Object.create(k.RenderStream.prototype);d.prototype.constructor=d;d.prototype.initialize=function(){this.registerTexture({textures:[null]},{type:"diffuse",texCoordSource:0});this.materialStream=this.mesh.materialStreams[0];this.vertexCount=this.materialStream.positions.length/3};d.prototype.serializeSourceData=function(){var b=this.createBuffer(this.vertexCount,{});this.buffers.push(b);k.performanceData.bufferTotalSize+=b.data.length;k.performanceData.bufferCount++};d.prototype.loadUniforms=
function(b,a,c){c=this.shaderProgram;gl.uniformMatrix4fv(c.uMatP,!1,b);gl.uniformMatrix4fv(c.uMatMV,!1,a);gl.uniform1f(c.uOpacity,this.uniforms.uOpacity);gl.uniform1i(c.uSampler,0)};f.prototype.setTexture=function(b){this.stream.textures[0].map.textures[0]=b};f.prototype.update=function(b){b*=1;this.opacityValue<this.opacity?(this.opacityValue+=b,this.opacityValue>=this.opacity&&(this.opacityValue=this.opacity)):this.opacityValue>this.opacity&&(this.opacityValue-=b,this.opacityValue<this.opacity&&
(this.opacityValue=this.opacity))};f.prototype.draw=function(b){if(null!==this.stream.textures[0].map.textures[0]&&0!==this.opacityValue){mat4.copy(e,b.mView);e[12]=0;e[13]=0;e[14]=0;var a=this.opacityValue;this.stream.uniforms.uOpacity=.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1;this.stream.draw(b.mProjection,e)}};k.SkyBox=f})(Renderer);
var GeometryGeneration=function(){return{createPlane:function(k,d,f,b,e,g){g=g||{};void 0===g.triangulate&&(g.triangulate=!0);var a=new Renderer.Mesh;a.setMaterial(k);var c=d+1;k=f+1;var m=d*b,l=f*e,r,h;for(h=0;h<k;h++){var C=-.5*l+h*e;for(r=0;r<c;r++)a.addVertex(-.5*m+r*b,0,C)}for(h=0;h<f;h++)for(r=0;r<d;r++)b=r/d,e=h/f,c=(r+1)/d,m=(h+1)/f,a.addFace([(h+1)*k+r,(h+1)*k+(r+1),h*k+(r+1),h*k+r],[],[{u:b,v:m},{u:c,v:m},{u:c,v:e},{u:b,v:e}],[],0,g.triangulate);a.generateNormals();return a},createColorfulPlane:function(k,
d,f,b,e){e=e||{};void 0===e.triangulate&&(e.triangulate=!0);var g=new Renderer.Mesh,a=k+1,c=d+1,m,l;for(l=0;l<c;l++){var r=l*b;for(m=0;m<a;m++)g.addVertex(m*f,0,r)}for(l=0;l<d;l++)for(m=0;m<k;m++){f=l*c+m;b=l*c+(m+1);a=(l+1)*c+(m+1);r=(l+1)*c+m;var h=m/k;var C=l/d,q=(m+1)/k;var p=(l+1)/d;var A={u:h,v:C};C={u:q,v:C};q={u:q,v:p};var n={u:h,v:p};h=MathUtils.hsvToRgb(120*m/k,.5+l/(2*d),1);p=new Renderer.Material;p.color.ambient=h;p.color.diffuse=h;p.color.specular=h;g.setMaterial(p);g.addFace([r,a,b,
f],[],[n,q,C,A],[],0,e.triangulate)}g.generateNormals();return g},createBox:function(k,d,f,b,e){e=e||{};void 0===e.triangulate&&(e.triangulate=!0);var g=new Renderer.Mesh;g.setMaterial(k);k=d/2;f/=2;b/=2;g.addVertex(-k,-f,-b);g.addVertex(k,-f,-b);g.addVertex(k,f,-b);g.addVertex(-k,f,-b);g.addVertex(-k,-f,b);g.addVertex(k,-f,b);g.addVertex(k,f,b);g.addVertex(-k,f,b);g.addFace([3,2,1,0],[],[],[],0,e.triangulate);g.addFace([2,6,5,1],[],[],[],0,e.triangulate);g.addFace([4,5,6,7],[],[],[],0,e.triangulate);
g.addFace([0,4,7,3],[],[],[],0,e.triangulate);g.addFace([0,1,5,4],[],[],[],0,e.triangulate);g.addFace([7,6,2,3],[],[],[],0,e.triangulate);g.generateNormals();return g},createSphere:function(k,d,f,b,e){e=e||{};void 0===e.triangulate&&(e.triangulate=!0);var g=new Renderer.Mesh;g.setMaterial(k);var a;g.addVertex(0,d,0);for(a=1;a<f;a++){var c=Math.PI*a/f;for(k=0;k<b;k++){var m=MathUtils.sphericalToCartesian(d,c,2*Math.PI*k/b);g.addVertex(m[0],m[1],m[2])}}var l=g.addVertex(0,-d,0);var r=0;var h=1/f;for(k=
0;k<b;k++){d=1+k;c=1+(k+1)%b;var C=k/b;var q=(k+1)/b;var p={u:C,v:r};var A={u:C,v:h};q={u:q,v:h};g.addFace([0,c,d],[],[p,q,A])}for(a=0;a<f-2;a++)for(k=0;k<b;k++){d=1+a*b+k;c=1+a*b+(k+1)%b;m=1+(a+1)*b+(k+1)%b;var n=1+(a+1)*b+k;C=k/b;r=a/f;q=(k+1)/b;h=(a+1)/f;p={u:C,v:r};A={u:q,v:r};q={u:q,v:h};C={u:C,v:h};g.addFace([d,c,m,n],[],[p,A,q,C],[],0,e.triangulate)}r=1;h=(f-1)/f;for(k=0;k<b;k++)d=1+(f-2)*b+k,c=1+(f-2)*b+(k+1)%b,C=k/b,q=(k+1)/b,p={u:C,v:r},A={u:C,v:h},q={u:q,v:h},g.addFace([d,c,l],[],[A,q,
p]);if(e.useSmoothingGroups)for(k=0;k<g.faces.length;k++)g.faces[k].smoothingGroups=1;g.generateNormals();return g},createColorfulSphere:function(k,d,f,b){b=b||{};void 0===b.triangulate&&(b.triangulate=!0);var e=new Renderer.Mesh,g,a;e.addVertex(0,k,0);for(a=1;a<d;a++){var c=Math.PI*a/d;for(g=0;g<f;g++){var m=MathUtils.sphericalToCartesian(k,c,2*Math.PI*g/f);e.addVertex(m[0],m[1],m[2])}}var l=e.addVertex(0,-k,0);var r={u:0,v:0};var h=1/d;for(g=0;g<f;g++){k=1+g;c=1+(g+1)%f;var C=g/f;var q=(g+1)/f;
var p={u:C,v:h};q={u:q,v:h};C="undefined"===typeof b.hue?360*g/f:b.hue;C+=30*(Math.random()-.5);0>C&&(C+=360);C=MathUtils.hsvToRgb(C,.5+1/(2*d),1);var A=new Renderer.Material;A.color.ambient=C;A.color.diffuse=C;A.color.specular=C;e.setMaterial(A);e.addFace([0,c,k],[],[r,q,p])}for(a=0;a<d-2;a++)for(g=0;g<f;g++){k=1+a*f+g;c=1+a*f+(g+1)%f;m=1+(a+1)*f+(g+1)%f;var n=1+(a+1)*f+g;C=g/f;p=a/d;q=(g+1)/f;h=(a+1)/d;r={u:C,v:p};p={u:q,v:p};q={u:q,v:h};h={u:C,v:h};C="undefined"===typeof b.hue?360*g/f:b.hue;C+=
30*(Math.random()-.5);0>C&&(C+=360);C=MathUtils.hsvToRgb(C,.5+(2+a)/(2*d),1);A=new Renderer.Material;A.color.ambient=C;A.color.diffuse=C;A.color.specular=C;e.setMaterial(A);e.addFace([k,c,m,n],[],[r,p,q,h],[],0,b.triangulate)}r={u:0,v:1};h=(d-1)/d;for(g=0;g<f;g++)k=1+(d-2)*f+g,c=1+(d-2)*f+(g+1)%f,C=g/f,q=(g+1)/f,p={u:C,v:h},q={u:q,v:h},C="undefined"===typeof b.hue?360*g/f:b.hue,C+=30*(Math.random()-.5),0>C&&(C+=360),C=MathUtils.hsvToRgb(C,1,1),A=new Renderer.Material,A.color.ambient=C,A.color.diffuse=
C,A.color.specular=C,e.setMaterial(A),e.addFace([k,c,l],[],[p,q,r]);if(b.useSmoothingGroups)for(g=0;g<e.faces.length;g++)e.faces[g].smoothingGroups=1;e.generateNormals();return e},createColorfulTaperedCone:function(k,d,f,b,e,g,a){a=a||{};void 0===a.triangulate&&(a.triangulate=!0);var c=new Renderer.Mesh,m=2*Math.PI/b,l,r;for(l=r=0;l<b;l++){var h=Math.cos(r)*d;var C=k/2;var q=Math.sin(r)*d;c.addVertex(h,C,q);r+=m}for(l=r=0;l<b;l++)h=Math.cos(r)*f,C=-k/2,q=Math.sin(r)*f,c.addVertex(h,C,q),r+=m;f=0;
d*=2*Math.PI/b;m=a.useSmoothingGroups?1:0;for(l=0;l<b;l++){r=l;h=(l+1)%b;var p=f;var A=f+d;C={u:p,v:0};q={u:A,v:0};A={u:A,v:k};var n={u:p,v:k};p=MathUtils.hsvToRgb(60*l/b,1,1);var u=new Renderer.Material;u.color.ambient=p;u.color.diffuse=p;u.color.specular=p;c.setMaterial(u);c.addFace([r,h,b+h,b+r],[],[C,q,A,n],[],m,a.triangulate);f+=d}p=MathUtils.hsvToRgb(30,1,1);u=new Renderer.Material;u.color.ambient=p;u.color.diffuse=p;u.color.specular=p;c.setMaterial(u);k=[];f=[];for(l=0;l<b;l++)k.push(b-1-l),
f.push(b+l);e&&c.addFace(k,[],[],[],0,a.triangulate);g&&c.addFace(f,[],[],[],0,a.triangulate);c.generateNormals();return c}}}(),GeometryHelpers=function(){return{getMaterialsThatUseTexture:function(k,d){d=[];var f,b,e,g=Object.keys(k);for(f=0;f<g.length;f++){var a=k[g[f]],c=Object.keys(a.maps);for(b=0;b<c.length;b++){var m=a.maps[c[b]];for(e=0;e<m.textures.length&&!m.textures[e];e++);if(e<m.textures.length)break}b<c.length&&d.push(a)}return d},getNodesThatUseMaterial:function(k,d){for(var f=[],b=
0;b<k.length;b++){var e=k[b];if(e.mesh)for(var g=0;g<e.mesh.materialStreams.length;g++)e.mesh.materialStreams[g].material.name===d&&f.push(e)}return f},getTexturesUsedInMaterials:function(k){for(var d=[],f=0;f<k.length;f++)for(var b=k[f],e=Object.keys(b.maps),g=0;g<e.length;g++)for(var a=b.maps[e[g]],c=0;c<a.textures.length;c++){var m=a.textures[c];m&&-1===d.indexOf(m)&&d.push(m)}return d},getMaterialsUsedInNodes:function(k){for(var d=[],f=0;f<k.length;f++){var b=k[f];if(b.mesh)for(var e=0;e<b.mesh.materialStreams.length;e++){var g=
b.mesh.materialStreams[e].material;-1===d.indexOf(g)&&d.push(g)}}return d},getTexturesUsedInNodes:function(k){k=this.getMaterialsUsedInNodes(k);return this.getTexturesUsedInMaterials(k)},replaceTextureInMaterials:function(k,d,f){for(var b=0;b<k.length;b++)for(var e=k[b],g=Object.keys(e.maps),a=0;a<g.length;a++)for(var c=e.maps[g[a]],m=0;m<c.textures.length;m++){var l=c.textures[m];l&&l.name===d.name&&(c.textures[m]=f)}},replaceTextureInNodes:function(k,d,f){for(var b=0;b<k.length;b++){var e=k[b];
if(e.mesh)for(var g=0;g<e.mesh.materialStreams.length;g++)for(var a=e.mesh.materialStreams[g].material,c=Object.keys(a.maps),m=0;m<c.length;m++)for(var l=a.maps[c[m]],r=0;r<l.textures.length;r++)l.textures[r]===d&&(l.textures[r]=f)}},replaceMaterialInNodes:function(k,d,f){for(var b=0;b<k.length;b++){var e=k[b];if(e.mesh){var g;for(g=0;g<e.mesh.faces.length;g++){var a=e.mesh.faces[g];a.material===d&&(a.material=f)}for(g=0;g<e.mesh.materialStreams.length;g++)a=e.mesh.materialStreams[g],a.material===
d&&(a.material=f)}}},getBoundingSphereFromBoundingBox:function(k,d){if(isFinite(k[0])){var f=vec3.create();var b=vec3.create();var e=vec3.create();vec3.sub(f,d,k);vec3.scale(b,f,.5);vec3.add(e,k,f);k=Math.sqrt(vec3.dot(b,b))}else e=vec3.fromValues(0,0,0),k=Number.NEGATIVE_INFINITY;return{center:e,radius:k}},transformArray:function(k,d){for(var f=vec3.create(),b=0;b<k.length;b+=3)f[0]=k[b+0],f[1]=k[b+1],f[2]=k[b+2],vec3.transformMat4(f,f,d),k[b+0]=f[0],k[b+1]=f[1],k[b+2]=f[2]},generateNormalsArray:function(k,
d){function f(a,c){a[0]=d[c+0];a[1]=d[c+1];a[2]=d[c+2]}function b(a,c){k[a+0]=c[0];k[a+1]=c[1];k[a+2]=c[2]}for(var e=vec3.create(),g=vec3.create(),a=vec3.create(),c=vec3.create(),m=vec3.create(),l=vec3.create(),r=0;r<d.length;r+=9)f(e,r+0),f(g,r+3),f(a,r+6),vec3.sub(c,g,e),vec3.sub(m,a,e),vec3.cross(l,c,m),vec3.normalize(l,l),b(r+0,l),b(r+3,l),b(r+6,l)},calculateMeshBounds:function(k,d){var f=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY;b=vec3.fromValues(b,b,b);f=vec3.fromValues(f,f,f);for(var e=
0;e<k.materialStreams.length;e++){var g=k.materialStreams[e].positions,a,c=vec3.create();if("undefined"!==typeof d)for(a=0;a<g.length;a+=3)c[0]=g[a+0],c[1]=g[a+1],c[2]=g[a+2],vec3.transformMat4(c,c,d),vec3.min(b,b,c),vec3.max(f,f,c);else for(a=0;a<g.length;a+=3)c[0]=g[a+0],c[1]=g[a+1],c[2]=g[a+2],vec3.min(b,b,c),vec3.max(f,f,c)}return{min:b,max:f}}}}(),ModelIO=function(){function k(){this.items={}}function d(){this.textures={};this.materials={};this.rootNodes=[];this.cameraBookmarks=[]}var f={LoadingFunctions:{}};
k.prototype.add=function(b){this.items[b.src]=b};k.prototype.addSet=function(b){for(var d=Object.keys(b.items),f=0;f<d.length;f++)this.add(b.items[d[f]])};k.prototype.concat=function(b){var d=new k;d.addSet(this);d.addSet(b);return d};k.prototype.getAsList=function(){for(var b=[],d=Object.keys(this.items),f=0;f<d.length;f++)b.push(this.items[d[f]]);return b};d.prototype.getUniqueTextureName=function(){var b=1;do var d="Undefined Texture "+b++;while(this.textures[d]);return d};d.prototype.getUniqueMaterialName=
function(){var b=1;do var d="Undefined Material "+b++;while(this.materials[d]);return d};d.prototype.createTexture=function(b,d){if(this.textures[b])throw"Texture "+b+" already exists.";var e=new Renderer.Texture({name:b});e.importer={missing:!0,refCount:0};d&&Utils.mergeAttributes(e.importer,d);return this.textures[b]=e};d.prototype.createMaterial=function(b,d){if(this.materials[b])throw"Material "+b+" already exists.";var e=new Renderer.Material({name:b});e.importer={missing:!0,refCount:0};d&&Utils.mergeAttributes(e.importer,
d);return this.materials[b]=e};d.prototype.getOrCreateTexture=function(b,d){var e=this.textures[b];e?d.missing||(e.importer.missing?e.importer.missing=!1:console.error("Texture "+b+" has already been defined.")):e=this.createTexture(b,d);return e};d.prototype.getOrCreateMaterial=function(b,d){var e=this.materials[b];e?d.missing||(e.importer.missing?e.importer.missing=!1:console.error("Material "+b+" has already been defined.")):e=this.createMaterial(b,d);return e};d.prototype.getCoordinateSystem=
function(){return{handedness:!1,upAxis:!1,unitName:!1,unitToMeter:!1}};d.prototype.convertTextures=function(){};d.prototype.convertMaterials=function(){};d.prototype.convertGeometry=function(){};d.prototype.getDependencies=function(b){b=new k;f.getMapDependencies(b,this.materials,"");return b};d.prototype.preprocess=function(){};d.prototype.getNodeList=function(){for(var b=[],d=0;d<this.rootNodes.length;d++)b=b.concat(this.rootNodes[d].getTreeAsList());return b};d.prototype.process=function(b,d,f){f=
f||{};this.filename=b;this.srcModel=d;this.options=f;this.importer={};this.preprocess();this.convertTextures();this.convertMaterials();this.convertGeometry();var a={};a.srcModel=d;a.filename=b;a.coordinateSystem=this.getCoordinateSystem();a.importer=this.importer;a.textures=this.textures;a.materials=this.materials;a.rootNodes=this.rootNodes;a.nodeList=this.getNodeList();a.dependencies=this.getDependencies(f);a.cameraBookmarks=this.cameraBookmarks;return a};f.DependencySet=k;f.getMapDependencies=function(b,
d,f){var a=Utils.deviceIsMobilePhone();f=f?f+" ":"";for(var c="diffuse specular light normal environment opacity".split(" "),e=Object.keys(d),g=0;g<e.length;g++){var k=d[e[g]];if(!k.importer.missing)for(var h=0;h<c.length;h++){var C=c[h],q=k.maps[C],p=q.textures.length;a&&(p=Math.min(1,p));for(var A=0;A<p;A++){var n=q.textures[A];if(n&&n.importer.missing){var u=n.name;0<u.length&&("/"===u[0]||"\\"===u[0])&&(u=u.substring(1));var w=0===A?"level0":"level1";b.items[u]&&0!==A||b.add({src:u,tags:f+"texture "+
w+" "+C,owner:n})}}}}};f.ModelImporter=d;return f}();
(function(k){k.rtText=1;k.rtImage=2;k.rtBinary=3;k.rtXML=4;k.loadImage=function(d,f){var b="undefined"!==typeof f.onLoad?f.onLoad:null,e="undefined"!==typeof f.onError?f.onError:null,g=f.reader,a=f.importer;f=Utils.extractUrlParts(d);var c=decodeURIComponent(f.pathname);0<c.length&&("/"===c[0]||"\\"===c[0])&&(c=c.substring(1));f=new Image;f.onload=function(f){f=(new g).parse(c,f.target);if(null===f)e(d);else{var k=(new a).process(c,f);null===k?e(d):b(d,f,k)}};f.onerror=function(a){e(d)};f.crossOrigin=
"";f.src=d};k.loadResource=function(d,f){var b="undefined"!==typeof f.type?f.type:1,e="undefined"!==typeof f.onLoad?f.onLoad:null,g="undefined"!==typeof f.onError?f.onError:null,a="undefined"!==typeof f.onProgress?f.onProgress:null,c="undefined"!==typeof f.onAbort?f.onAbort:null,k=f.reader,l=f.importer;f=new XMLHttpRequest;f.onprogress=function(c){a&&a(d,c.loaded,c.total)};f.onabort=function(a){c&&c(d)};f.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){switch(b){case 1:var a=
this.responseText;break;case 2:a=this.response;break;case 3:a=this.response;break;case 4:a=this.responseXML}var c=Utils.extractUrlParts(d),f=decodeURIComponent(c.pathname);0<f.length&&("/"===f[0]||"\\"===f[0])&&(f=f.substring(1));if(2===b){a=DataView?new DataView(a):a;c=Utils.extractFileExt(d).toLowerCase();c=".jpg"===c?"jpeg":c.substring(1,c.length);a=new Blob([a],{type:"image/"+c});var m=window.URL||window.webkitURL;c=new Image;c.onload=function(a){m.revokeObjectURL(this.src);p=(new k).parse(f,
a.target);null===p?g(d):(A=(new l).process(f,p),null===A?g(d):e(d,p,A))};c.src=m.createObjectURL(a)}else{var p=(new k).parse(f,a);if(null===p)g(d);else{var A=(new l).process(f,p);null===A?g(d):e(d,p,A)}}}else g(d)};f.open("GET",d,!0);f.responseType=1===b||4===b?"text":"arraybuffer";f.send(null)};k.loadResourceByExt=function(d,f,b){var e=Object.keys(k.LoadingFunctions),g=Utils.extractFilenameFromUrl(d);e=Utils.extractFileExt(g,e);""===e?console.warn("ModelIO.loadResourceByExt: No file extension, cannot determine file type: "+
d+"."):"."===e?console.warn("ModelIO.loadResourceByExt: Null file extension, cannot determine file type: "+d+"."):(e=k.LoadingFunctions[e.toLowerCase()])?e(d,f,b):console.warn("ModelIO.loadResourceByExt: Unknown file extension: "+d+".")}})(ModelIO);
(function(k){function d(b,d,f){f=f||{};f="undefined"!==typeof f.fenced?f.fenced:!1;this.ownerQueue=b;this.name=d;this.fenced=f;this.attributes={};this.requestsWaiting=[];this.requestsRunning=[];this.requestsByUrl={};this.data={requestCount:0,timeFirstStarted:null,timeLastStarted:null,timeLastFinished:null}}function f(b){b=b||{};var d="undefined"!==typeof b.configuration?b.configuration:"(any ~any)",f="undefined"!==typeof b.attributes?b.attributes:{};b="undefined"!==typeof b.maxRunningRequestsPerBin?
b.maxRunningRequestsPerBin:0;this.configure(d);this.configuration=d;this.attributes=f;this.maxRunningRequestsPerBin=b;this.requests=[]}d.prototype.enqueueRequest=function(b,d,f,a){this.requestsByUrl[b]||(d={url:b,tags:d,status:"waiting",onSuccess:f,onError:a},this.requestsWaiting.push(d),this.requestsByUrl[b]=d,this.ownerQueue.requests.push(d),this.ownerQueue.processBins())};d.prototype.dequeueRequest=function(b){var d=this.requestsRunning.indexOf(b);if(-1===d)throw"LoadingQueueBin.dequeueRequest: Request not found in running queue ("+
b.url+").";this.requestsRunning.splice(d,1);if(!this.requestsByUrl[b.url])throw"LoadingQueueBin.dequeueRequest: Request not found in running requests directory ("+b.url+").";delete this.requestsByUrl[b.url];d=performance.now();this.data.timeLastFinished=d;b.status="finished";b.timeFinished=d;this.ownerQueue.processBins()};d.prototype.canStartRequest=function(){var b=this.ownerQueue.maxRunningRequestsPerBin;return 0===b||this.requestsRunning.length<b};d.prototype.startRequest=function(b){var d=this.requestsWaiting.indexOf(b);
if(-1===d)throw"LoadingQueueBin.startRequest: Request not found in waiting queue ("+b.url+").";this.requestsWaiting.splice(d,1);this.requestsRunning.push(b);d=performance.now();var f=this.data;null===f.timeFirstStarted&&(f.timeFirstStarted=d);f.timeLastStarted=d;f.requestCount++;b.status="running";b.timeStarted=d;var a=this;k.loadResourceByExt(b.url,function(c,d,e,f){b.onSuccess(c,d,e);a.dequeueRequest(b)},function(c){b.onError(c);a.dequeueRequest(b)})};f.prototype.configure=function(b){this.binsByPriority=
[];var e=b.split("\n");for(b=0;b<e.length;b++){var f=e[b].trim(),a="|"===f.charAt(f.length-1),c=k.LoadingQueueTagExpressionParser.parse(f);this.binsByPriority.push({name:f,fenced:a,expression:c})}this.bins={};for(b=0;b<this.binsByPriority.length;b++)e=this.binsByPriority[b],this.bins[e.name]=new d(this,e.name,{fenced:e.fenced})};f.prototype.processBins=function(){for(var b=null,d=0;d<this.binsByPriority.length;d++){for(var f=this.bins[this.binsByPriority[d].name];0<f.requestsWaiting.length&&f.canStartRequest();)f.startRequest(f.requestsWaiting[0]);
null===b&&0<f.requestsRunning.length&&(b=d);if(null!==b&&f.fenced)break}};f.prototype.enqueueRequest=function(b,d,f){var a=d.replace(/\*/g,""),c=a.split(" "),e;for(e=0;e<this.binsByPriority.length;e++){var g=this.binsByPriority[e];if(g.expression.evaluate(c)){c=this.bins[g.name];c.requestsByUrl[b]||c.enqueueRequest(b,a,f.onSuccess,f.onError);break}}if(e===this.binsByPriority.length)if(f.onPassThrough)f.onPassThrough(b);else console.warn("LoadingQueue.enqueueRequest: No match found for resource "+
b+" with tags "+d+".")};f.prototype.collect=function(b){var d=[];b=k.LoadingQueueTagExpressionParser.parse(b);for(var f=0;f<this.requests.length;f++){var a=this.requests[f];b.evaluate(a.tags)&&d.push(a)}return d};k.LoadingQueue=f})(ModelIO);
(function(k){function d(d){this.type=d;this.terms=[]}d.prototype.evaluateTerm=function(d,b){return"string"===typeof b?"any"===b?0<d.length:-1<d.indexOf(b):b.evaluate(d)};d.prototype.evaluate=function(d){if("not"===this.type){var b=this.terms[0];return!this.evaluateTerm(d,b)}for(var e=0;e<this.terms.length;e++){b=this.terms[e];b=this.evaluateTerm(d,b);if("and"===this.type&&!b)return!1;if("or"===this.type&&b)return!0}return"and"===this.type};k.LoadingQueueTagExpression=d;k.LoadingQueueTagExpressionParser=
{match:function(d){if(d&&this.tokens[this.tokenIndex]!==d)throw"Expected "+d+", found "+this.tokens[this.tokenIndex]+" instead.";this.tokenIndex++},parseExpression:function(f){function b(){var a=e.charAt(0);return"A"<=a&&"Z">=a||"a"<=a&&"z">=a}var e;f=new d(f);for(e=this.tokens[this.tokenIndex];b()||"~"===e||"["===e||"("===e;){switch(e){case "~":this.match("~");var g=new d("not");e=this.tokens[this.tokenIndex];if(b()){this.match();var a=e}else if("~"===e||"["===e||"("===e)a=this.parseExpression("not");
else throw"Expected tag or expression, found "+this.tokens[this.tokenIndex]+" instead.";g.terms.push(a);break;case "[":this.match("[");g=this.parseExpression("and");this.match("]");break;case "(":this.match("(");g=this.parseExpression("or");this.match(")");break;default:this.match(),g=e}f.terms.push(g);e=this.tokens[this.tokenIndex]}return 1===f.terms.length&&"object"===typeof f.terms[0]?f.terms[0]:f},parse:function(d){d=(d+"\n").replace(/~/g," ~ ");d=d.replace(/\[/g," [ ");d=d.replace(/\]/g," ] ");
d=d.replace(/\(/g," ( ");d=d.replace(/\)/g," ) ");d=d.replace(/\|/g," ");d=d.replace(/\s+/g," ");d=d.trim();this.tokens=d.split(" ");this.tokenIndex=0;this.tokens.push("\n");return this.parseExpression("and")}}})(ModelIO);
(function(k){k.LoadingQueue.prototype.getPerformanceData=function(){function d(a,c){return Array(c-a.length+1).join(" ")+a}var f,b="";for(f=0;f<this.binsByPriority.length;f++){var e=this.binsByPriority[f].name;var g=this.bins[e];g=g.data;if(0<g.requestCount){var a=g.timeFirstStarted;b+="("+(a/1E3).toFixed(1)+")\n";break}}for(f=0;f<this.binsByPriority.length;f++)if(e=this.binsByPriority[f].name,g=this.bins[e],g=g.data,b+=e+Array(40-e.length+1).join(" ")+": ",0<g.requestCount){var c=g.timeFirstStarted-
a,k=g.timeLastStarted-a;e=(c/1E3).toFixed(1);k=(k/1E3).toFixed(1);if(null!==g.timeLastFinished){var l=g.timeLastFinished-a;var r=l-c;c=(l/1E3).toFixed(1);l=(r/1E3).toFixed(1)}else l=c="-";b+=d(e,5)+" - "+d(k,5)+" / "+d(c,5)+" ("+d(l,5)+") ["+d(g.requestCount.toString(),4)+"]\n"}else b+="<inactive>\n";return b}})(ModelIO);
(function(k){function d(){this.image=null}function f(){}function b(){k.ModelImporter.prototype.constructor.call(this)}function e(d,a,c){k.loadResource(d,{type:k.rtImage,reader:f,importer:b,onLoad:a,onError:c})}f.prototype.parse=function(b,a,c){b=new d;b.image=a;return b};b.prototype=new k.ModelImporter;b.prototype.constructor=b;b.prototype.convertTextures=function(){var b=this.srcModel.image,a=this.createTexture(this.filename,{missing:!1});a.width=b.width;a.height=b.height;a.image=b;return[a]};k.LoadingFunctions[".bmp"]=
e;k.LoadingFunctions[".jpg"]=e;k.LoadingFunctions[".png"]=e;k.LoadingFunctions[".tga"]=e;k.HTMLImageModel=d;k.HTMLImageReader=f;k.HTMLImageImporter=b})(ModelIO);
(function(k){function d(a){return a.charCodeAt(0)+(a.charCodeAt(1)<<8)+(a.charCodeAt(2)<<16)+(a.charCodeAt(3)<<24)}function f(){this.pixelFormat=this.height=this.width=0;this.isCubemap=!1;this.mipmaps=[]}function b(){this.ddsTexture=null}function e(){}function g(){k.ModelImporter.prototype.constructor.call(this)}var a=d("DXT1"),c=d("DXT3"),m=d("DXT5");e.prototype.parse=function(d,e,g){g=g||{};var h="undefined"!==typeof g.loadMipmaps?g.loadMipmaps:!0,k=new Int32Array(e,0,31);if(542327876!==k[0])return console.error("DdsTextureReader.parse: Invalid DDS magic number."),
null;if(k[20]&0)return console.error("DdsTextureReader.parse: Unsupported DDS format, must contain a FourCC code."),null;g=Renderer.webGLExtensions.CompressedTextureS3TC;if(null===g)return console.error("DdsTextureReader.parse: Device does not support compressed textures."),null;d=k[21];switch(d){case a:d=8;g=g.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case c:d=16;g=g.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case m:d=16;g=g.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:if(32===k[22]&&0xff00000000===k[26]&&16711680===
k[23]&&65280===k[24]&&255===k[25])d=64,g=0;else return console.error("DdsTextureReader.parse: Unsupported FourCC code: "+String.fromCharCode(d&255,d>>8&255,d>>16&255,d>>24&255)+"."),null}var l=k[2]?k[7]:1;var r=k[28],n=r&512?!0:!1;if(n)return r&1024&&r&2048&&r&4096&&r&8192&&r&16384&&r&32768||console.error("DdsTextureReader.parse: One or more cubemap faces missing."),null;r=new f;r.width=k[4];r.height=k[3];r.pixelFormat=g;r.isCubemap=n;r.mipmaps=[];n=n?6:1;h=h?l:1;k=k[1]+4;for(l=0;l<n;l++)for(var u=
r.width,w=r.height,B=0;B<h;B++){var E=0===g?4*u*w:Math.max(4,u)/4*Math.max(4,w)/4*d;var I=new Uint8Array(e,k,E);r.mipmaps.push({data:I,width:u,height:w});k+=E;u=Math.max(u>>>1,1);w=Math.max(w>>>1,1)}e=new b;e.ddsTexture=r;return e};g.prototype=new k.ModelImporter;g.prototype.constructor=g;g.prototype.convertTextures=function(){var a=this.srcModel.ddsTexture,c=this.createTexture(this.filename,{missing:!1});c.width=a.width;c.height=a.height;c.ddsTexture=this.srcModel.ddsTexture;return[c]};k.LoadingFunctions[".dds"]=
function(a,c,b){null===Renderer.webGLExtensions.CompressedTextureS3TC?(console.warn("loadDdsTexture: Device does not support S3TC-compressed textures, will not load DDS texture."),b(a)):k.loadResource(a,{type:k.rtBinary,reader:e,importer:g,onLoad:c,onError:b})}})(ModelIO);
(function(k){function d(){this.materials=[]}d.prototype.getDependencyUrl=function(d,b,e){b(d,d.src)};k.LoadingFunctions[".mtl"]=function(d,b,e){k.loadResource(d,{type:k.rtText,reader:k.WavefrontMTLReader,importer:k.WavefrontMTLImporter,onLoad:b,onError:e})};k.WavefrontMTLMaterial=function(){this.name="default";this.Ka=WebGL.RGB(.2,.2,.2);this.Kd=WebGL.RGB(.8,.8,.8);this.Ks=WebGL.RGB(1,1,1);this.Tr=1;this.Ns=0;this.illum=2};k.WavefrontMTLModel=d})(ModelIO);
(function(k){function d(b){if(0===b.length)throw"Cannot read real number: reached end of line";b=b.shift();var a=parseFloat(b);if(isNaN(a))throw"Cannot parse real number: "+b;return a}function f(){}var b,e;f.prototype.parse=function(f,a,c){b=[];e=null;a=a.split("\n");for(c=0;c<a.length;c++){var g=a[c].replace(/\t/g," ").replace(/(^\s*)|(\s*$)/gi,"");g=g.replace(/[ ]{2,}/gi," ");g=g.replace(/\n /,"\n");try{var l=g.split(" "),r=l.shift();if(r)switch(r){case "newmtl":var h=l.shift(),C,q=g=void 0;for(q=
0;q<b.length&&(g=b[q],g.name!==h);q++);if(C=q<b.length?g:!1)throw"Material already exists";C=new k.WavefrontMTLMaterial;C.name=h;b.push(C);e=C;break;case "Ka":case "Kd":case "Ks":g=e;q=l;var p=d(q),A=d(q),n=d(q);var u=WebGL.RGB(p,A,n);g[r]=u;break;case "Ns":case "d":case "Tr":e[r]=d(l);break;case "map_Ka":case "map_Kd":case "map_Ks":case "map_Tr":case "map_d":case "map_bump":case "bump":if(0===l.length)throw"Cannot read string: reached end of line";var w=l.shift();e[r]=w;break;case "illum":g=e;if(0===
l.length)throw"Cannot read integer number: reached end of line";var B=l.shift(),E=parseInt(B,10);if(isNaN(E))throw"Cannot parse integer number token: "+B;g.illum=E}}catch(I){console.error("Wavefront MTL loader: File "+f+" ("+(1+c)+"): "+I)}}f=new k.WavefrontMTLModel;f.materials=b;return f};k.WavefrontMTLReader=f})(ModelIO);
(function(k){function d(){k.ModelImporter.prototype.constructor.call(this)}d.prototype=new k.ModelImporter;d.prototype.constructor=d;d.prototype.convertMaterials=function(){for(var d=Utils.extractFilenameFromUrl(this.filename)+":",b=0;b<this.srcModel.materials.length;b++){var e=this.srcModel.materials[b],g=this.createMaterial(d+e.name,{missing:!1});e.Ka&&(g.color.ambient=e.Ka);e.Kd&&(g.color.diffuse=e.map_Kd?WebGL.RGB(1,1,1):e.Kd);e.Ks&&(g.color.specular=e.Ks);void 0!==e.Ns&&(g.shininess=Math.max(1,
e.Ns));e.map_Kd&&(g.maps.diffuse.textures[0]=this.getOrCreateTexture(e.map_Kd,{missing:!0}));g.opacity=void 0!==e.d?e.d:void 0!==e.Tr?e.Tr:1;g.depthWrite=1===g.opacity;e.material=g}};k.WavefrontMTLImporter=d})(ModelIO);
(function(k){function d(){this.vertices=[];this.texCoords=[];this.normals=[];this.faces=[];this.groups=[];this.libraryNames=[];this.objectName=""}d.prototype.getDependencyUrl=function(d,b,e){b(d,d.src)};k.LoadingFunctions[".obj"]=function(d,b,e){k.loadResource(d,{type:k.rtText,reader:k.WavefrontOBJReader,importer:k.WavefrontOBJImporter,onLoad:b,onError:e})};k.WavefrontOBJModel=d})(ModelIO);
(function(k){function d(a){var c={};c.name=a;c.faces=[];return C[a]=c}function f(a){var c={};c.name=a;c.faces=[];return q[a]=c}function b(a){var c={};c.name=a;c.faces=[];return p[a]=c}function e(a){if(0===a.length)throw"Cannot read real number: reached end of line";a=a.shift();var c=parseFloat(a);if(isNaN(c))throw"Cannot parse real number: "+a;return c}function g(a){if(0===a.length)throw"Cannot read string: reached end of line";return a.shift()}function a(a,c,b){var d=parseInt(a,10);if(isNaN(d))throw"Cannot parse integer number token: "+
a;if(0===d)throw b+" index cannot be zero";a=0>d?c.length+d:d-1;if(0>a||a>=c.length)throw b+" index outside range: "+a;return a}function c(){}var m,l,r,h,C,q,p,A,n,u,w;c.prototype.parse=function(c,E,I){m=[];l=[];r=[];h=[];C={};q={};p={};A=null;n=[];u=null;w=[];E=E.split("\n");for(I=0;I<E.length;I++){var B=E[I].replace(/\t/g," ").replace(/(^\s*)|(\s*$)/gi,"");B=B.replace(/[ ]{2,}/gi," ");B=B.replace(/\n /,"\n");try{var M=B.split(" "),z=M.shift();if(z)switch(z){case "bmat":throw"Keyword not implemented: '"+
z+"'";case "deg":throw"Keyword not implemented: '"+z+"'";case "f":for(var F=B=void 0,K=M,L={vertices:[]};0<K.length;){var P=K.shift(),J=P.split("/");if(0<J.length){var O={},G=J.shift();if(""!==G)O.indexVertex=a(G,m,"Vertex");else throw"Missing vertex position index";O.indexTexCoord=!1;O.indexNormal=!1;0<J.length&&(G=J.shift(),""!==G&&(O.indexTexCoord=a(G,l,"Texture coordinate")),0<J.length&&(G=J.shift(),""!==G&&(O.indexNormal=a(G,r,"Normal"))));var H=O}else throw"Invalid face vertex definition: "+
P;L.vertices.push(H)}A||(A=d(""));A.faces.push(L);L.object=A;0===n.length&&(B=f("default"),n.push(B));L.groups=[];for(F=0;F<n.length;F++)B=n[F],B.faces.push(L),L.groups.push(B);u||(u=b("default"));u.faces.push(L);L.material=u;h.push(L);break;case "g":B=M;for(n=[];0<B.length;){var Q=B.shift(),v=q[Q];v||(v=f(Q));n.push(v)}break;case "mtllib":var t=g(M);w.push(t);break;case "o":var x=M.shift(),y=C[x];y||(y=d(x));A=y;break;case "step":throw"Keyword not implemented: '"+z+"'";case "usemtl":var D=g(M),U=
p[D];U||(U=b(D));u=U;break;case "v":B=void 0;F=M;var Z=e(F),ha=e(F),ia=e(F);if(0<F.length){var ba=e(F);B=vec4.fromValues(Z,ha,ia,ba)}else B=vec3.fromValues(Z,ha,ia);m.push(B);break;case "vn":B=M;var qa=vec3.create();qa[0]=e(B);qa[1]=e(B);qa[2]=e(B);r.push(qa);break;case "vp":throw"Keyword not implemented: '"+z+"'";case "vt":B=M,F={},F.u=e(B),F.v=e(B),l.push(F)}}catch(na){console.error("Wavefront OBJ parser: File "+c+" ("+(1+I)+"): "+na)}}c=new k.WavefrontOBJModel;c.vertices=m;c.texCoords=l;c.normals=
r;c.faces=h;c.objects=C;c.groups=q;c.materials=p;c.libraryNames=w;return c};k.WavefrontOBJReader=c})(ModelIO);
(function(k){function d(){k.ModelImporter.prototype.constructor.call(this)}d.prototype=new k.ModelImporter;d.prototype.constructor=d;d.prototype.convertMesh=function(d,b){function e(a){var b=f.vertices[a.indexVertex];c.push(b[0],b[1],b[2]);!1!==a.indexNormal&&(b=f.normals[a.indexNormal],k.push(b[0],b[1],b[2]));!1!==a.indexTexCoord&&(a=f.texCoords[a.indexTexCoord],l.push(a.u,a.v))}var f=this.srcModel,a=0<f.libraryNames.length?f.libraryNames[0]+":":"",c=[],k=[],l=[],r=new Renderer.Mesh;r.name=d.name;
for(var h=Object.keys(b),C=0;C<h.length;C++){for(var q=b[h[C]],p=0;p<d.faces.length;p++){var A=d.faces[p];if(A.material===q)for(var n=1;n<A.vertices.length-1;n++){var u=A.vertices[n],w=A.vertices[n+1];e(A.vertices[0]);e(u);e(w)}}0!==k.length&&k.length===c.length||GeometryHelpers.generateNormalsArray(k,c);p=this.getOrCreateMaterial(a+q.name,{missing:!0});A=r.createMaterialStream(p);A.name=q.name;A.material=p;A.positions=new Float32Array(c);0<k.length&&(A.normals=new Float32Array(k));0<l.length&&(A.texCoords[0]=
new Float32Array(l))}return r};d.prototype.convertGeometry=function(){for(var d=this.srcModel,b=Object.keys(d.objects),e=0;e<b.length;e++){for(var g=d.objects[b[e]],a={},c=0;c<g.faces.length;c++){var k=g.faces[c].material;a[k.name]=k}c=new Renderer.Node;c.name=g.name;c.mesh=this.convertMesh(g,a);this.rootNodes.push(c)}};d.prototype.getDependencies=function(d){d=new k.DependencySet;for(var b=this.srcModel,e=0;e<b.libraryNames.length;e++)d.add({src:b.libraryNames[e],tags:"materials"});return d};k.WavefrontOBJImporter=
d})(ModelIO);
var Mixins=function(){return{EventListenersMixin:{addListener:function(k,d,f){var b={};b.eventName=k;b.eventCallbackContext=d;b.eventCallbackFunction=f;this.listeners.push(b);return b},removeListener:function(k){k=this.listeners.indexOf(k);if(-1<k)this.listeners.splice(k,1);else throw"EventListenersMixin.removeListener: listener not found.";},notifyListeners:function(k){var d,f=[];for(d=1;d<arguments.length;d++)f.push(arguments[d]);for(d=0;d<this.listeners.length;d++){var b=this.listeners[d];b.eventName===
k&&b.eventCallbackFunction.apply(b.eventCallbackContext,f)}}},includeMixin:function(k,d){for(var f in d)d.hasOwnProperty(f)&&(k[f]=d[f])}}}(),Input=function(){function k(f,b){b=d.decodeMouseEvent(b);return f.onMouseWheel(b.mouseX,b.mouseY,b.mouseWheel,b.keyState,b)?d.cancelEvent(b.event):!0}var d={state:{mouseX:0,mouseY:0,mouseButton:0,mouseWheel:0,altKey:!1,shiftKey:!1,ctrlKey:!1,keyStates:[],keyState:{altKey:!1,shiftKey:!1,ctrlKey:!1}},DirectionNone:0,DirectionLeft:1,DirectionRight:2,DirectionUp:3,
DirectionDown:4,vectors:{},cancelEvent:function(d){d=d||window.event;d.stopPropagation&&d.stopPropagation();d.preventDefault&&d.preventDefault();d.cancelBubble=!0;d.cancel=!0;return!1},getEventInfo:function(d){d=d||window.event;var b={};d?(b.event=d,b.eventTarget=d.target):(b.event=window.event,b.eventTarget=window.event.srcElement);b.defaultPrevented=d.defaultPrevented;b.altKey=d.altKey;b.shiftKey=d.shiftKey;b.ctrlKey=d.ctrlKey;b.keyState={altKey:d.altKey,shiftKey:d.shiftKey,ctrlKey:d.ctrlKey};this.state.altKey=
b.altKey;this.state.shiftKey=b.shiftKey;this.state.ctrlKey=b.ctrlKey;this.state.keyState={altKey:b.altKey,shiftKey:b.shiftKey,ctrlKey:b.ctrlKey};return b},decodeMouseEvent:function(d){d=this.getEventInfo(d);d.mouseX=d.event.clientX;d.mouseY=d.event.clientY;d.mouseButton=d.event.which;d.mouseScreenX=d.event.pageX;d.mouseScreenY=d.event.pageY;"undefined"!==typeof d.event.wheelDelta?d.mouseWheel=d.event.wheelDelta:"undefined"!==typeof d.event.detail&&(d.mouseWheel=-40*d.event.detail);this.state.mouseX=
d.mouseX;this.state.mouseY=d.mouseY;this.state.mouseButton=d.mouseButton;this.state.mouseWheel=d.mouseWheel;return d},decodeKeyUpDownEvent:function(d){d=this.getEventInfo(d);d.keyCode=d.event.keyCode;return d},decodeKeyPressEvent:function(d){var b=this.getEventInfo(d);b.charCode=b.event.charCode;d=null===d.which?String.fromCharCode(d.keyCode):0!==d.which&&0!==d.charCode?String.fromCharCode(d.which):null;b.char=d;return b},copyTouch:function(d){var b={};b.identifier=d.identifier;b.clientX=d.clientX;
b.clientY=d.clientY;b.target=d.target;return b},decodeTouchEvent:function(f){var b=this.getEventInfo(f),e;b.touches=[];b.touchesById={};for(e=0;e<f.touches.length;e++){var g=f.touches[e];g=this.copyTouch(g);b.touches.push(g);b.touchesById[g.identifier]=g}b.changedTouches=[];b.changedTouchesById={};for(e=0;e<f.changedTouches.length;e++)g=f.changedTouches[e],g=this.copyTouch(g),b.changedTouches.push(g),b.changedTouchesById[g.identifier]=g;b.vectors=d.vectors;return b},addEvent:function(d,b,e){if(d.addEventListener)d.addEventListener(b,
e,!1);else if(d.attachEvent)d.attachEvent("on"+b,e);else throw"Could not add event "+b;},registerManager:function(f,b){this.addEvent(b,"mousedown",function(b){b=d.decodeMouseEvent(b);f.onMouseDown(b.mouseX,b.mouseY,b.mouseButton,b.keyState,b)&&d.cancelEvent(b.event)});this.addEvent(b,"mouseup",function(b){b=d.decodeMouseEvent(b);f.onMouseUp(b.mouseX,b.mouseY,b.mouseButton,b.keyState,b)&&d.cancelEvent(b.event)});this.addEvent(b,"mousemove",function(b){b=d.decodeMouseEvent(b);f.onMouseMove(b.mouseX,
b.mouseY,b.keyState,b)&&d.cancelEvent(b.event)});this.addEvent(b,"mousewheel",function(b){k(f,b)});this.addEvent(b,"DOMMouseScroll",function(b){k(f,b)});this.addEvent(document,"keydown",function(b){var e=d.decodeKeyUpDownEvent(b);d.state.keyStates[b.keyCode]=!0;f.onKeyDown(e.keyCode,e.keyState,e)&&d.cancelEvent(b)});this.addEvent(document,"keyup",function(b){var e=d.decodeKeyUpDownEvent(b);d.state.keyStates[b.keyCode]=!1;f.onKeyUp(e.keyCode,e.keyState,e)&&d.cancelEvent(b)});this.addEvent(document,
"keypress",function(b){var e=d.decodeKeyPressEvent(b);f.onKeyPress(e.charCode,e.char,e.keyState,e)&&d.cancelEvent(b)});this.addEvent(b,"touchstart",function(b){b=d.decodeTouchEvent(b);for(var e=performance.now(),a=b.changedTouches,c=0;c<a.length;c++){var k=a[c],l={state:0};l.touch=k;l.time=e;l.timeElapsed=0;l.clientX=k.clientX;l.clientY=k.clientY;l.offsetX=0;l.offsetY=0;l.velocityX=0;l.velocityY=0;l.direction=d.DirectionNone;l.prevTime=0;l.prevClientX=0;l.prevClientY=0;d.vectors[k.identifier]=l}f.onTouchStart(b.touches,
b)&&d.cancelEvent(b.event)});this.addEvent(b,"touchmove",function(b){b=d.decodeTouchEvent(b);for(var e=performance.now(),a=b.changedTouches,c=0;c<a.length;c++){var k=a[c],l=d.vectors[k.identifier];l||console.log("Oops");var r=k.clientX-l.clientX,h=k.clientY-l.clientY,C=e-l.time;if(0<C){var q=r/C;var p=h/C}else p=q=0;var A=0===r&&0===h?d.DirectionNone:Math.abs(r)>=Math.abs(h)?0<r?d.DirectionLeft:d.DirectionRight:0<h?d.DirectionDown:d.DirectionUp;l.state=1;l.prevTime=l.time;l.prevClientX=l.clientX;
l.prevClientY=l.clientY;l.time=e;l.timeElapsed=C;l.clientX=k.clientX;l.clientY=k.clientY;l.offsetX=r;l.offsetY=h;l.velocityX=q;l.velocityY=p;l.direction=A}f.onTouchMove(b.touches,b)&&d.cancelEvent(b.event)});this.addEvent(b,"touchend",function(b){b=d.decodeTouchEvent(b);for(var e=b.changedTouches,a=0;a<e.length;a++){var c=e[a];d.vectors[c.identifier]||console.log("Oops");d.vectors[c.identifier]=void 0}f.onTouchEnd(b.touches,b)&&d.cancelEvent(b.event)});this.addEvent(b,"touchcancel",function(b){b=
d.decodeTouchEvent(b);for(var e=b.changedTouches,a=0;a<e.length;a++){var c=e[a];d.vectors[c.identifier]||console.log("Oops");d.vectors[c.identifier]=void 0}f.onTouchCancel(b.touches,b)&&d.cancelEvent(b.event)})}};return d}();
(function(k){function d(){this.actions=[];this.listeners=[]}Mixins.includeMixin(d.prototype,Mixins.EventListenersMixin);d.prototype.newAction=function(d,b){d=new d;d.manager=this;b=b||{};for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);this.actions.push(d);this.notifyListeners("actionnew",d);return d};d.prototype.newActionAfterAction=function(d,b,e){d=new d;d.manager=this;e=e||{};for(var f in e)e.hasOwnProperty(f)&&(d[f]=e[f]);b=this.actions.indexOf(b);if(-1===b)throw"Manager.newActionAfterAction: Previous action not found.";
this.actions.splice(b+1,0,d);this.notifyListeners("actionnew",d);return d};d.prototype.getAction=function(d){d=this.actions.length-1-d;return 0<=d?this.actions[d]:!1};d.prototype.endAction=function(d){var b=this.actions.indexOf(d);if(-1===b)throw"Manager.endAction: Action not found.";this.actions.splice(b,1);d.onEnd();this.notifyListeners("actionend",d)};d.prototype.cancelAction=function(d){var b=this.actions.indexOf(d);if(-1===b)throw"Manager.cancelAction: Action not found.";this.actions.splice(b,
1);d.onCancel();this.notifyListeners("actioncancel",d)};d.prototype.cancelActions=function(d){for(var b=0;b<this.actions.length;){var e=this.getAction(b);e.tag===d?e.cancel():b+=1}};d.prototype.insertAction=function(d,b){b.manager=this;this.actions.splice(d,0,b)};d.prototype.removeAction=function(d){d=this.actions.indexOf(d);if(-1===d)throw"Manager.removeAction: Action not found.";this.actions.splice(d,1);return d};d.prototype.onEvent=function(d,b){var e=d.toLowerCase();d="on"+d;for(var f=!1,a=0;a<
this.actions.length;a++){var c=this.getAction(a);if(c.enabled&&(f=c[d].apply(c,b))){this.notifyListeners(e,c);break}}return f};d.prototype.onMouseDown=function(d,b,e,g,a){return this.onEvent("MouseDown",arguments)};d.prototype.onMouseMove=function(d,b,e,g){return this.onEvent("MouseMove",arguments)};d.prototype.onMouseUp=function(d,b,e,g,a){return this.onEvent("MouseUp",arguments)};d.prototype.onMouseWheel=function(d,b,e,g,a){return this.onEvent("MouseWheel",arguments)};d.prototype.onKeyDown=function(d,
b,e){return this.onEvent("KeyDown",arguments)};d.prototype.onKeyUp=function(d,b,e){return this.onEvent("KeyUp",arguments)};d.prototype.onKeyPress=function(d,b,e,g){return this.onEvent("KeyPress",arguments)};d.prototype.onTouchStart=function(d,b){return this.onEvent("TouchStart",arguments)};d.prototype.onTouchMove=function(d,b){return this.onEvent("TouchMove",arguments)};d.prototype.onTouchEnd=function(d,b){return this.onEvent("TouchEnd",arguments)};d.prototype.onTouchCancel=function(d,b){return this.onEvent("TouchCancel",
arguments)};d.prototype.onUpdate=function(d){for(var b=0;b<this.actions.length;b++){var e=this.getAction(b);if(e.enabled)e.onUpdate(d)}return!1};k.Manager=d})(Input);
(function(k){function d(){this.id="";this.tag=void 0;this.enabled=!0}d.prototype.getString=function(){return"Action"};d.prototype.getContextHelpStrings=function(){return["Release the button to end or press Esc to cancel the action."]};d.prototype.onMouseDown=function(d,b,e,g,a){return!1};d.prototype.onMouseMove=function(d,b,e,g){return!1};d.prototype.onMouseUp=function(d,b,e,g,a){this.end();return!0};d.prototype.onMouseWheel=function(d,b,e,g,a){return!1};d.prototype.onKeyDown=function(d,b,e){switch(d){case 27:return this.cancel(),
!0;default:return!1}};d.prototype.onKeyUp=function(d,b,e){return!1};d.prototype.onKeyPress=function(d,b,e,g){return!1};d.prototype.onTouchStart=function(d,b){return!1};d.prototype.onTouchMove=function(d,b){return!1};d.prototype.onTouchEnd=function(d,b){return!1};d.prototype.onTouchCancel=function(d,b){return!1};d.prototype.onUpdate=function(d){};d.prototype.onEnd=function(){};d.prototype.onCancel=function(){};d.prototype.end=function(){this.manager.endAction(this)};d.prototype.cancel=function(){this.manager.cancelAction(this)};
k.Action=d})(Input);
var BatchRequest=function(){function k(b){var d=b.lastIndexOf(".");return 0<=d?b.slice(d):""}function d(b){this.resRequest=b;this.xhr=null;this.progress={lengthComputable:!1,loaded:0,total:0};this.cancelled=this.complete=!1;this.payload=null;this.type=this.index=0;this.url="";this.listeners=[]}function f(){this.resources=[];this.errorCount=this.responseCount=0;this.progress={lengthComputable:!1,loaded:0,total:0};this.cancelled=this.complete=!1;this.onComplete=this.onFile=this.onProgress=null;this.listeners=
[]}Mixins.includeMixin(d.prototype,Mixins.EventListenersMixin);Mixins.includeMixin(f.prototype,Mixins.EventListenersMixin);f.prototype.addText=function(b){var e=new d(this);e.index=this.resources.length;e.type=0;e.url=b;this.resources.push(e);return e};f.prototype.addImage=function(b){var e=new d(this);e.index=this.resources.length;e.type=1;e.url=b;this.resources.push(e);return e};f.prototype.addBinary=function(b){var e=new d(this);e.index=this.resources.length;e.type=2;e.url=b;this.resources.push(e);
return e};f.prototype.addXML=function(b){var e=new d(this);e.index=this.resources.length;e.type=3;e.url=b;this.resources.push(e);return e};f.prototype.updateProgress=function(){var b;for(b=0;b<this.resources.length;b++){var d=this.resources[b].progress;if(!d.lengthComputable)break}this.progress.lengthComputable=b===this.resources.length;this.progress.loaded=0;for(b=this.progress.total=0;b<this.resources.length;b++)d=this.resources[b].progress,this.progress.loaded+=d.loaded,this.progress.total+=d.total};
f.prototype.responseReceived=function(b){this.responseCount++;this.complete=this.responseCount===this.resources.length;b.notifyListeners("complete",b);if(b.payload){if(this.onFile)this.onFile(this,b,this.responseCount,this.resources.length);this.notifyListeners("file",this,b,this.responseCount,this.resources.length)}else{this.errorCount++;if(this.onError)this.onError(this,b,this.responseCount,this.resources.length);this.notifyListeners("error",this,b,this.responseCount,this.resources.length)}if(this.complete){if(this.onComplete)this.onComplete(this);
this.notifyListeners("complete",this)}};f.prototype.loadFile=function(b){var d=this,f=new XMLHttpRequest;f.onprogress=function(a){var c=b.progress;c.lengthComputable=a.lengthComputable;c.loaded=a.loaded;c.total=a.total;d.updateProgress();if(d.onProgress)d.onProgress(d,b,a.loaded,a.total)};f.onabort=function(a){b.complete=!0;b.cancelled=!0;d.cancelled=!0;d.responseReceived(b)};f.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){switch(b.type){case 0:var a=this.responseText;
break;case 1:a=this.response;break;case 2:a=this.response;break;case 3:a=this.responseXML}if(1===b.type){a=DataView?new DataView(a):a;var c=k(b.url).toLowerCase();a=new Blob([a],{type:"image/"+(".jpg"===c?"jpeg":"png")});var e=window.URL||window.webkitURL;c=new Image;c.onload=function(a){e.revokeObjectURL(this.src);b.xhr=null;b.complete=!0;b.payload=this;d.responseReceived(b)};c.src=e.createObjectURL(a)}else b.xhr=null,b.complete=!0,b.payload=a,d.responseReceived(b)}else b.xhr=null,b.complete=!0,
d.responseReceived(b)};b.xhr=f;f.open("GET",b.url,!0);f.responseType=0===b.type||3===b.type?"text":"arraybuffer";f.send(null)};f.prototype.start=function(){if(0===this.resources.length){this.complete=!0;if(this.onComplete)this.onComplete(this);this.notifyListeners("complete",this)}else for(var b=0;b<this.resources.length;b++)this.loadFile(this.resources[b])};f.prototype.abort=function(){function b(){}for(var d=0;d<this.resources.length;d++){var f=this.resources[d];null!==f.xhr&&(f.xhr.onreadystatechange=
b,f.xhr.abort())}};return f}();
(function(k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).pako=k()})(function(){return function e(d,f,b){function g(c,l){if(!f[c]){if(!d[c]){var m="function"==typeof require&&require;if(!l&&m)return m(c,!0);if(a)return a(c,!0);l=Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l;}l=f[c]={exports:{}};
d[c][0].call(l.exports,function(a){var b=d[c][1][a];return g(b?b:a)},l,l.exports,e,d,f,b)}return f[c].exports}for(var a="function"==typeof require&&require,c=0;c<b.length;c++)g(b[c]);return g}({1:[function(d,f,b){d="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;b.assign=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var b=c.shift();if(b){if("object"!==typeof b)throw new TypeError(b+"must be non-object");for(var d in b)Object.prototype.hasOwnProperty.call(b,
d)&&(a[d]=b[d])}}return a};b.shrinkBuf=function(a,c){if(a.length===c)return a;if(a.subarray)return a.subarray(0,c);a.length=c;return a};var e={arraySet:function(a,c,b,d,e){if(c.subarray&&a.subarray)a.set(c.subarray(b,b+d),e);else for(var f=0;f<d;f++)a[e+f]=c[b+f]},flattenChunks:function(a){var c,b;var d=b=0;for(c=a.length;d<c;d++)b+=a[d].length;var e=new Uint8Array(b);d=b=0;for(c=a.length;d<c;d++){var f=a[d];e.set(f,b);b+=f.length}return e}},g={arraySet:function(a,c,b,d,e){for(var f=0;f<d;f++)a[e+
f]=c[b+f]},flattenChunks:function(a){return[].concat.apply([],a)}};b.setTyped=function(a){a?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,e)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,g))};b.setTyped(d)},{}],2:[function(d,f,b){function e(b,d){if(65537>d&&(b.subarray&&c||!b.subarray&&a))return String.fromCharCode.apply(null,g.shrinkBuf(b,d));for(var e="",f=0;f<d;f++)e+=String.fromCharCode(b[f]);return e}var g=d("./common"),a=!0,c=!0;try{String.fromCharCode.apply(null,
[0])}catch(l){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){c=!1}var m=new g.Buf8(256);for(d=0;256>d;d++)m[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;m[254]=m[254]=1;b.string2buf=function(a){var c,b,d=a.length,e=0;for(c=0;c<d;c++){var f=a.charCodeAt(c);if(55296===(f&64512)&&c+1<d){var l=a.charCodeAt(c+1);56320===(l&64512)&&(f=65536+(f-55296<<10)+(l-56320),c++)}e+=128>f?1:2048>f?2:65536>f?3:4}var m=new g.Buf8(e);for(c=b=0;b<e;c++)f=a.charCodeAt(c),55296===(f&64512)&&c+
1<d&&(l=a.charCodeAt(c+1),56320===(l&64512)&&(f=65536+(f-55296<<10)+(l-56320),c++)),128>f?m[b++]=f:(2048>f?m[b++]=192|f>>>6:(65536>f?m[b++]=224|f>>>12:(m[b++]=240|f>>>18,m[b++]=128|f>>>12&63),m[b++]=128|f>>>6&63),m[b++]=128|f&63);return m};b.buf2binstring=function(a){return e(a,a.length)};b.binstring2buf=function(a){for(var c=new g.Buf8(a.length),b=0,d=c.length;b<d;b++)c[b]=a.charCodeAt(b);return c};b.buf2string=function(a,c){var b,d=c||a.length,f=Array(2*d);for(c=b=0;c<d;){var g=a[c++];if(128>g)f[b++]=
g;else{var l=m[g];if(4<l)f[b++]=65533,c+=l-1;else{for(g&=2===l?31:3===l?15:7;1<l&&c<d;)g=g<<6|a[c++]&63,l--;1<l?f[b++]=65533:65536>g?f[b++]=g:(g-=65536,f[b++]=55296|g>>10&1023,f[b++]=56320|g&1023)}}}return e(f,b)};b.utf8border=function(a,c){var b;c=c||a.length;c>a.length&&(c=a.length);for(b=c-1;0<=b&&128===(a[b]&192);)b--;return 0>b||0===b?c:b+m[a[b]]>c?b:c}},{"./common":1}],3:[function(d,f,b){f.exports=function(b,d,a,c){var e=b&65535|0;b=b>>>16&65535|0;for(var f;0!==a;){f=2E3<a?2E3:a;a-=f;do e=e+
d[c++]|0,b=b+e|0;while(--f);e%=65521;b%=65521}return e|b<<16|0}},{}],4:[function(d,f,b){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(d,
f,b){var e=function(){for(var b,a=[],c=0;256>c;c++){b=c;for(var d=0;8>d;d++)b=b&1?3988292384^b>>>1:b>>>1;a[c]=b}return a}();f.exports=function(b,a,c,d){c=d+c;for(b^=-1;d<c;d++)b=b>>>8^e[(b^a[d])&255];return b^-1}},{}],6:[function(d,f,b){f.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],7:[function(d,f,b){f.exports=function(b,d){var a=b.state;var c=b.next_in;var e=b.input;var f=c+(b.avail_in-5);var g=
b.next_out;var h=b.output;d=g-(d-b.avail_out);var C=g+(b.avail_out-257);var q=a.dmax;var p=a.wsize;var A=a.whave;var n=a.wnext;var u=a.window;var w=a.hold;var B=a.bits;var E=a.lencode;var I=a.distcode;var N=(1<<a.lenbits)-1;var M=(1<<a.distbits)-1;a:do{15>B&&(w+=e[c++]<<B,B+=8,w+=e[c++]<<B,B+=8);var z=E[w&N];b:for(;;){var F=z>>>24;w>>>=F;B-=F;F=z>>>16&255;if(0===F)h[g++]=z&65535;else if(F&16){var K=z&65535;if(F&=15)B<F&&(w+=e[c++]<<B,B+=8),K+=w&(1<<F)-1,w>>>=F,B-=F;15>B&&(w+=e[c++]<<B,B+=8,w+=e[c++]<<
B,B+=8);z=I[w&M];c:for(;;){F=z>>>24;w>>>=F;B-=F;F=z>>>16&255;if(F&16){z&=65535;F&=15;B<F&&(w+=e[c++]<<B,B+=8,B<F&&(w+=e[c++]<<B,B+=8));z+=w&(1<<F)-1;if(z>q){b.msg="invalid distance too far back";a.mode=30;break a}w>>>=F;B-=F;F=g-d;if(z>F){F=z-F;if(F>A&&a.sane){b.msg="invalid distance too far back";a.mode=30;break a}var L=0;var P=u;if(0===n){if(L+=p-F,F<K){K-=F;do h[g++]=u[L++];while(--F);L=g-z;P=h}}else if(n<F){if(L+=p+n-F,F-=n,F<K){K-=F;do h[g++]=u[L++];while(--F);L=0;if(n<K){F=n;K-=F;do h[g++]=
u[L++];while(--F);L=g-z;P=h}}}else if(L+=n-F,F<K){K-=F;do h[g++]=u[L++];while(--F);L=g-z;P=h}for(;2<K;)h[g++]=P[L++],h[g++]=P[L++],h[g++]=P[L++],K-=3;K&&(h[g++]=P[L++],1<K&&(h[g++]=P[L++]))}else{L=g-z;do h[g++]=h[L++],h[g++]=h[L++],h[g++]=h[L++],K-=3;while(2<K);K&&(h[g++]=h[L++],1<K&&(h[g++]=h[L++]))}}else if(0===(F&64)){z=I[(z&65535)+(w&(1<<F)-1)];continue c}else{b.msg="invalid distance code";a.mode=30;break a}break}}else if(0===(F&64)){z=E[(z&65535)+(w&(1<<F)-1)];continue b}else{F&32?a.mode=12:
(b.msg="invalid literal/length code",a.mode=30);break a}break}}while(c<f&&g<C);K=B>>3;c-=K;B-=K<<3;b.next_in=c;b.next_out=g;b.avail_in=c<f?5+(f-c):5-(c-f);b.avail_out=g<C?257+(C-g):257-(g-C);a.hold=w&(1<<B)-1;a.bits=B}},{}],8:[function(d,f,b){function e(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function g(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=
null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new h.Buf16(320);this.work=new h.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function a(a){if(!a||!a.state)return-2;var c=a.state;a.total_in=a.total_out=c.total=0;a.msg="";c.wrap&&(a.adler=c.wrap&1);c.mode=1;c.last=0;c.havedict=0;c.dmax=32768;c.head=null;c.hold=0;c.bits=0;c.lencode=
c.lendyn=new h.Buf32(852);c.distcode=c.distdyn=new h.Buf32(592);c.sane=1;c.back=-1;return 0}function c(c){if(!c||!c.state)return-2;var b=c.state;b.wsize=0;b.whave=0;b.wnext=0;return a(c)}function m(a,b){if(!a||!a.state)return-2;var d=a.state;if(0>b){var e=0;b=-b}else e=(b>>4)+1,48>b&&(b&=15);if(b&&(8>b||15<b))return-2;null!==d.window&&d.wbits!==b&&(d.window=null);d.wrap=e;d.wbits=b;return c(a)}function l(a,c){if(!a)return-2;var b=new g;a.state=b;b.window=null;c=m(a,c);0!==c&&(a.state=null);return c}
function r(a,c,b,d){var e=a.state;null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new h.Buf8(e.wsize));d>=e.wsize?(h.arraySet(e.window,c,b-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(a=e.wsize-e.wnext,a>d&&(a=d),h.arraySet(e.window,c,b-d,a,e.wnext),(d-=a)?(h.arraySet(e.window,c,b-d,d,0),e.wnext=d,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a)));return 0}var h=d("../utils/common"),C=d("./adler32"),q=d("./crc32"),p=d("./inffast"),A=d("./inftrees"),
n=!0,u,w;b.inflateReset=c;b.inflateReset2=m;b.inflateResetKeep=a;b.inflateInit=function(a){return l(a,15)};b.inflateInit2=l;b.inflate=function(a,c){var b,d=new h.Buf8(4),f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return-2;var g=a.state;12===g.mode&&(g.mode=13);var l=a.next_out;var m=a.output;var B=a.avail_out;var E=a.next_in;var J=a.input;var O=a.avail_in;var G=g.hold;var H=g.bits;var Q=O;var v=B;var t=0;a:for(;;)switch(g.mode){case 1:if(0===
g.wrap){g.mode=13;break}for(;16>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(g.wrap&2&&35615===G){g.check=0;d[0]=G&255;d[1]=G>>>8&255;g.check=q(g.check,d,2,0);H=G=0;g.mode=2;break}g.flags=0;g.head&&(g.head.done=!1);if(!(g.wrap&1)||(((G&255)<<8)+(G>>8))%31){a.msg="incorrect header check";g.mode=30;break}if(8!==(G&15)){a.msg="unknown compression method";g.mode=30;break}G>>>=4;H-=4;var x=(G&15)+8;if(0===g.wbits)g.wbits=x;else if(x>g.wbits){a.msg="invalid window size";g.mode=30;break}g.dmax=1<<x;a.adler=
g.check=1;g.mode=G&512?10:12;H=G=0;break;case 2:for(;16>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.flags=G;if(8!==(g.flags&255)){a.msg="unknown compression method";g.mode=30;break}if(g.flags&57344){a.msg="unknown header flags set";g.mode=30;break}g.head&&(g.head.text=G>>8&1);g.flags&512&&(d[0]=G&255,d[1]=G>>>8&255,g.check=q(g.check,d,2,0));H=G=0;g.mode=3;case 3:for(;32>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.head&&(g.head.time=G);g.flags&512&&(d[0]=G&255,d[1]=G>>>8&255,d[2]=G>>>16&255,d[3]=
G>>>24&255,g.check=q(g.check,d,4,0));H=G=0;g.mode=4;case 4:for(;16>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.head&&(g.head.xflags=G&255,g.head.os=G>>8);g.flags&512&&(d[0]=G&255,d[1]=G>>>8&255,g.check=q(g.check,d,2,0));H=G=0;g.mode=5;case 5:if(g.flags&1024){for(;16>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.length=G;g.head&&(g.head.extra_len=G);g.flags&512&&(d[0]=G&255,d[1]=G>>>8&255,g.check=q(g.check,d,2,0));H=G=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(g.flags&1024){var y=g.length;
y>O&&(y=O);y&&(g.head&&(x=g.head.extra_len-g.length,g.head.extra||(g.head.extra=Array(g.head.extra_len)),h.arraySet(g.head.extra,J,E,y,x)),g.flags&512&&(g.check=q(g.check,J,y,E)),O-=y,E+=y,g.length-=y);if(g.length)break a}g.length=0;g.mode=7;case 7:if(g.flags&2048){if(0===O)break a;y=0;do x=J[E+y++],g.head&&x&&65536>g.length&&(g.head.name+=String.fromCharCode(x));while(x&&y<O);g.flags&512&&(g.check=q(g.check,J,y,E));O-=y;E+=y;if(x)break a}else g.head&&(g.head.name=null);g.length=0;g.mode=8;case 8:if(g.flags&
4096){if(0===O)break a;y=0;do x=J[E+y++],g.head&&x&&65536>g.length&&(g.head.comment+=String.fromCharCode(x));while(x&&y<O);g.flags&512&&(g.check=q(g.check,J,y,E));O-=y;E+=y;if(x)break a}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(g.flags&512){for(;16>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(G!==(g.check&65535)){a.msg="header crc mismatch";g.mode=30;break}H=G=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0);a.adler=g.check=0;g.mode=12;break;case 10:for(;32>H;){if(0===O)break a;O--;
G+=J[E++]<<H;H+=8}a.adler=g.check=e(G);H=G=0;g.mode=11;case 11:if(0===g.havedict)return a.next_out=l,a.avail_out=B,a.next_in=E,a.avail_in=O,g.hold=G,g.bits=H,2;a.adler=g.check=1;g.mode=12;case 12:if(5===c||6===c)break a;case 13:if(g.last){G>>>=H&7;H-=H&7;g.mode=27;break}for(;3>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.last=G&1;G>>>=1;--H;switch(G&3){case 0:g.mode=14;break;case 1:x=g;if(n){u=new h.Buf32(512);w=new h.Buf32(32);for(y=0;144>y;)x.lens[y++]=8;for(;256>y;)x.lens[y++]=9;for(;280>y;)x.lens[y++]=
7;for(;288>y;)x.lens[y++]=8;A(1,x.lens,0,288,u,0,x.work,{bits:9});for(y=0;32>y;)x.lens[y++]=5;A(2,x.lens,0,32,w,0,x.work,{bits:5});n=!1}x.lencode=u;x.lenbits=9;x.distcode=w;x.distbits=5;g.mode=20;if(6===c){G>>>=2;H-=2;break a}break;case 2:g.mode=17;break;case 3:a.msg="invalid block type",g.mode=30}G>>>=2;H-=2;break;case 14:G>>>=H&7;for(H-=H&7;32>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if((G&65535)!==(G>>>16^65535)){a.msg="invalid stored block lengths";g.mode=30;break}g.length=G&65535;H=G=0;g.mode=
15;if(6===c)break a;case 15:g.mode=16;case 16:if(y=g.length){y>O&&(y=O);y>B&&(y=B);if(0===y)break a;h.arraySet(m,J,E,y,l);O-=y;E+=y;B-=y;l+=y;g.length-=y;break}g.mode=12;break;case 17:for(;14>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.nlen=(G&31)+257;G>>>=5;H-=5;g.ndist=(G&31)+1;G>>>=5;H-=5;g.ncode=(G&15)+4;G>>>=4;H-=4;if(286<g.nlen||30<g.ndist){a.msg="too many length or distance symbols";g.mode=30;break}g.have=0;g.mode=18;case 18:for(;g.have<g.ncode;){for(;3>H;){if(0===O)break a;O--;G+=J[E++]<<
H;H+=8}g.lens[f[g.have++]]=G&7;G>>>=3;H-=3}for(;19>g.have;)g.lens[f[g.have++]]=0;g.lencode=g.lendyn;g.lenbits=7;y={bits:g.lenbits};t=A(0,g.lens,0,19,g.lencode,0,g.work,y);g.lenbits=y.bits;if(t){a.msg="invalid code lengths set";g.mode=30;break}g.have=0;g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;;){var D=g.lencode[G&(1<<g.lenbits)-1];y=D>>>24;D&=65535;if(y<=H)break;if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(16>D)G>>>=y,H-=y,g.lens[g.have++]=D;else{if(16===D){for(x=y+2;H<x;){if(0===O)break a;
O--;G+=J[E++]<<H;H+=8}G>>>=y;H-=y;if(0===g.have){a.msg="invalid bit length repeat";g.mode=30;break}x=g.lens[g.have-1];y=3+(G&3);G>>>=2;H-=2}else if(17===D){for(x=y+3;H<x;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}G>>>=y;H-=y;x=0;y=3+(G&7);G>>>=3;H-=3}else{for(x=y+7;H<x;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}G>>>=y;H-=y;x=0;y=11+(G&127);G>>>=7;H-=7}if(g.have+y>g.nlen+g.ndist){a.msg="invalid bit length repeat";g.mode=30;break}for(;y--;)g.lens[g.have++]=x}}if(30===g.mode)break;if(0===g.lens[256]){a.msg=
"invalid code -- missing end-of-block";g.mode=30;break}g.lenbits=9;y={bits:g.lenbits};t=A(1,g.lens,0,g.nlen,g.lencode,0,g.work,y);g.lenbits=y.bits;if(t){a.msg="invalid literal/lengths set";g.mode=30;break}g.distbits=6;g.distcode=g.distdyn;y={bits:g.distbits};t=A(2,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,y);g.distbits=y.bits;if(t){a.msg="invalid distances set";g.mode=30;break}g.mode=20;if(6===c)break a;case 20:g.mode=21;case 21:if(6<=O&&258<=B){a.next_out=l;a.avail_out=B;a.next_in=E;a.avail_in=O;
g.hold=G;g.bits=H;p(a,v);l=a.next_out;m=a.output;B=a.avail_out;E=a.next_in;J=a.input;O=a.avail_in;G=g.hold;H=g.bits;12===g.mode&&(g.back=-1);break}for(g.back=0;;){D=g.lencode[G&(1<<g.lenbits)-1];y=D>>>24;x=D>>>16&255;D&=65535;if(y<=H)break;if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(x&&0===(x&240)){var U=y;var Z=x;for(b=D;;){D=g.lencode[b+((G&(1<<U+Z)-1)>>U)];y=D>>>24;x=D>>>16&255;D&=65535;if(U+y<=H)break;if(0===O)break a;O--;G+=J[E++]<<H;H+=8}G>>>=U;H-=U;g.back+=U}G>>>=y;H-=y;g.back+=y;g.length=D;
if(0===x){g.mode=26;break}if(x&32){g.back=-1;g.mode=12;break}if(x&64){a.msg="invalid literal/length code";g.mode=30;break}g.extra=x&15;g.mode=22;case 22:if(g.extra){for(x=g.extra;H<x;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.length+=G&(1<<g.extra)-1;G>>>=g.extra;H-=g.extra;g.back+=g.extra}g.was=g.length;g.mode=23;case 23:for(;;){D=g.distcode[G&(1<<g.distbits)-1];y=D>>>24;x=D>>>16&255;D&=65535;if(y<=H)break;if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(0===(x&240)){U=y;Z=x;for(b=D;;){D=g.distcode[b+((G&
(1<<U+Z)-1)>>U)];y=D>>>24;x=D>>>16&255;D&=65535;if(U+y<=H)break;if(0===O)break a;O--;G+=J[E++]<<H;H+=8}G>>>=U;H-=U;g.back+=U}G>>>=y;H-=y;g.back+=y;if(x&64){a.msg="invalid distance code";g.mode=30;break}g.offset=D;g.extra=x&15;g.mode=24;case 24:if(g.extra){for(x=g.extra;H<x;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}g.offset+=G&(1<<g.extra)-1;G>>>=g.extra;H-=g.extra;g.back+=g.extra}if(g.offset>g.dmax){a.msg="invalid distance too far back";g.mode=30;break}g.mode=25;case 25:if(0===B)break a;y=v-B;if(g.offset>
y){y=g.offset-y;if(y>g.whave&&g.sane){a.msg="invalid distance too far back";g.mode=30;break}y>g.wnext?(y-=g.wnext,x=g.wsize-y):x=g.wnext-y;y>g.length&&(y=g.length);U=g.window}else U=m,x=l-g.offset,y=g.length;y>B&&(y=B);B-=y;g.length-=y;do m[l++]=U[x++];while(--y);0===g.length&&(g.mode=21);break;case 26:if(0===B)break a;m[l++]=g.length;B--;g.mode=21;break;case 27:if(g.wrap){for(;32>H;){if(0===O)break a;O--;G|=J[E++]<<H;H+=8}v-=B;a.total_out+=v;g.total+=v;v&&(a.adler=g.check=g.flags?q(g.check,m,v,l-
v):C(g.check,m,v,l-v));v=B;if((g.flags?G:e(G))!==g.check){a.msg="incorrect data check";g.mode=30;break}H=G=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;32>H;){if(0===O)break a;O--;G+=J[E++]<<H;H+=8}if(G!==(g.total&4294967295)){a.msg="incorrect length check";g.mode=30;break}H=G=0}g.mode=29;case 29:t=1;break a;case 30:t=-3;break a;case 31:return-4;default:return-2}a.next_out=l;a.avail_out=B;a.next_in=E;a.avail_in=O;g.hold=G;g.bits=H;if((g.wsize||v!==a.avail_out&&30>g.mode&&(27>g.mode||4!==c))&&r(a,
a.output,a.next_out,v-a.avail_out))return g.mode=31,-4;Q-=a.avail_in;v-=a.avail_out;a.total_in+=Q;a.total_out+=v;g.total+=v;g.wrap&&v&&(a.adler=g.check=g.flags?q(g.check,m,v,a.next_out-v):C(g.check,m,v,a.next_out-v));a.data_type=g.bits+(g.last?64:0)+(12===g.mode?128:0)+(20===g.mode||15===g.mode?256:0);(0===Q&&0===v||4===c)&&0===t&&(t=-5);return t};b.inflateEnd=function(a){if(!a||!a.state)return-2;var c=a.state;c.window&&(c.window=null);a.state=null;return 0};b.inflateGetHeader=function(a,c){if(!a||
!a.state)return-2;a=a.state;if(0===(a.wrap&2))return-2;a.head=c;c.done=!1;return 0};b.inflateSetDictionary=function(a,c){var b=c.length;if(!a||!a.state)return-2;var d=a.state;if(0!==d.wrap&&11!==d.mode)return-2;if(11===d.mode){var e=C(1,c,b,0);if(e!==d.check)return-3}if(r(a,c,b,b))return d.mode=31,-4;d.havedict=1;return 0};b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(d,f,b){var e=d("../utils/common"),
g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(b,d,f,C,q,p,A,n){var h=n.bits,l,r,E,I,N,M,z=0,F=new e.Buf16(16);var K=new e.Buf16(16);
var L,P=0;for(l=0;15>=l;l++)F[l]=0;for(r=0;r<C;r++)F[d[f+r]]++;var J=h;for(E=15;1<=E&&0===F[E];E--);J>E&&(J=E);if(0===E)return q[p++]=20971520,q[p++]=20971520,n.bits=1,0;for(h=1;h<E&&0===F[h];h++);J<h&&(J=h);for(l=I=1;15>=l;l++)if(I<<=1,I-=F[l],0>I)return-1;if(0<I&&(0===b||1!==E))return-1;K[1]=0;for(l=1;15>l;l++)K[l+1]=K[l]+F[l];for(r=0;r<C;r++)0!==d[f+r]&&(A[K[d[f+r]]++]=r);if(0===b){var O=L=A;var G=19}else 1===b?(O=g,z-=257,L=a,P-=257,G=256):(O=c,L=m,G=-1);r=N=0;l=h;var H=p;C=J;K=0;var Q=-1;var v=
1<<J;var t=v-1;if(1===b&&852<v||2===b&&592<v)return 1;for(;;){var x=l-K;if(A[r]<G){var y=0;var D=A[r]}else A[r]>G?(y=L[P+A[r]],D=O[z+A[r]]):(y=96,D=0);I=1<<l-K;h=M=1<<C;do M-=I,q[H+(N>>K)+M]=x<<24|y<<16|D|0;while(0!==M);for(I=1<<l-1;N&I;)I>>=1;0!==I?(N&=I-1,N+=I):N=0;r++;if(0===--F[l]){if(l===E)break;l=d[f+A[r]]}if(l>J&&(N&t)!==Q){0===K&&(K=J);H+=h;C=l-K;for(I=1<<C;C+K<E;){I-=F[C+K];if(0>=I)break;C++;I<<=1}v+=1<<C;if(1===b&&852<v||2===b&&592<v)return 1;Q=N&t;q[Q]=J<<24|C<<16|H-p|0}}0!==N&&(q[H+N]=
l-K<<24|4194304);n.bits=J;return 0}},{"../utils/common":1}],10:[function(d,f,b){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(d,f,b){f.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/lib/inflate.js":[function(d,
f,b){function e(b){if(!(this instanceof e))return new e(b);var d=this.options=c.assign({chunkSize:16384,windowBits:0,to:""},b||{});d.raw&&0<=d.windowBits&&16>d.windowBits&&(d.windowBits=-d.windowBits,0===d.windowBits&&(d.windowBits=-15));!(0<=d.windowBits&&16>d.windowBits)||b&&b.windowBits||(d.windowBits+=32);15<d.windowBits&&48>d.windowBits&&0===(d.windowBits&15)&&(d.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new h;this.strm.avail_out=0;b=a.inflateInit2(this.strm,
d.windowBits);if(b!==l.Z_OK)throw Error(r[b]);this.header=new C;a.inflateGetHeader(this.strm,this.header)}function g(a,c){c=new e(c);c.push(a,!0);if(c.err)throw c.msg||r[c.err];return c.result}var a=d("./zlib/inflate"),c=d("./utils/common"),m=d("./utils/strings"),l=d("./zlib/constants"),r=d("./zlib/messages"),h=d("./zlib/zstream"),C=d("./zlib/gzheader"),q=Object.prototype.toString;e.prototype.push=function(b,d){var e=this.strm,f=this.options.chunkSize,g=this.options.dictionary,h=!1;if(this.ended)return!1;
d=d===~~d?d:!0===d?l.Z_FINISH:l.Z_NO_FLUSH;"string"===typeof b?e.input=m.binstring2buf(b):"[object ArrayBuffer]"===q.call(b)?e.input=new Uint8Array(b):e.input=b;e.next_in=0;e.avail_in=e.input.length;do{0===e.avail_out&&(e.output=new c.Buf8(f),e.next_out=0,e.avail_out=f);b=a.inflate(e,l.Z_NO_FLUSH);b===l.Z_NEED_DICT&&g&&(b="string"===typeof g?m.string2buf(g):"[object ArrayBuffer]"===q.call(g)?new Uint8Array(g):g,b=a.inflateSetDictionary(this.strm,b));b===l.Z_BUF_ERROR&&!0===h&&(b=l.Z_OK,h=!1);if(b!==
l.Z_STREAM_END&&b!==l.Z_OK)return this.onEnd(b),this.ended=!0,!1;if(e.next_out&&(0===e.avail_out||b===l.Z_STREAM_END||0===e.avail_in&&(d===l.Z_FINISH||d===l.Z_SYNC_FLUSH)))if("string"===this.options.to){var p=m.utf8border(e.output,e.next_out);var r=e.next_out-p;var A=m.buf2string(e.output,p);e.next_out=r;e.avail_out=f-r;r&&c.arraySet(e.output,e.output,p,r,0);this.onData(A)}else this.onData(c.shrinkBuf(e.output,e.next_out));0===e.avail_in&&0===e.avail_out&&(h=!0)}while((0<e.avail_in||0===e.avail_out)&&
b!==l.Z_STREAM_END);b===l.Z_STREAM_END&&(d=l.Z_FINISH);if(d===l.Z_FINISH)return b=a.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===l.Z_OK;d===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),e.avail_out=0);return!0};e.prototype.onData=function(a){this.chunks.push(a)};e.prototype.onEnd=function(a){a===l.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):c.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};b.Inflate=e;b.inflate=g;b.inflateRaw=function(a,c){c=c||
{};c.raw=!0;return g(a,c)};b.ungzip=g},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js")});
var ViewerAction=function(){function k(){}k.prototype=new Input.Action;k.prototype.constructor=k;k.prototype.getActionRect=WebGL.getCanvasScreenRect;return k}(),ViewerActionIdle=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onMouseUp=function(d,f,b,e,g){return!1};k.prototype.onKeyDown=function(d,f,b){switch(d){case 27:break;case 89:break;case 90:break;default:return!1}return!0};return k}(),ViewerActionMouseCamera=function(){function k(){}k.prototype=new ViewerAction;
k.prototype.constructor=k;k.prototype.onMouseUp=function(d,f,b,e,g){d=this.getActionRect();return Misc.pointInRect(g.mouseScreenX,g.mouseScreenY,d)?!0:!1};k.prototype.onMouseMove=function(d,f,b,e){d=this.getActionRect();return Misc.pointInRect(e.mouseScreenX,e.mouseScreenY,d)?!0:!1};k.prototype.onKeyDown=function(d,f,b){return!1};return k}(),ViewerActionMouseCameraBirdView=function(){function k(){}var d={phiMin:Math.PI/2+.1*Math.PI/180,phiMax:Math.PI-.1*Math.PI/180};k.prototype=new ViewerActionMouseCamera;
k.prototype.constructor=k;k.prototype.onMouseDown=function(f,b,e,g,a){var c=this.getActionRect();if(!Misc.pointInRect(a.mouseScreenX,a.mouseScreenY,c)||!Viewer.cameraTransition.stop())return!1;a=this.camera;c=this.cameraControl;if(1===e||3===e){if(g.ctrlKey)if(g=Viewer.scene.boundingBox,g.min&&isFinite(g.min[0])){var k=vec3.create();k[0]=.5*(g.min[0]+g.max[0]);k[1]=g.min[1];k[2]=.5*(g.min[2]+g.max[2])}else k=vec3.fromValues(0,0,0);else{g=vec3.fromValues(0,1,0);var l={};Misc.rayPlaneIntersection(a.position,
a.normal,g,0,l)&&(k=l.p)}k&&(g=this.manager.newAction(ViewerActionMouseCameraBirdViewPanRotate,{id:"ViewerActionMouseCameraBirdView.onMouseDown"}),g.camera=a,g.cameraControl=c,g.type=1===e?"rotatePan":"panRotate",g.anchorS={x:f,y:b},c.reset(),c.rotation.pivot=k,c.rotation.bounds=d);f=!0}else f=!1;return f};k.prototype.onMouseWheel=function(d,b,e,g,a){g=this.getActionRect();if(!Misc.pointInRect(a.mouseScreenX,a.mouseScreenY,g)||!Viewer.cameraTransition.stop())return!1;var c=this.camera;a=this.cameraControl;
g=vec3.create();var f=vec3.create();c.getRay(d,b,g,f)&&(d=vec3.fromValues(0,1,0),b={},Misc.rayPlaneIntersection(g,f,d,0,b)&&(a.zoom.target=b.p,a.zoom.delta+=e));return!0};return k}(),ViewerActionMouseCameraBirdViewPanRotate=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onMouseMove=function(d,f,b,e){var g=this.getActionRect();if(!Misc.pointInRect(e.mouseScreenX,e.mouseScreenY,g))return!1;var a=this.camera;e=this.cameraControl;var c=d-this.anchorS.x;g=f-
this.anchorS.y;if("panRotate"===this.type&&b.shiftKey||"rotatePan"===this.type&&!b.shiftKey)b=.5*c*Math.PI/180,e=e.rotation,e.dPhi+=.5*g*Math.PI/180,e.dTheta+=b;else{var k=vec3.length(a.position);b=vec2.fromValues(a.normal[0],a.normal[2]);vec2.normalize(b,b);c*=.001*k;g*=.001*k;e=e.pan;e.dX+=g*b[0]-c*-b[1];e.dZ+=g*b[1]-c*b[0]}this.anchorS.x=d;this.anchorS.y=f;return!0};return k}(),ViewerActionMouseCameraFloor=function(){function k(){}k.prototype=new ViewerActionMouseCamera;k.prototype.constructor=
k;k.prototype.onMouseDown=function(d,f,b,e,g){var a=this.getActionRect();if(!Misc.pointInRect(g.mouseScreenX,g.mouseScreenY,a)||!Viewer.cameraTransition.stop())return!1;g=this.camera;a=this.cameraControl;1!==b||e.shiftKey?3===b||1===b&&e.shiftKey?(b=this.manager.newAction(ViewerActionMouseCameraFloorPan,{id:"ViewerActionMouseCameraFloor.onMouseDown"}),b.camera=g,b.cameraControl=a,b.anchorS={x:d,y:f},b.anchorW=vec3.clone(g.position),a.pan.bounds={heightMin:1,heightMax:10},d=!0):d=!1:(b=this.manager.newAction(ViewerActionMouseCameraFloorRotate,
{id:"ViewerActionMouseCameraFloor.onMouseDown"}),b.camera=g,b.cameraControl=a,b.anchorS={x:d,y:f},a.rotation.pivot=vec3.clone(g.position),a.rotation.bounds={phiMin:.1*Math.PI/180,phiMax:Math.PI-.1*Math.PI/180},d=!0);return d};k.prototype.onMouseWheel=function(d,f,b,e,g){d=this.getActionRect();if(!Misc.pointInRect(g.mouseScreenX,g.mouseScreenY,d)||!Viewer.cameraTransition.stop())return!1;this.cameraControl.moveXZ(.1*Math.min(8,Math.max(-8,b/120)),0);return!0};k.prototype.onUpdate=function(d){d=Input.state.keyState;
var f=Input.state.keyStates,b=d.shiftKey?.2:.1,e=0;if(f[87]||f[38])e=b;else if(f[83]||f[40])e=-b;var g=0;if(f[65]||f[37]&&d.altKey)g=b;else if(f[68]||f[39]&&d.altKey)g=-b;(e||g)&&this.cameraControl.moveXZ(e,g);b=this.camera.position;e={};g=d.shiftKey?2*Math.PI/180:1*Math.PI/180;f[37]&&!d.altKey?this.cameraControl.rotate(0,-g,b,e):f[39]&&!d.altKey&&this.cameraControl.rotate(0,g,b,e)};return k}(),ViewerActionMouseCameraFloorPan=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=
k;k.prototype.onMouseMove=function(d,f,b,e){b=this.getActionRect();if(!Misc.pointInRect(e.mouseScreenX,e.mouseScreenY,b))return!1;this.cameraControl.moveXY(-.01*(d-this.anchorS.x),.01*(f-this.anchorS.y));this.anchorS.x=d;this.anchorS.y=f;return!0};return k}(),ViewerActionMouseCameraFloorRotate=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onMouseMove=function(d,f,b,e){b=this.getActionRect();if(!Misc.pointInRect(e.mouseScreenX,e.mouseScreenY,b))return!1;
e=this.camera;b=-.25*(d-this.anchorS.x)*Math.PI/180;var g=this.cameraControl.rotation;g.dPhi+=-.25*(f-this.anchorS.y)*Math.PI/180;g.dTheta+=b;g.pivot=vec3.clone(e.position);this.anchorS.x=d;this.anchorS.y=f;return!0};return k}(),ViewerActionTouchCamera=function(){function k(){this.tap={timeStamp:0,timeStampTap:0,count:0}}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onMouseUp=function(d,f,b,e,g){return!1};k.prototype.onTouchStart=function(d,f){performance.now();f=this.tap;f.touchId=
d[0].identifier;f.touchX=d[0].clientX;f.touchY=d[0].clientY;f.timeStamp=performance.now();return!1};k.prototype.onTouchEnd=function(d,f){var b=this.tap;if(b&&f.changedTouchesById[b.touchId]){var e=performance.now();200>=e-b.timeStamp?(b.count++,window.setTimeout(function(){switch(b.count){case 1:b.timeStampTap=e;console.log("Tap");break;case 2:b.timeStampTap=e,Viewer.resetCamera(),console.log("Double tap")}b.count=0},200),console.log("Tap "+b.count)):(b.count=0,console.log("No tap"))}};k.prototype.onKeyDown=
function(d,f,b){return!1};return k}(),ViewerActionTouchCameraBirdView=function(){function k(){ViewerActionTouchCamera.prototype.constructor.call(this);this.touchReset()}var d={phiMin:Math.PI/2+.1*Math.PI/180,phiMax:Math.PI-.1*Math.PI/180};k.prototype=new ViewerActionTouchCamera;k.prototype.constructor=k;k.prototype.touchReset=function(){this.anchorW=this.anchorS=null};k.prototype.touchStartPan=function(d){var b=this.manager.newAction(ViewerActionTouchCameraBirdViewPan);b.camera=this.camera;b.cameraControl=
this.cameraControl;b.anchorS={x:this.anchorS.x,y:this.anchorS.y};b.touchId=d.identifier;this.touchReset()};k.prototype.touchStartZoomRotate=function(f,b,e){if(Viewer.cameraTransition.stop()){var g=this.camera,a=this.cameraControl,c=this.anchorS,k=performance.now(),l=this.manager.newAction(ViewerActionTouchCameraBirdViewZoomRotate);l.camera=g;l.cameraControl=a;l.locked=200>k-this.tap.timeStamp;l.tag=b;l.rotationBounds=d;l.zoomAt=e;l.pivot=e;l.anchorS={x:c.x,y:c.y};l.zoomAnchorY=c.y;l.touchId=f.identifier;
l.tensor=vec3.create();vec3.sub(l.tensor,g.position,l.zoomAt);this.touchReset()}};k.prototype.touchStartZoomRotatePinch=function(f,b,e){if(Viewer.cameraTransition.stop()){var g=this.camera,a=this.cameraControl;Misc.getDistance(f.clientX,f.clientY,b.clientX,b.clientY);var c=this.manager.newAction(ViewerActionTouchCameraBirdViewZoomRotatePinch);c.camera=g;c.cameraControl=a;c.rotationBounds=d;c.zoomAt=e;c.anchorS={x:f.clientX,y:f.clientY};c.touchId1=f.identifier;c.touchId2=b.identifier;c.tensor=vec3.create();
vec3.sub(c.tensor,g.position,c.zoomAt);f=vec3.fromValues(0,1,0);b={};Misc.rayPlaneIntersection(g.position,g.normal,f,0,b);c.pivot=b.p;this.touchReset()}};k.prototype.onTouchMove=function(d,b){var e=this.camera,f=this.anchorS,a=vec3.create(),c=vec3.create(),k=vec3.fromValues(0,1,0);b={};if(1===d.length){var l=d[0].clientX,r=d[0].clientY;if(f){if(0<Misc.getDistance(f.x,f.y,l,r)){a=Math.abs(l-f.x)>=Math.abs(r-f.y)?1:2;r=d[0].target.width;var h=d[0].target.height;c=Math.round(.25*r);l=Math.round(.25*
h);r-=c;h-=l;e=Misc.rayPlaneIntersection(e.position,e.normal,k,0,b);f.y>=h&&1===a?e&&this.touchStartZoomRotate(d[0],0,b.p):f.y<l&&1===a?e&&this.touchStartZoomRotate(d[0],1,b.p):f.x>=r&&2===a?e&&this.touchStartZoomRotate(d[0],2,b.p):f.x<c&&2===a?e&&this.touchStartZoomRotate(d[0],3,b.p):this.touchStartPan(d[0])}}else this.anchorS={x:l,y:r},e.getRay(l,r,a,c)&&Misc.rayPlaneIntersection(a,c,k,0,b)&&(this.anchorW=b.p)}else 2===d.length&&(f=Misc.getCenter(d[0].clientX,d[0].clientY,d[1].clientX,d[1].clientY),
e.getRay(f.x,f.y,a,c)&&Misc.rayPlaneIntersection(a,c,k,0,b)&&this.touchStartZoomRotatePinch(d[0],d[1],b.p));return!0};k.prototype.onTouchEnd=function(d,b){ViewerActionTouchCamera.prototype.onTouchEnd.call(this,d,b);this.touchReset()};return k}(),ViewerActionTouchCameraBirdViewPan=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchStart=function(d,f){this.end();return!1};k.prototype.onTouchMove=function(d,f){if(d=f.changedTouchesById[this.touchId]){var b=
this.camera;f=this.cameraControl;var e=d.clientX-this.anchorS.x,g=d.clientY-this.anchorS.y,a=vec3.length(b.position);a=Math.min(a,100);b=vec2.fromValues(b.normal[0],b.normal[2]);vec2.normalize(b,b);e*=.002*a;g*=.002*a;f=f.pan;f.dX+=g*b[0]-e*-b[1];f.dZ+=g*b[1]-e*b[0];this.anchorS.x=d.clientX;this.anchorS.y=d.clientY;return!0}console.log("ViewerActionTouchCameraBirdViewPan.onTouchMove: Touch not found.");return!1};k.prototype.onTouchEnd=function(d,f){return f.changedTouchesById[this.touchId]?(this.end(),
!0):!1};return k}(),ViewerActionTouchCameraBirdViewZoomRotate=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchMove=function(d,f){if(d=f.changedTouchesById[this.touchId]){f=this.camera;var b=this.cameraControl,e=Math.round(.25*d.target.width),g=Math.round(.5*d.target.height),a=Math.round(.5*d.target.height);if(this.locked&&3===this.tag||!this.locked&&d.clientX<g){var c=d.clientY-this.zoomAnchorY;10<=Math.abs(c)&&(b.zoom.target=this.zoomAt,b.zoom.delta+=
10*-c);this.zoomAnchorY=d.clientY}b=b.rotation;b.pivot=this.pivot;b.bounds=this.rotationBounds;var k=d.clientX-this.anchorS.x;c=d.clientY-this.anchorS.y;if(this.locked&&(0===this.tag||1===this.tag)||!this.locked&&d.clientX>=e)e=.4*(this.locked?0===this.tag?1:-1:d.clientY>=a?1:-1)*k*Math.PI/180,b.dTheta+=e;if(this.locked&&2===this.tag||!this.locked&&d.clientX>=g)g=.25*c*Math.PI/180,b.dPhi+=g;this.anchorS.x=d.clientX;this.anchorS.y=d.clientY;vec3.sub(this.tensor,f.position,this.zoomAt);return!0}console.log("ViewerActionTouchCameraBirdViewZoomRotate.onTouchMove: Touch not found.");
return!1};k.prototype.onTouchEnd=function(d,f){return f.changedTouchesById[this.touchId]?(this.end(),!0):!1};return k}(),ViewerActionTouchCameraBirdViewZoomRotatePinch=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchMove=function(d,f){d=f.vectors[this.touchId1];var b=f.vectors[this.touchId2];if(d&&b){if(0!==d.state&&0!==b.state){f=this.camera;var e=Misc.getDistance(d.prevClientX,d.prevClientY,b.prevClientX,b.prevClientY),g=Misc.getDistance(d.clientX,
d.clientY,b.clientX,b.clientY);e=0!==g?e/g:1;g=vec3.create();vec3.scale(g,this.tensor,e);vec3.add(f.position,this.zoomAt,g);e=vec3.fromValues(0,1,0);d.direction!==Input.DirectionLeft&&d.direction!==Input.DirectionRight||d.direction!==b.direction?(e=Misc.getAngle(d.prevClientX,d.prevClientY,b.prevClientX,b.prevClientY),g=Misc.getAngle(d.clientX,d.clientY,b.clientX,b.clientY),e-=g,e>Math.PI?e=2*Math.PI-e:e<-Math.PI&&(e=2*Math.PI+e),f.rotatePivot(d.direction!==Input.DirectionUp&&d.direction!==Input.DirectionDown||
d.direction!==b.direction?0:-.125*(this.anchorS.y-d.clientY)*Math.PI/180,2*e,this.zoomAt,this.rotationBounds)):(b=Misc.project2DPointToPlane(f,d.prevClientX,d.prevClientY,e,0),e=Misc.project2DPointToPlane(f,d.clientX,d.clientY,e,0),b&&e&&(g=vec3.create(),vec3.sub(g,b,e),vec3.add(f.position,f.position,g)));f.updateViewMatrix();this.anchorS.x=d.clientX;this.anchorS.y=d.clientY;vec3.sub(this.tensor,f.position,this.zoomAt)}return!0}console.log("ViewerActionTouchCameraBirdViewZoomRotatePinch.onTouchMove: One or both touches not found.");
return!1};k.prototype.onTouchEnd=function(d,f){d=f.changedTouchesById[this.touchId2];return f.changedTouchesById[this.touchId1]||d?(this.end(),!0):!1};return k}(),ViewerActionTouchCameraFloor=function(){function k(){ViewerActionTouchCamera.prototype.constructor.call(this);this.anchorW=this.anchorS=null}k.prototype=new ViewerActionTouchCamera;k.prototype.constructor=k;k.prototype.touchReset=function(){this.anchorW=this.anchorS=null};k.prototype.touchStartPanRotate=function(d,f){if(Viewer.cameraTransition.stop()){f=
f||{};var b="undefined"!==typeof f.type?f.type:"pan";f="undefined"!==typeof f.locked?f.locked:0;var e=this.manager.newAction(ViewerActionTouchCameraFloorPanRotate);e.camera=this.camera;e.type=b;e.locked=f;e.anchorS={x:this.anchorS.x,y:this.anchorS.y};e.anchorW=vec3.clone(this.camera.position);e.touchId=d.identifier;this.touchReset()}};k.prototype.touchStartMoveRotate=function(d){if(Viewer.cameraTransition.stop()){var f=this.camera,b=this.manager.newAction(ViewerActionTouchCameraFloorMoveRotate,{id:"ViewerActionTouchCameraFloor.touchStartMoveRotate"});
b.camera=f;b.anchorS={x:d.clientX,y:d.clientY};b.anchorW=vec3.clone(f.position);b.touchId=d.identifier;this.touchReset()}};k.prototype.touchStartMoveRotatePinch=function(d,f){if(Viewer.cameraTransition.stop()){var b=this.camera,e=this.manager.newAction(ViewerActionTouchCameraFloorMoveRotatePinch,{id:"ViewerActionTouchCameraFloor.touchStartPinch"});e.camera=b;e.touchId1=d.identifier;e.touchId2=f.identifier;this.touchReset()}};k.prototype.onTouchMove=function(d,f){var b=this.camera;f=this.anchorS;var e=
vec3.create(),g=vec3.create(),a=vec3.fromValues(0,1,0),c={};if(1===d.length){var k=d[0];f?10<Misc.getDistance(f.x,f.y,k.clientX,k.clientY)&&(b=Math.abs(k.clientX-f.x)>=Math.abs(k.clientY-f.y)?1:2,e=k.target.width,k=k.target.height,g=Math.round(.25*e),a=Math.round(.25*k),e-=g,f.y>=k-a&&1===b?this.touchStartPanRotate(d[0],{type:"pan"}):f.y<a&&1===b?this.touchStartPanRotate(d[0],{type:"rotate"}):f.x>=e&&2===b?this.touchStartPanRotate(d[0],{type:"rotate"}):f.x<g&&2===b?this.touchStartPanRotate(d[0],{type:"pan"}):
this.touchStartMoveRotate(d[0])):(this.anchorS={x:k.clientX,y:k.clientY},b.getRay(k.clientX,k.clientY,e,g)&&Misc.rayPlaneIntersection(e,g,a,0,c)&&(this.anchorW=c.p))}else 2===d.length&&this.touchStartMoveRotatePinch(d[0],d[1]);return!0};k.prototype.onTouchEnd=function(d,f){ViewerActionTouchCamera.prototype.onTouchEnd.call(this,d,f);this.touchReset()};return k}(),ViewerActionTouchCameraFloorMoveRotate=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchStart=
function(d,f){this.end();return!1};k.prototype.onTouchMove=function(d,f){if(d=f.changedTouchesById[this.touchId]){f=this.camera;var b=d.clientY-this.anchorS.y,e=-.2*(d.clientX-this.anchorS.x)*Math.PI/180,g=f.normal;g=MathUtils.cartesianToSpherical(g[0],g[1],g[2]);g[2]+=e;e=MathUtils.sphericalToCartesian(g[0],g[1],g[2]);vec3.normalize(f.normal,e);b*=.01;f.position[0]+=b*f.normal[0];f.position[2]+=b*f.normal[2];f.updateViewMatrix();this.anchorS.x=d.clientX;this.anchorS.y=d.clientY;return!0}console.log("ViewerActionCameraFloorMoveRotate.onTouchMove: Touch not found.");
return!1};k.prototype.onTouchEnd=function(d,f){return f.changedTouchesById[this.touchId]?(this.end(),!0):!1};return k}(),ViewerActionTouchCameraFloorPanRotate=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchStart=function(d,f){this.end();return!1};k.prototype.onTouchMove=function(d,f){if(f=f.changedTouchesById[this.touchId]){d=this.camera;var b=f.clientX-this.anchorS.x,e=f.clientY-this.anchorS.y;switch(this.type){case "pan":f=-.005*b;d.position[0]=
this.anchorW[0]+f*-d.normal[2];d.position[1]=this.anchorW[1]+.004*e;d.position[2]=this.anchorW[2]+f*d.normal[0];d.position[1]=Math.min(d.position[1],10);d.position[1]=Math.max(d.position[1],0);break;case "rotate":var g=Math.PI-.1*Math.PI/180,a=.1*Math.PI/180;e=-.05*e*Math.PI/180;b=-.1*b*Math.PI/180;var c=d.normal;c=MathUtils.cartesianToSpherical(c[0],c[1],c[2]);c[1]+=e;c[2]+=b;c[1]=Math.min(c[1],g);c[1]=Math.max(c[1],a);g=MathUtils.sphericalToCartesian(c[0],c[1],c[2]);vec3.normalize(d.normal,g);this.anchorS.x=
f.clientX;this.anchorS.y=f.clientY}d.updateViewMatrix();return!0}console.log("ViewerActionTouchCameraFloorPanRotate.onTouchMove: Touch not found.");return!1};k.prototype.onTouchEnd=function(d,f){return f.changedTouchesById[this.touchId]?(this.end(),!0):!1};return k}(),ViewerActionTouchCameraFloorMoveRotatePinch=function(){function k(){}k.prototype=new ViewerAction;k.prototype.constructor=k;k.prototype.onTouchMove=function(d,f){d=f.vectors[this.touchId1];var b=f.vectors[this.touchId2];if(d&&b){if(0!==
d.state&&0!==b.state){f=this.camera;var e=Misc.getDistance(d.prevClientX,d.prevClientY,b.prevClientX,b.prevClientY),g=Misc.getDistance(d.clientX,d.clientY,b.clientX,b.clientY);e=5*(1-(0!==g?e/g:1));f.position[0]+=e*f.normal[0];f.position[2]+=e*f.normal[2];e=Misc.getAngle(d.prevClientX,d.prevClientY,b.prevClientX,b.prevClientY);d=Misc.getAngle(d.clientX,d.clientY,b.clientX,b.clientY);d=(e-d)%(2*Math.PI);b=f.normal;b=MathUtils.cartesianToSpherical(b[0],b[1],b[2]);b[2]+=d;d=MathUtils.sphericalToCartesian(b[0],
b[1],b[2]);vec3.normalize(f.normal,d);f.updateViewMatrix()}return!0}console.log("ViewerActionTouchCameraBirdViewZoomRotatePinch.onTouchMove: One or both touches not found.");return!1};k.prototype.onTouchEnd=function(d,f){d=f.changedTouchesById[this.touchId2];return f.changedTouchesById[this.touchId1]||d?(this.end(),!0):!1};return k}(),Framework=function(){function k(b){Viewer.draw&&Viewer.draw(b);if(0<f){var d=(b-f)/1E3;Viewer.update&&Viewer.update(d)}f=b;Renderer.updateStatistics(b);window.requestAnimationFrame(k)}
var d={},f=0;d.WebGLError=function(){};d.initialize=function(b,e){b=WebGL.createWebGLContext(b,e);if(null===b)throw new d.WebGLError;Renderer.initialize(b)};d.getUrlParameters=function(){var b=window.location.search.substr(1).split("&");if(""===b)return{};for(var d={},f=0;f<b.length;f++){var a=b[f].split("=",2);d[a[0]]=1===a.length?"":decodeURIComponent(a[1].replace(/\+/g," "))}return d};d.start=function(b){Viewer.initialize&&Viewer.initialize(b);window.requestAnimationFrame(k)};return d}(),Misc=
function(){function k(b,d,a,c,f){var e=vec3.dot(a,d);if(-1E-12<e&&1E-12>e)return!1;f.t=-(vec3.dot(a,b)+c)/e;f.p=vec3.create();a=vec3.create();vec3.scale(a,d,f.t);vec3.add(f.p,b,a);return 0<=f.t}function d(b,d,a,c){var e="<html>\n    <head>\n    <title>\n        "+b+"    </title>\n    </head>\n    <body>\n    </body>\n</html>";b=window.open("",b);b.document.write(e);e=b.document.createElement("canvas");e.width=d;e.height=a;e.style.position="fixed";e.style.top=0;e.style.left=0;for(var f=e.getContext("2d"),
g=f.createImageData(d,a),h=0;h<a;h++)for(var k=0;k<d;k++){var q=4*(d*h+k),p=4*(d*(a-1-h)+k);g.data[p+0]=c[q+0];g.data[p+1]=c[q+1];g.data[p+2]=c[q+2];g.data[p+3]=255}f.putImageData(g,0,0);b.document.body.appendChild(e)}function f(b,d,a,c){var e="<html>\n    <head>\n    <title>\n        "+b+"    </title>\n    </head>\n    <body>\n    </body>\n</html>";b=window.open("",b);b.document.write(e);e=b.document.createElement("canvas");e.width=d;e.height=a;e.style.position="fixed";e.style.top=0;e.style.left=
0;for(var f=e.getContext("2d"),g=f.createImageData(d,a),h=0;h<a;h++)for(var k=0;k<d;k++){var q=4*(d*h+k),p=4*(d*(a-1-h)+k);g.data[p+0]=c[q+3];g.data[p+1]=c[q+3];g.data[p+2]=c[q+3];g.data[p+3]=255}f.putImageData(g,0,0);b.document.body.appendChild(e)}function b(b,g,a){var c=gl.createFramebuffer();gl.bindFramebuffer(gl.FRAMEBUFFER,c);gl.bindTexture(gl.TEXTURE_2D,a);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,a,0);a=new Uint8Array(4*b*g);gl.readPixels(0,0,b,g,gl.RGBA,gl.UNSIGNED_BYTE,
a);gl.bindFramebuffer(gl.FRAMEBUFFER,null);d("Texture color",b,g,a);f("Texture alpha",b,g,a)}return{pointInRect:function(b,d,a){return b>=a.left&&b<a.right&&d>=a.top&&d<a.bottom},getAngleFromVector:function(b,d){if(0===b)return 0<d?Math.PI/2:0>d?3*Math.PI/2:0;b=Math.atan2(d,b);0>b&&(b+=2*Math.PI);return b},getDistance:function(b,d,a,c){b=a-b;d=c-d;return Math.sqrt(b*b+d*d)},getAngle:function(b,d,a,c){return Math.atan2(c-d,a-b)},getCenter:function(b,d,a,c){return{x:.5*(b+a),y:.5*(d+c)}},rayPlaneIntersection:k,
project2DPointToPlane:function(b,d,a,c,f){var e=vec3.create(),g=vec3.create(),h={};return b.getRay(d,a,e,g)&&k(e,g,c,f,h)?h.p:null},showPixelBufferColorOnNewPage:d,showPixelBufferAlphaOnNewPage:f,showWebGLTexture:b,showTexture:function(d){b(d.width,d.height,d.webGLTexture)}}}(),Viewer=function(){var k={stInitializing:0,stReady:1,pmNone:0,pmGoToCameraDefault:1,pmGoToFirstBookmark:2,pmTourOnce:3,pmTourLoop:4,ParametricObjects:{},AvailableWidgets:{},updateUIState:function(){var d=this.Widgets.ButtonBar;
if(d)d.onUpdateUIState()},update:function(d){if(this.state!==k.stInitializing){for(var f=Object.keys(this.Widgets),b=0;b<f.length;b++){var e=this.Widgets[f[b]];if(e.onUpdate)e.onUpdate(d)}if(this.inputManager)this.inputManager.onUpdate(d);this.updateCamera(d);this.skyBox.update(d);if(this.onUpdate)this.onUpdate(d)}}};return k}();
(function(k){function d(b){this.camera=b;this.pan={dX:0,dY:0,dZ:0,bounds:{}};this.zoom={dX:0,dY:0,dZ:0,target:vec3.fromValues(0,0,0),delta:0};this.rotation={dPhi:0,dTheta:0,pivot:vec3.fromValues(0,0,0),bounds:{}}}function f(b){this.camera=b;this.active=this.wasActive=!1;this.from={};this.to={}}d.prototype.resetPan=function(){this.pan.dX=0;this.pan.dY=0;this.pan.dZ=0;this.pan.bounds={}};d.prototype.resetZoom=function(){this.zoom.dX=0;this.zoom.dY=0;this.zoom.dZ=0;vec3.set(this.zoom.target,0,0,0);this.zoom.delta=
0};d.prototype.resetRotation=function(){this.rotation.dPhi=0;this.rotation.dTheta=0;this.rotation.bounds={};vec3.set(this.rotation.pivot,0,0,0)};d.prototype.reset=function(){this.resetPan();this.resetZoom();this.resetRotation()};d.prototype.moveXZ=function(b,d){var e=this.camera,a=this.pan;e=vec2.fromValues(e.normal[0],e.normal[2]);vec2.normalize(e,e);a.dX+=b*e[0]-d*-e[1];a.dZ+=b*e[1]-d*e[0]};d.prototype.moveXY=function(b,d){var e=this.camera,a=this.pan;e=vec2.fromValues(e.normal[0],e.normal[2]);
vec2.normalize(e,e);a.dX+=b*-e[1];a.dY+=d;a.dZ+=b*e[0]};d.prototype.rotate=function(b,d,f,a){var c=this.rotation;c.dPhi+=b;c.dTheta+=d;c.bounds=a;vec3.copy(c.pivot,f)};d.prototype.update=function(b){var d=this.camera,f=this.rotation.dPhi;var a=this.rotation.dTheta;if(0!==f||a){var c=Math.pow(.2,100*b);var k=f*c;c*=a;d.rotatePivot(k,c,this.rotation.pivot,this.rotation.bounds);f-=k;a-=c;1E-9>Math.abs(f)&&(f=0);1E-9>Math.abs(a)&&(a=0);this.rotation.dPhi=f;this.rotation.dTheta=a}var l=this.pan.dX;var r=
this.pan.dY;var h=this.pan.dZ;if(0!==l||0!==r||0!==h)c=Math.pow(.2,100*b),a=l*c,k=r*c,c*=h,d.position[0]+=a,d.position[1]+=k,d.position[2]+=c,l-=a,r-=k,h-=c,1E-9>Math.abs(l)&&(l=0),1E-9>Math.abs(r)&&(r=0),1E-9>Math.abs(h)&&(h=0),this.pan.dX=l,this.pan.dY=r,this.pan.dZ=h;f=this.zoom;0!==f.delta&&(a=f.delta/120,k=vec3.create(),vec3.sub(k,f.target,d.position),c=vec3.length(k),vec3.normalize(k,k),vec3.scale(k,k,.1*c*a),f.dX+=k[0],f.dY+=k[1],f.dZ+=k[2],a=vec3.fromValues(f.dX,f.dY,f.dZ),k=vec3.length(a),
k>.5*c&&(vec3.scale(a,a,.5*c/k),f.dX=a[0],f.dY=a[1],f.dZ=a[2]),f.delta=0);l=f.dX;r=f.dY;h=f.dZ;if(0!==l||0!==r||0!==h)c=Math.pow(.2,100*b),a=l*c,k=r*c,c*=h,1>=d.position[1]+k?(b=(1-d.position[1])/k,d.position[0]+=a*b,d.position[1]+=k*b,d.position[2]+=c*b,f.dX=0,f.dY=0,f.dZ=0):(d.position[0]+=a,d.position[1]+=k,d.position[2]+=c,l-=a,r-=k,h-=c,1E-9>Math.abs(l)&&(l=0),1E-9>Math.abs(r)&&(r=0),1E-9>Math.abs(h)&&(h=0),f.dX=l,f.dY=r,f.dZ=h);d.updateViewMatrix()};f.prototype.stop=function(){this.active&&
k.canInterruptTransition&&(this.active=!1);return!this.active||k.canInterruptTransition};f.prototype.update=function(b){b=this.camera;var d=(performance.now()-this.timeStart)/this.duration;d=this.wasActive&&!k.cameraPresentation?--d*d*d+1:.5>d?4*d*d*d:(d-1)*(2*d-2)*(2*d-2)+1;1<=d&&(d=1);var f=this.from,a=this.to,c=vec3.create();1>d&&k.cameraMode===k.cmFloor&&a.mode===k.cmBirdView&&k.setCameraMode(a.mode);var m=f.position;var l=a.position;var r=d;c[0]=m[0]*(1-r)+l[0]*r;c[1]=m[1]*(1-r)+l[1]*r;c[2]=
m[2]*(1-r)+l[2]*r;l=f.rotation.rho*(1-d)+a.rotation.rho*d;r=f.rotation.phi*(1-d)+a.rotation.phi*d;var h=f.rotation.theta*(1-d)+a.rotation.theta*d;m=f.fov*(1-d)+a.fov*d;f=f.lensShiftY*(1-d)+a.lensShiftY*d;l=MathUtils.sphericalToCartesian(l,r,h);vec3.normalize(l,l);vec3.copy(b.position,c);vec3.copy(b.normal,l);b.fov=m;b.lensShiftY=f;b.updateProjectionMatrix();b.updateViewMatrix();k.canInterruptTransition=k.cameraMode===k.cmBirdView&&a.mode===k.cmFloor?.9>d:!0;1===d&&(k.cameraMode===k.cmBirdView&&a.mode===
k.cmFloor&&k.setCameraMode(a.mode),k.cameraPresentation?k.cameraBookmarkIndex<k.cameraBookmarks.length-1||k.presentationMode===k.pmTourLoop?k.goToNextBookmark():k.stopPresentation():this.stop())};k.CameraControl=d;k.CameraTransition=f})(Viewer);
(function(k){var d=vec3.fromValues(1,0,0),f=vec3.fromValues(0,1,0),b=quat.create(),e=mat4.create(),g=mat4.create(),a=mat4.create(),c=vec3.create(),m=vec3.create(),l=vec3.fromValues(500,0,-200),r=vec3.fromValues(0,100,-1E4);quat.setAxisAngle(b,d,-37*Math.PI/180);mat4.fromQuat(g,b);k.cmBirdView=0;k.cmFloor=1;k.cameraDefaults=[{fov:50*Math.PI/180,lensShiftY:0},{fov:71*Math.PI/180,lensShiftY:-.1}];k.canInterruptTransition=!0;k.setCameraMode=function(a){var b=this.camera,c=this.cameraDefaults[a];b.fov=
c.fov;b.lensShiftY=c.lensShiftY;b.updateProjectionMatrix();switch(a){case k.cmBirdView:this.skyBox.opacity=0;break;case k.cmFloor:this.skyBox.opacity=1}this.inputManager&&(b=a===k.cmBirdView,this.actionMouseCameraBirdView.enabled=b,this.actionTouchCameraBirdView.enabled=b,this.actionMouseCameraFloor.enabled=!b,this.actionTouchCameraFloor.enabled=!b);this.cameraMode=a;this.updateUIState()};k.resetCamera=function(){var a=this.scene.boundingBox.min;var b=this.scene.boundingBox.max;if(a&&isFinite(a[0])){var c=
.5*(a[0]+b[0]);a=.5*(a[2]+b[2])}else a=c=0;switch(this.cameraMode){case k.cmBirdView:var d=vec3.fromValues(c,10,a+10);var e=vec3.fromValues(0,-1,-1);vec3.normalize(e,e);break;case k.cmFloor:d=vec3.fromValues(c,1.5,a),e=vec3.fromValues(0,0,1),vec3.normalize(e,e)}this.goToCameraDestination({mode:this.cameraMode,position:d,normal:e},{duration:8E3})};k.updateLighting=function(){var d=this.camera.normal;d=MathUtils.cartesianToSpherical(d[0],d[1],d[2]);quat.setAxisAngle(b,f,Math.PI/2-d[2]);mat4.fromQuat(e,
b);mat4.multiply(a,e,g);vec3.transformMat4(c,l,e);vec3.transformMat4(m,r,a);vec3.normalize(c,c);vec3.normalize(m,m);d=this.lightsStatic;var k=d.hemisphere[1];d.hemisphere[0].direction=c;k.direction=m};k.updateCamera=function(a){this.cameraTransition.active?this.cameraTransition.update(a):this.cameraControl.update(a);this.updateLighting()};k.goToCameraDestination=function(a,b){b=b||{};b="undefined"!==typeof b.duration?b.duration:this.cameraPresentation?8E3:2E3;var c=this.camera,d=this.cameraTransition,
e=c.normal,f=a.normal;e=MathUtils.cartesianToSpherical(e[0],e[1],e[2]);var g=MathUtils.cartesianToSpherical(f[0],f[1],f[2]);f=d.from;var h=d.to;f.mode=this.cameraMode;f.position=vec3.clone(c.position);f.normal=vec3.clone(c.normal);f.rotation={rho:e[0],phi:e[1],theta:e[2]};f.fov=c.fov;f.lensShiftY=c.lensShiftY;h.mode=a.mode;h.position=vec3.clone(a.position);h.normal=vec3.clone(a.normal);h.rotation={rho:g[0],phi:g[1],theta:g[2]};h.fov=this.cameraDefaults[a.mode].fov;h.lensShiftY=this.cameraDefaults[a.mode].lensShiftY;
a=h.rotation.theta-f.rotation.theta;a>Math.PI?f.rotation.theta+=2*Math.PI:a<-Math.PI&&(h.rotation.theta+=2*Math.PI);this.cameraControl.reset();d.wasActive=d.active;d.active=!0;d.timeStart=performance.now();d.duration=b};k.setActiveBookmark=function(a){for(var b=0;b<this.cameraBookmarks.length;b++){var c=this.cameraBookmarks[b];c.active=c===a;c.active&&(this.cameraBookmarkIndex=b)}this.updateUIState()};k.goToBookmark=function(a,b){this.setActiveBookmark(a);this.goToCameraDestination(a,b)};k.goToPreviousBookmark=
function(a){var b=this.cameraBookmarks.length;this.cameraBookmarkIndex=((this.cameraBookmarkIndex-1)%b+b)%b;this.goToBookmark(this.cameraBookmarks[this.cameraBookmarkIndex],a)};k.goToNextBookmark=function(a){this.cameraBookmarkIndex=(this.cameraBookmarkIndex+1)%this.cameraBookmarks.length;this.goToBookmark(this.cameraBookmarks[this.cameraBookmarkIndex],a)};k.startPresentation=function(){if(this.cameraPresentation)return!0;if(0===this.cameraBookmarks.length||this.cameraTransition.active&&!this.canInterruptTransition)return!1;
this.cameraTransition.active=!1;this.cameraPresentation=!0;this.goToNextBookmark();return!0};k.stopPresentation=function(){if(!this.cameraPresentation)return!0;this.cameraTransition.stop();this.cameraPresentation=!1;this.updateUIState();return!0}})(Viewer);
(function(k){function d(b){return Input.cancelEvent(b)}function f(b){b.dataTransfer.dropEffect="copy";return Input.cancelEvent(b)}k.loadResources=function(){return new Promise(function(b,d){var e=new BatchRequest;e.textures={};e.onFile=function(a,b,d,e){console.log("File "+b.url+" loaded ("+d+"/"+e+")")};e.onError=function(a,b,d,e){console.warn("Failed to load file "+b.url+"("+d+"/"+e+")")};e.onComplete=function(a){0===this.errorCount?b("Loading complete."):d("Could not load all resources.")};e.start()})};
k.initializeState=function(){this.rootNodes=[];this.nodeList=[];this.textures={};this.materials={};this.resources={};this.streamsOpaque=[];this.streamsTransparent=[]};k.initializeWebGLState=function(){gl.enable(gl.BLEND);gl.enable(gl.CULL_FACE);gl.enable(gl.DEPTH_TEST);gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA)};k.initializeDragAndDrop=function(){var b=gl.canvas;b.addEventListener("dragover",f,!1);b.addEventListener("drop",d,!1)};k.initializeRpcApi=function(){var b=new k.RpcApi;b.initialize({useWebSocket:this.useWebSocket});
this.rpcApi=b};k.initializeLoadingQueue=function(b){this.loadingQueue=new ModelIO.LoadingQueue(b);if(this.benchmarkMode&&!Utils.deviceIsMobilePhone()&&(b=this.Widgets.LoadingQueueDisplay))b.onLoadingQueueInitialize()};k.initializeWidgets=function(b){this.Widgets={};for(var d=Object.keys(this.AvailableWidgets),f=0;f<d.length;f++){var a=d[f];if(-1<b.initializeWidgets.indexOf(a)){var c=this.AvailableWidgets[a];if(c.onInitialize)c.onInitialize();this.Widgets[a]=c}}};k.initializeScene=function(){this.scene=
new Renderer.Node;this.scene.name="Scene";this.createRenderStreams(this.scene)};k.initializeLightsDynamic=function(){var b=new Renderer.AmbientLight({color:WebGL.RGB(.25,.25,.25)}),d=vec3.fromValues(.93,0,-.37);vec3.normalize(d,d);d=new Renderer.HemisphereLight({color1:WebGL.RGB(.64,.69,.76),color2:WebGL.RGB(.84,.81,.76),intensity:.6,direction:d});var f=vec3.fromValues(0,-.6,-.8);vec3.normalize(f,f);f=new Renderer.HemisphereLight({color1:WebGL.RGB(.8,.8,.8),color2:WebGL.RGB(.3,.3,.3),intensity:.5,
direction:f});this.lightsDynamic={ambient:b,directional:[],hemisphere:[d,f]}};k.initializeLightsStatic=function(){this.lightsStatic=this.lightsDynamic};k.initializeLights=function(){this.initializeLightsDynamic();this.initializeLightsStatic()};k.initializeShadows=function(){this.shadowPlane=new Renderer.ShadowPlane;this.shadowPlane.elevation=.014;this.shadowPlane.blurPasses=8;this.shadowPlaneGrid=new Renderer.ShadowPlane;this.shadowPlaneGrid.elevation=-1;this.shadowPlaneGrid.mapBorder=.4;this.shadowPlaneGrid.blurPasses=
32};k.initializeSky=function(){this.skyBox=new Renderer.SkyBox(300)};k.initializeCamera=function(){this.camera=new Renderer.Camera;this.cameraControl=new k.CameraControl(this.camera);this.cameraTransition=new k.CameraTransition(this.camera);this.cameraPresentation=!1;this.setCameraMode(k.cmBirdView);this.camera.lookAt(vec3.fromValues(-1,50,0),vec3.fromValues(0,0,0))};k.initializeInput=function(){Framework.container.addEventListener("contextmenu",function(b){return Input.cancelEvent(b)},!1);this.inputManager=
new Input.Manager;Input.registerManager(this.inputManager,Framework.container);this.inputManager.newAction(ViewerActionIdle,{id:"Viewer.initializeInput"});this.actionMouseCameraBirdView=this.inputManager.newAction(ViewerActionMouseCameraBirdView,{id:"Viewer.initializeInput",camera:this.camera,cameraControl:this.cameraControl});this.actionMouseCameraFloor=this.inputManager.newAction(ViewerActionMouseCameraFloor,{id:"Viewer.initializeInput",camera:this.camera,cameraControl:this.cameraControl});this.actionTouchCameraBirdView=
this.inputManager.newAction(ViewerActionTouchCameraBirdView,{id:"Viewer.initializeInput",camera:this.camera,cameraControl:this.cameraControl});this.actionTouchCameraFloor=this.inputManager.newAction(ViewerActionTouchCameraFloor,{id:"Viewer.initializeInput",camera:this.camera,cameraControl:this.cameraControl});var b=this.cameraMode===k.cmBirdView;this.actionMouseCameraBirdView.enabled=b;this.actionTouchCameraBirdView.enabled=b;this.actionMouseCameraFloor.enabled=!b;this.actionTouchCameraFloor.enabled=
!b};k.initializeScenePlane=function(){this.scenePlane=new k.ScenePlane};k.initialize=function(b){var d=["ButtonBar","FpsCounter","LoadTimeCounter","LoadingQueueDisplay","VersionDisplay"],f={none:k.pmNone,gotocameradefault:k.pmGoToCameraDefault,gotofirstbookmark:k.pmGoToFirstBookmark,touronce:k.pmTourOnce,tourloop:k.pmTourLoop};b="undefined"!==typeof b?b:{};b.initializeInput="undefined"!==typeof b.initializeInput?b.initializeInput:!0;b.initializeWidgets="undefined"!==typeof b.initializeWidgets?b.initializeWidgets:
d;this.urlParameters=Framework.getUrlParameters();this.benchmarkMode="undefined"!==typeof this.urlParameters.benchmarkMode?"true"===this.urlParameters.benchmarkMode.toLowerCase():!1;this.useWebSocket="undefined"!==typeof this.urlParameters.useWebSocket?"true"===this.urlParameters.useWebSocket.toLowerCase():!0;this.presentationMode=f[(b.presentationMode?b.presentationMode:"undefined"!==typeof this.urlParameters.presentationMode?this.urlParameters.presentationMode:"none").toLowerCase()]||k.pmGoToFirstBookmark;
(d=this.urlParameters.visualizer)&&Renderer.Visualizers.set(d);this.cameraBookmarks=[];this.cameraBookmarkIndex=-1;this.timeLoadFinish=this.timeLoadStart=null;this.theme=0;this.state=k.stInitializing;var a=this;this.loadResources().then(function(c){a.initializeState();a.initializeWebGLState();a.initializeDragAndDrop();a.initializeWidgets(b);a.initializeRpcApi();a.initializeScene();a.initializeLights();a.initializeShadows();a.initializeSky();a.initializeCamera();b.initializeInput&&a.initializeInput();
a.initializeScenePlane();a.loadSceneFromUrl();a.state=k.stReady;if(b.onReady)b.onReady()},function(a){console.log(a)})}})(Viewer);
(function(k){k.loadingDone=function(){var d=this.Widgets.LoadingQueueDisplay;if(d)d.onLoadingDone();this.timeLoadFinish=performance.now();this.updateUIState();console.log("Loading complete.")};k.loadingGeometryDone=function(){this.shadowPlane&&this.shadowPlane.update(this.scene);this.shadowPlaneGrid&&this.shadowPlaneGrid.update(this.scene)};k.incResourceCount=function(){this.resourceCount++};k.incTagCounts=function(d){d=d.replace(/\*/g,"").split(" ");for(var f=0;f<d.length;f++){var b=d[f];"undefined"===
typeof this.resourceTagCounts[b]?this.resourceTagCounts[b]=1:this.resourceTagCounts[b]++}};k.decResourceCount=function(){this.resourceCount--;0===this.resourceCount&&this.loadingDone()};k.decTagCounts=function(d){d=d.replace(/\*/g,"").split(" ");for(var f=0;f<d.length;f++){var b=d[f];if("undefined"===typeof this.resourceTagCounts[b])console.warn("Viewer.decTagCounts: Unknown tag '"+b+"'.");else{var e=--this.resourceTagCounts[b];"geometry"===b&&0===e&&this.loadingGeometryDone()}}};k.resourceLoaded=
function(d,f,b){function e(a,b){var d=Utils.extractPathFromUrl(b),e=Utils.extractHostnameFromUrl(b);b=""===d?h+"/"+b:""===e||-1===e.indexOf(".")?C+"/"+b:b;d=c?c+" "+a.tags:a.tags;e=Utils.extractFileExt(b);null===q&&".dds"===e.toLowerCase()?console.warn("Viewer.resourceLoaded: Device does not support compressed textures, will not load dependency."):r.loadResource(b,{resourceTags:d,resourceKey:a.src,onResourceLoad:a.onLoad,onResourceMerge:a.onMerge})}function g(a){console.log("Error retrieving URL for API key "+
a.src+".");r.decResourceCount();r.decTagCounts(a.tags)}this.processModel(b);this.processScene();if(b.annotation&&b.annotation.onLoad)b.annotation.onLoad(b);var a,c="",k=b.annotation.tags.split(" ");for(a=0;a<k.length;a++){var l=k[a];0<l.length&&"*"===l.charAt(0)&&(c&&(c+=" "),c+=l)}var r=this,h=Utils.extractPathFromUrl(d),C=decodeURIComponent(Utils.extractUrlParts(d).origin),q=Renderer.webGLExtensions.CompressedTextureS3TC;d=b.dependencies.getAsList();for(a=0;a<d.length;a++)b=d[a],(!b.owner||0<b.owner.importer.refCount||
b.owner.importer.deferredUse)&&f.getDependencyUrl(b,e,g)};k.sceneDefined=function(){if(this.onSceneDefined)this.onSceneDefined();else switch(this.presentationMode){case k.pmGoToCameraDefault:k.resetCamera();break;case k.pmGoToFirstBookmark:0<this.cameraBookmarks.length?k.goToNextBookmark({duration:8E3}):k.resetCamera();break;case k.pmTourOnce:case k.pmTourLoop:k.startPresentation()}};k.loadResource=function(d,f){var b="undefined"!==typeof f.resourceTags?f.resourceTags:null,e="undefined"!==typeof f.resourceKey?
f.resourceKey:null,g="undefined"!==typeof f.onResourceLoad?f.onResourceLoad:null,a="undefined"!==typeof f.onResourceMerge?f.onResourceMerge:null,c=this;this.resources[d]||(this.resources[d]="loading",this.incResourceCount(),this.incTagCounts(b),this.loadingQueue.enqueueRequest(d,b,{onSuccess:function(d,f,k){k.annotation={src:e,tags:b,onLoad:g,onMerge:a};c.resourceLoaded(d,f,k);c.decResourceCount();c.decTagCounts(b);c.resources[d]="loaded"},onPassThrough:function(a){c.decResourceCount();c.decTagCounts(b);
c.resources[a]="skipped"},onError:function(a){console.warn("Failed to load "+a+".");c.decResourceCount();c.decTagCounts(b);c.resources[a]="failed"}}))};k.loadScene=function(d,f,b){this.timeLoadStart=performance.now();this.timeLoadFinish=null;this.resourceCount=0;this.resourceTagCounts={};(new f).load(d,b)};k.loadSceneFromUrl=function(){var d=this.urlParameters,f=d.sceneObjectId,b=d.sceneId;d=d.sceneLoadBaked;f?this.loadScene(f,ModelIO.ArchilogicData3DSceneLoader):b&&this.loadScene(b,ModelIO.ArchilogicSceneStructureSceneLoader,
{sceneLoadBaked:"undefined"!==typeof d?"true"===d.toLowerCase():!0})}})(Viewer);
(function(k){k.getUniqueEntityName=function(d,f){var b=1;do var e=f+" (Copy "+b++ +")";while(d[e]);return e};k.mergeGeometry=function(d){if(0!==d.rootNodes.length){if(1<d.rootNodes.length)throw"Viewer.mergeGeometry: Model has multiple root nodes.";var f,b=d.rootNodes[0],e=!1;if(d.annotation&&d.annotation.src)for(f=0;f<this.nodeList.length;f++){var g=this.nodeList[f];if(g.importer&&g.importer.src&&g.importer.src===d.annotation.src){e=b.clone();if(d.annotation.onMerge)d.annotation.onMerge(d,g,e);e.importer=
g.importer;e.position=vec3.clone(g.position);e.rotation=quat.clone(g.rotation);e.scale=vec3.clone(g.scale);e.pivotPoint=vec3.clone(g.pivotPoint);e.transformAttrsChanged();var a=g.parent;a.removeChild(g);for(a.addChild(e);0<g.children.length;)a=g.children[0],g.removeChild(a),e.addChild(a);"undefined"!==typeof g.importer.castShadow&&e.mesh&&(e.mesh.castShadow=g.importer.castShadow,e.calculateBounds(),.1>e.boundingBox.max[1]&&(e.mesh.castShadow=!1));e=!0}}e||(this.rootNodes.push(b),this.scene.addChild(b));
d=[];for(f=0;f<this.rootNodes.length;f++)d=d.concat(this.rootNodes[f].getTreeAsList());this.nodeList=d}};k.mergeTextures=function(d){for(var f,b=Object.keys(d.textures),e=0;e<b.length;e++){var g=d.textures[b[e]];f=g.name;var a=this.textures[f];if(a){var c=a.name;g.importer.missing?(f=GeometryHelpers.getMaterialsThatUseTexture(d.materials,f),GeometryHelpers.replaceTextureInMaterials(f,g,a)):a.importer.missing?(f=GeometryHelpers.getMaterialsThatUseTexture(this.materials,c),GeometryHelpers.replaceTextureInMaterials(f,
a,g),this.textures[g.name]=g):console.warn("Viewer.mergeTextures: Texture "+g.name+" already exists.")}else this.textures[f]=g}};k.mergeMaterials=function(d){for(var f,b=Object.keys(d.materials),e=0;e<b.length;e++){var g=d.materials[b[e]],a=g.name,c=this.materials[a];if(c)if(f=c.name,g.importer.missing)f=GeometryHelpers.getNodesThatUseMaterial(d.nodeList,a),GeometryHelpers.replaceMaterialInNodes(f,g,c);else if(c.importer.missing){f=GeometryHelpers.getNodesThatUseMaterial(this.nodeList,f);GeometryHelpers.replaceMaterialInNodes(f,
c,g);c=f;for(f=0;f<c.length;f++){var k=c[f];k.renderNode&&(k.renderNode.needsUpdate=!0)}this.materials[a]=g}else Utils.compareObjects(c,g)?(f=GeometryHelpers.getNodesThatUseMaterial(d.nodeList,a),GeometryHelpers.replaceMaterialInNodes(f,g,c)):(g.name=this.getUniqueEntityName(this.materials,a),this.materials[g.name]=g);else this.materials[a]=g}};k.updateReferenceCounts=function(){var d,f,b,e;var g=Object.keys(this.textures);for(d=0;d<g.length;d++){var a=this.textures[g[d]];a.importer.refCount=0}a=
Object.keys(this.materials);for(d=0;d<a.length;d++)g=this.materials[a[d]],g.importer.refCount=0;for(d=0;d<this.nodeList.length;d++)if(a=this.nodeList[d],a.mesh){var c=a.mesh.materialStreams;for(f=0;f<c.length;f++)if(g=c[f].material,!g.importer.missing){g.importer.refCount++;var k=Object.keys(g.maps);for(b=0;b<k.length;b++){var l=g.maps[k[b]];for(e=0;e<l.textures.length;e++)(a=l.textures[e])&&a.importer.refCount++}}}};k.showUnusedResources=function(){var d,f=Object.keys(this.textures),b=0;for(d=0;d<
f.length;d++){var e=this.textures[f[d]];0===e.importer.refCount&&(console.log(e),b++)}console.log("Scene contains "+f.length+" textures, of which "+b+" are not used.");f=Object.keys(this.materials);for(d=b=0;d<f.length;d++)e=this.materials[f[d]],0===e.importer.refCount&&(console.log(e),b++);console.log("Scene contains "+f.length+" materials, of which "+b+" are not used.")};k.createRenderStreams=function(d){Renderer.createRenderStreams(d,{recursive:!0})};k.joinRootNodes=function(d){var f=new Renderer.Node;
f.name="Dummy";for(var b=0;b<d.rootNodes.length;b++)f.addChild(d.rootNodes[b]);d.rootNodes=[f]};k.processModel=function(d){var f;1<d.rootNodes.length&&this.joinRootNodes(d);var b=Object.keys(d.textures);for(f=0;f<b.length;f++){var e=d.textures[b[f]];e.importer.missing||(e.image?(e.fromImage(e.image,{anisotropy:2}),e.timeLoaded=performance.now()):e.ddsTexture?(e.fromDdsTexture(e.ddsTexture,{anisotropy:2}),e.timeLoaded=performance.now()):console.warn("Viewer.processModel: Could not decode texture."))}this.mergeGeometry(d);
this.mergeTextures(d);this.mergeMaterials(d);this.cameraBookmarks=this.cameraBookmarks.concat(d.cameraBookmarks);this.updateReferenceCounts();0<d.rootNodes.length&&(f=this.rootNodes[0],"R"===d.coordinateSystem.handedness&&"Z"===d.coordinateSystem.upAxis&&(d=mat4.create(),mat4.fromXRotation(d,-Math.PI/2),mat4.multiply(f.mTransform,f.mTransform,d),f.transformMatrixChanged()))};k.processScene=function(){this.scene.calculateBounds({recalculate:!1});this.createRenderStreams(this.scene);this.streamsOpaque=
[];this.streamsTransparent=[];this.shadowPlane&&(this.shadowPlane.streams=[]);this.shadowPlaneGrid&&(this.shadowPlaneGrid.streams=[]);for(var d=0;d<this.nodeList.length;d++){var f=this.nodeList[d].renderNode;if(f){for(var b=0;b<f.streams.length;b++){var e=f.streams[b];1===e.material.opacity?this.streamsOpaque.push(e):this.streamsTransparent.push(e)}this.shadowPlane&&f.streamShadowPlane&&this.shadowPlane.streams.push(f.streamShadowPlane);this.shadowPlaneGrid&&f.streamShadowPlaneGrid&&this.shadowPlaneGrid.streams.push(f.streamShadowPlaneGrid)}}this.streamsOpaque.sort(function(b,
a){return b.material.id-a.material.id});this.streamsTransparent.sort(function(b,a){return b.material.id-a.material.id})}})(Viewer);
(function(k){k.draw=function(d){var f={x:0,y:0,width:gl.drawingBufferWidth,height:gl.drawingBufferHeight};Renderer.setViewport(f);Renderer.frameBegin(d);switch(this.state){case k.stInitializing:gl.clearColor(.2,.2,.2,1);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);break;case k.stReady:switch(this.theme){case 0:gl.clearColor(0,0,0,0);break;case 1:gl.clearColor(.8,.8,.8,1)}gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);this.camera.setViewport(f);1===this.theme&&this.scenePlane.draw(this.camera);
this.skyBox.draw(this.camera);Renderer.drawRenderStreams(this.streamsOpaque,this.camera,{lights1:this.lightsDynamic,lights2:this.lightsStatic});Renderer.drawRenderStreams(this.streamsTransparent,this.camera,{lights1:this.lightsDynamic,lights2:this.lightsStatic});this.shadowPlane&&(this.shadowPlane.blendType=Renderer.btMultiply,this.shadowPlane.draw(this.camera));this.shadowPlaneGrid&&(this.shadowPlaneGrid.blendType=0===this.theme?Renderer.btInterpolate:Renderer.btMultiply,this.shadowPlaneGrid.draw(this.camera));
if(d=this.Widgets.LoadingQueueDisplay)d.onDraw()}Renderer.frameEnd()}})(Viewer);
(function(){function k(){var d=[vec3.fromValues(-1024,-1,1024),vec3.fromValues(1024,-1,1024),vec3.fromValues(1024,-1,-1024),vec3.fromValues(-1024,-1,-1024)],f=[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1}],b=[{x:-31,y:-31},{x:32,y:-31},{x:32,y:32},{x:-31,y:32}],e=[];e.push(d[0][0],d[0][1],d[0][2],f[0].x,f[0].y,b[0].x,b[0].y,d[1][0],d[1][1],d[1][2],f[1].x,f[1].y,b[1].x,b[1].y,d[2][0],d[2][1],d[2][2],f[2].x,f[2].y,b[2].x,b[2].y,d[3][0],d[3][1],d[3][2],f[3].x,f[3].y,b[3].x,b[3].y);this.webGLVertexBuffer=
WebGL.createVertexBuffer(e);this.webGLIndexBuffer=WebGL.createIndexBuffer([0,1,2,2,3,0]);this.shaderProgram=WebGL.ShaderProgram("attribute vec3 aPosition;\nattribute vec2 aTexCoord1;\nattribute vec2 aTexCoord2;\n\nvarying vec3 vPosition;\nvarying vec2 vTexCoordDiffuse;\nvarying vec2 vTexCoordLight;\n\nuniform mat4 uMatMV;\nuniform mat4 uMatP;\n\nvoid main(void) {\n  gl_Position      = uMatP * uMatMV * vec4(aPosition, 1.0);\n  vPosition        = aPosition;\n  vTexCoordDiffuse = aTexCoord1;\n  vTexCoordLight   = aTexCoord2;\n}",
"precision highp float;\nprecision highp int;\n\nconst float log2 = 1.442695;\n\nvarying vec3 vPosition;\nvarying vec2 vTexCoordDiffuse;\nvarying vec2 vTexCoordLight;\n\nuniform vec3      uColor;\nuniform vec3      uFogColor;\nuniform float     uFogDensity;\nuniform sampler2D uSamplerDiffuse;\nuniform sampler2D uSamplerLight;\n\nvoid main(void) {\n  vec3  diffuseTexel  = vec3(texture2D(uSamplerDiffuse, vTexCoordDiffuse));\n  vec3  lightTexel    = vec3(texture2D(uSamplerLight, vTexCoordLight));\n  vec3  geometryColor = uColor * diffuseTexel * (1.0 + 2.0 * (lightTexel - 0.5));\n\n  float depth     = gl_FragCoord.z / gl_FragCoord.w;\n  float fogFactor = 1.0 - clamp(exp2(-uFogDensity * uFogDensity * depth * depth * log2), 0.0, 1.0);\n\n  gl_FragColor = vec4(mix(geometryColor, uFogColor, fogFactor), 1.0);\n}",
"shaderScenePlane",{print:!1});d=document.createElement("canvas");d.width=1024;d.height=1024;f=d.getContext("2d");f.fillStyle="rgba(64, 64, 64, 1.0)";f.fillRect(0,0,d.width,d.height);this.mapDiffuse=(new Renderer.Texture({name:"Gray"})).fromCanvas(d);d=document.createElement("canvas");d.width=1024;d.height=1024;f=d.getContext("2d");var g=.5;e=Math.round(255*g);var a=Math.round(242.25*g);g=Math.round(216.75*g);f.fillStyle="rgba("+e+", "+a+", "+g+", 1.0)";f.fillRect(0,0,d.width,d.height);for(b=512;0<=
b;b--)e=(512-b)/512,g=.5+.5*e*e,e=Math.round(255*g),a=Math.round(242.25*g),g=Math.round(216.75*g),f.beginPath(),f.arc(512,512,b,0,2*Math.PI,!1),f.fillStyle="rgba("+e+", "+a+", "+g+", 1.0)",f.closePath(),f.fill();this.mapLight=(new Renderer.Texture({name:"Light"})).fromCanvas(d)}mat4.create();mat4.create();mat4.create();k.prototype.draw=function(d){var f=this.shaderProgram;Renderer.pushState();Renderer.setDepthWrite(!1);Renderer.setShaderProgram(f);gl.uniform3f(f.uColor,1,1,1);gl.uniform3f(f.uFogColor,
.8,.8,.8);gl.uniform1f(f.uFogDensity,.002);gl.uniformMatrix4fv(f.uMatP,!1,d.mProjection);gl.uniformMatrix4fv(f.uMatMV,!1,d.mView);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,this.mapDiffuse.webGLTexture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR_MIPMAP_LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.REPEAT);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.REPEAT);gl.uniform1i(f.uSamplerDiffuse,
0);gl.activeTexture(gl.TEXTURE1);gl.bindTexture(gl.TEXTURE_2D,this.mapLight.webGLTexture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.uniform1i(f.uSamplerLight,1);gl.bindBuffer(gl.ARRAY_BUFFER,this.webGLVertexBuffer);gl.vertexAttribPointer(f.aPosition,3,gl.FLOAT,!1,28,0);gl.vertexAttribPointer(f.aTexCoord1,
2,gl.FLOAT,!1,28,12);gl.vertexAttribPointer(f.aTexCoord2,2,gl.FLOAT,!1,28,20);gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.webGLIndexBuffer);gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0);Renderer.popState()};Viewer.ScenePlane=k})();
(function(k){function d(){return!(document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen)}function f(){var a=k.camera;k.cameraPresentation&&(k.cameraPresentation=!1);if(k.cameraMode===k.cmFloor){var b=vec3.fromValues(a.position[0],10,a.position[2]);a=vec3.fromValues(a.normal[0],-1,a.normal[2]);vec3.normalize(a,a);k.setActiveBookmark(null);k.goToCameraDestination({mode:k.cmBirdView,position:b,normal:a})}}function b(){var a=k.camera;k.cameraPresentation&&
(k.cameraPresentation=!1);if(k.cameraMode===k.cmBirdView){var b=vec3.fromValues(a.position[0],1.5,a.position[2]);a=vec3.fromValues(a.normal[0],0,a.normal[2]);vec3.normalize(a,a);k.setActiveBookmark(null);k.goToCameraDestination({mode:k.cmFloor,position:b,normal:a})}}function e(){A.classList.toggle("hidden");Input.cancelEvent()}function g(){k.cameraPresentation?k.stopPresentation():k.startPresentation();Input.cancelEvent()}function a(){var a=document.documentElement;d()?document.cancelFullScreen?document.cancelFullScreen():
document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);k.updateUIState()}function c(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttributeNS(null,"viewBox","0 0 100 100");b.setAttributeNS(null,"width","100%");b.setAttributeNS(null,
"height","100%");b.innerHTML=a;return b}function m(a,b,d){b=c(b);var e=document.createElement("div");e.id=a;e.className="button";e.onmousedown=function(a){Input.cancelEvent(a)};e.onclick=d;e.appendChild(b);r.appendChild(e);return e}function l(a){var b=document.createElement("div");b.className="bookmark";b.textContent=a.name;b.onclick=function(b){k.goToBookmark(a);Input.cancelEvent()};A.appendChild(b);return b}var r,h,C,q,p,A,n={};k.AvailableWidgets.ButtonBar={onInitialize:function(){var c=Framework.isEmbedded?
Framework.container:document.body;r=document.createElement("div");var d=document.createElement("div");d.className="bookmarkContainer hidden";A=d;r.appendChild(A);c.appendChild(r);r.className="buttonBar";h=m("bnCameraBirdView",'<path id="bird" d="M17,59.37v1a1,1,0,0,0,.78-.35,1,1,0,0,0,.22-.39l0-.16v-.1c0-.1,0-.33,0-.66V35h-.31l.24.21.07-.21h-.31l.24.21L17.77,35l0,.3.19-.1L17.77,35l0,.3L62.5,28.22h.06l.46.09L82.72,38.88h0V63.69H83l-.23-.2-.06.2H83l-.23-.2.23.2L83,63.4l-.18.09.23.2L83,63.4,39.69,71.18h-.05l-.25,0-.15,0L18.11,58.79l-.38-.22-.11-.07,0,0-.14.24.15-.24h0l-.14.24.15-.24-.49.8.51-.79h0l-.49.8.51-.79-.57.86.6-.84,0,0-.56.86.6-.84-.61.85.68-.79-.07-.05-.61.85.68-.79-.68.79.78-.69-.1-.1-.68.79.78-.69-.78.69.89-.54-.12-.15-.78.69.89-.54-.89.54h1a1,1,0,0,0-.15-.54l-.89.54h0v0H16a1,1,0,0,0,.15.54l.18.22.13.1.07,0,.53.31L38.19,72.91a3,3,0,0,0,1.45.36l.42,0,43.28-7.78a1.82,1.82,0,0,0,1.47-1.76V38.88A2.18,2.18,0,0,0,83.71,37L64,26.47a3.19,3.19,0,0,0-1.44-.34l-.38,0L17.5,33.22A1.8,1.8,0,0,0,16,35V59.33l.69,0-.69,0v0l.69,0-.69,0,1,.06-1-.11v.05l1,.06-1-.11,1,.11-1-.22,0,.11,1,.11-1-.23,1,.23-1-.42-.06.2,1,.22-1-.42,1,.42-.78-.68-.17.26,1,.42-.78-.68.78.68v-1a1,1,0,0,0-.78.36l.78.68v-1H16v1Z"/><polyline points="63.96 44.08 63.96 27.39 61.87 27.39 61.87 44.08"/><polyline id="bird" points="40.15 48.73 83.57 40.41 83.17 38.36 39.75 46.68"/><polyline points="16.52 35.25 39.43 48.6 40.48 46.8 17.57 33.45"/><polyline points="38.94 46.16 38.94 71.18 41.02 71.18 41.02 46.16"/>',
f);C=m("bnCameraFloor",'<path id="person" d="M75.2,48.21l-4.69-13.6a3.28,3.28,0,0,0-1.74-1.92L57.19,27.42a3.26,3.26,0,0,0-1.32-.27v0h-7.8a3.28,3.28,0,0,0-2.52,1.52l-6.79,10.8L29,42.39a3.28,3.28,0,0,0,1.88,6.29l11-3.28A3.29,3.29,0,0,0,43.66,44L45,41.79v11L41.67,66a3.28,3.28,0,0,0,0,1.53l3.48,15.55a3.29,3.29,0,0,0,3.2,2.57,3.34,3.34,0,0,0,.72-.08,3.28,3.28,0,0,0,2.49-3.92L48.22,66.84,51.51,54a3.27,3.27,0,0,0,.1-.81V52.8h.94V82.34a3.28,3.28,0,0,0,6.56,0V35.51l5.65,2.58L69,50.35a3.28,3.28,0,1,0,6.21-2.14Z"/><circle cx="52" cy="19.94" r="5.94" style="fill:none;stroke:#000;stroke-miterlimit:10;stroke-width:2px"/>',
b);m("bnCameraNextBookmark",'<path id="bookmark" d="M36.15,28.2h30a.15.15,0,0,1,.15.14L67,71.45a.15.15,0,0,1-.23.12L51.25,61.23a.15.15,0,0,0-.16,0L36.23,71.57a.15.15,0,0,1-.23-.12V28.35A.15.15,0,0,1,36.15,28.2Z"/>',e);q=m("bnCameraPresentation",'<path id="play" d="M69.1,48.82,37.31,30.36a.21.21,0,0,0-.31.18V67.46a.21.21,0,0,0,.31.18L69.1,49.18A.21.21,0,0,0,69.1,48.82Z"/>',g);p=m("bnFullScreen",'<polygon id="fullscreen"  transform="translate(50.000001, 50.000001) rotate(90.000000) translate(-50.000001, -50.000001) " points="65.0002411 64.2933035 35.7066984 34.9997608 45.9971296 34.9997608 45.9971296 34 34 34 34 45.9971296 34.9997608 45.9971296 34.9997608 35.7066984 64.2933035 65.0002411 54.0028723 65.0002411 54.0028723 66.0000019 66.0000019 66.0000019 66.0000019 54.0028723 65.0002411 54.0028723"/>',
a)},onUpdateUIState:function(){for(var a=k.cameraBookmarks,b=[],c=0;c<a.length;c++){var e=a[c];b[c]=e.id;n[e.id]||(n[e.id]=l(e));n[e.id].classList.toggle("active",e.active)}a=Object.keys(n);for(c=0;c<a.length;c++)e=a[c],b.includes(e)||(n[e].parentNode.removeChild(n[e]),delete n[e]);h.classList.toggle("active",k.cameraMode===k.cmBirdView);C.classList.toggle("active",k.cameraMode===k.cmFloor);p.classList.toggle("active",!d());q.classList.toggle("active",k.cameraPresentation)}}})(Viewer);
(function(k){var d,f,b;k.AvailableWidgets.VersionDisplay={onInitialize:function(){d=document.createElement("div");d.id="versionContainer";document.body.appendChild(d);f=document.createElement("div");f.textContent="Version 0.7.3, Build 2018.06.09";d.appendChild(f);b=document.createElement("div");b.id="versionContainerButton";b.innerHTML='(view <a href="devlog/devlog.html" target="_blank">devlog</a>)';d.appendChild(b)},onUpdate:function(b){d.classList.contains("fade-in")||d.classList.add("fade-in")}}})(Viewer);
(function(k){var d;k.AvailableWidgets.LoadingQueueDisplay={onLoadingQueueInitialize:function(){var f=k.loadingQueue;if(!Framework.deviceIsMobilePhone){d=document.createElement("div");d.id="loadingQueueContainer";d.className="loadingQueueContainer";document.body.appendChild(d);var b=document.createElement("div");b.id="loadingQueueBinTitle";b.className="loadingQueueTitle";b.textContent="loading queue";d.appendChild(b);var e=document.createElement("div");e.id="loadingQueueBins";d.appendChild(e);for(var g=
0;g<f.binsByPriority.length;g++){var a=f.binsByPriority[g].name,c=f.bins[a],m=document.createElement("div");m.className="loadingQueueBinContainer";e.appendChild(m);var l=document.createElement("div");l.id="loadingQueueBinData"+g;l.className="loadingQueueBinData";m.appendChild(l);l=document.createElement("div");l.className="loadingQueueBinSpacing";m.appendChild(l);l=document.createElement("div");l.id="loadingQueueBin"+g;l.className="loadingQueueBin";l.textContent=a;m.appendChild(l);a=f.attributes.accentedBins;
c.attributes.accented=a&&-1<a.indexOf(g)}switch(k.theme){case 0:b.style.color="rgba(0, 0, 0, 0.8)";e.style.color="rgba(0, 0, 0, 0.8)";break;case 1:b.style.color="rgba(255, 255, 255, 1.0)",e.style.color="rgba(255, 255, 255, 0.5)"}d.classList.add("fade-in");this.visible=!0}},onUpdate:function(d){if((d=k.loadingQueue)&&this.visible&&!Framework.deviceIsMobilePhone)for(var b=0===this.theme?"rgba(0, 0, 0, 0.5)":"rgba(255, 255, 255, 0.5)",e=0;e<d.binsByPriority.length;e++){var f=d.bins[d.binsByPriority[e].name],
a=document.getElementById("loadingQueueBinData"+e);var c=f.data.timeLastFinished;var m=null!==c?(c/1E3).toFixed(1)+" sec":null===f.data.timeLastStarted?"-":"waiting";a.style.color=null!==c&&f.attributes.accented?"rgba(255, 128, 0, 0.8)":b;a.textContent=m}},onDraw:function(){var f=k.loadingQueue;if(f&&this.visible&&!Framework.deviceIsMobilePhone){if(d.classList.contains("fade-in"))var b=1;else b=window.getComputedStyle(d),b=parseFloat(b.opacity);this.visible=0!==b;switch(k.theme){case 0:var e=WebGL.RGBA(1,
.25,0,.75*b);var g=WebGL.RGBA(0,0,0,.4*b);var a=WebGL.RGBA(1,.5,0,.75*b);break;case 1:e=WebGL.RGBA(1,1,1,1*b),g=WebGL.RGBA(1,1,1,.25*b),a=WebGL.RGBA(1,1,1,.1*b)}Renderer.bindBuffer(null);for(var c=0;c<f.binsByPriority.length;c++){var m=f.bins[f.binsByPriority[c].name],l=99+26*c;b=96;var r=l+17;var h=b+4*m.requestsRunning.length;var C=r+2;Renderer.drawScreenRectF(b,r,h,C,e);r=l+20;h=b+4*m.requestsWaiting.length;C=r+2;Renderer.drawScreenRectF(b,r,h,C,g)}b=86;r=99;C=r+26*k.loadingQueue.binsByPriority.length;
Renderer.drawScreenRectF(b,r,b+4,C,a)}},onLoadingDone:function(){this.visible&&!Framework.deviceIsMobilePhone&&d.classList.remove("fade-in")}}})(Viewer);
(function(k){var d,f;k.AvailableWidgets.LoadTimeCounter={onInitialize:function(){k.benchmarkMode&&(d=document.createElement("div"),d.id="loadTimeContainer",document.body.appendChild(d),f=document.createElement("div"),f.id="loadTimeCounter",d.appendChild(f))},onUpdate:function(b){if(k.benchmarkMode&&null!==k.timeLoadStart){b=k.loadingQueue;var d=b.attributes.partialLoadBin;void 0===d&&(d=b.binsByPriority.length-1);d=b.bins[b.binsByPriority[d].name].data;b=performance.now();d=(null!==d.timeLastFinished?
d.timeLastFinished:b)-k.timeLoadStart;b=(null!==k.timeLoadFinish?k.timeLoadFinish:b)-k.timeLoadStart;f.textContent=(k.timeLoadStart/1E3).toFixed(2)+" + "+(d/1E3).toFixed(2)+" / "+(b/1E3).toFixed(2)+" sec";null!==k.timeLoadFinish&&f.classList.contains("fade-in")?(f.classList.remove("fade-in"),f.classList.add("finish")):f.classList.contains("fade-in")||f.classList.contains("finish")||f.classList.add("fade-in")}}}})(Viewer);
(function(k){var d,f;k.AvailableWidgets.FpsCounter={onInitialize:function(){k.benchmarkMode&&(d=document.createElement("div"),d.id="fpsContainer",document.body.appendChild(d),f=document.createElement("div"),f.id="fpsCounter",d.appendChild(f))},onUpdate:function(b){if(k.benchmarkMode&&null!==Renderer.framesPerSecond){var d=Math.min(1,Renderer.framesPerSecond/60);b=Math.round(-128*d+128);var g=Math.round(128*d);d=Math.round(0*d);f.textContent=Renderer.framesPerSecond.toFixed(1)+" FPS";f.style.backgroundColor=
"rgba("+b+", "+g+", "+d+", 0.5)";f.classList.contains("fade-in")||f.classList.add("fade-in")}}}})(Viewer);
(function(k){function d(a){0<a.length&&("/"===a[0]||"\\"===a[0])&&(a=a.substring(1));return a}function f(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){switch(b.dataType){case "json":var e=JSON.parse(this.responseText)}c(a,e)}else d(a)};e.open(b.type,"//spaces.archilogic.com/api/v2",!0);e.setRequestHeader("Content-Type","application/json");e.responseType="text";e.send(JSON.stringify(a))}function b(a,b){var c=new WebSocket("wss://spaces.archilogic.com/api/v2");
c.onopen=function(b){a(c)};c.onclose=function(a){b()};c.onmessage=function(a){a=JSON.parse(a.data);var b=g[a.id];delete g[a.id];b.onSuccess(a)};c.onerror=function(a){console.log("WebSocket error: "+a)}}function e(){this.rpcRequestEntries=g}var g={},a=0,c=null,m=!1;e.prototype.initialize=function(a){a=a||{};(this.useWebSocket="undefined"!==typeof a.useWebSocket?!0===a.useWebSocket:!0)&&b(function(a){c=a;m=!0},function(){c=null;m=!1})};e.prototype.call=function(b,d,e,k){b={jsonrpc:"2.0",method:b,params:d,
id:a};d={rpcRequest:b,onSuccess:e,onError:k};g[a++]=d;this.useWebSocket&&m?c.send(JSON.stringify(b)):f(b,{type:"POST",dataType:"json"},function(a,b){delete g[a.id];e(b)},function(a){delete g[a.id];k()})};k.RpcApi=e;k.getFileKeyFromFileId=function(a,b,c){if(0<a.length&&"!"===a[0]){var e=k.rpcApi,f=a.substring(1);e.call("Product.getFileKey",{productResourceId:f},function(c){g=d(c.result.fileKey);b(a,g)},function(){c(a)})}else{var g=d(a);b(a,g)}}})(Viewer);
(function(k){for(var d={"basic-floor":{meta:{displayName:"Basic floor",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorDiffuse:[.278,.278,.278],colorSpecular:[.4,.4,.4],specularCoef:40,mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",
mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",receiveRealTimeShadows:!0}},"basic-balcony":{meta:{displayName:"Basic balcony",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.5,.5,.5],colorSpecular:[.125,.125,.125],specularCoef:10,receiveRealTimeShadows:!0}},"basic-wall":{meta:{displayName:"Basic wall",category:"wall",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.839,
.839,.839],colorSpecular:[.098,.098,.098],specularCoef:2}},"basic-ceiling":{meta:{displayName:"Basic ceiling",category:"ceiling",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.878,.878,.878],colorSpecular:[.125,.125,.125],specularCoef:10}},wood_parquet_oak:{meta:{displayName:"Parquet Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.89,.82,.69],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",
mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},
wood_parquet_4:{meta:{displayName:"Parquet Stained Oak",category:"floor",showInMenu:!1},attributes:{size:[3,3],colorSpecular:[.45,.45,.45],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",
mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_stained:{meta:{displayName:"Parquet Stained Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.906,.91,.89],colorSpecular:[.667,.667,.667],specularCoef:30,
mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",
mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_dark:{meta:{displayName:"Parquet Oak Dark",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.463,.412,.337],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",
receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},wood_parquet_oak_black:{meta:{displayName:"Parquet Oak Black",
category:"floor",showInMenu:!0},attributes:{size:[3,3],colorDiffuse:[.204,.176,.137],colorSpecular:[.667,.667,.667],specularCoef:30,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",mapNormal:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.hi-res.gz.dds",mapSpecular:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg",
mapSpecularPreview:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.lo-res.jpg",mapSpecularSource:"archilogic/tex/a98a53f296ac58b8bde6a5fec57cd476.source.jpg",mapNormalPreview:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.lo-res.jpg",mapNormalSource:"archilogic/tex/671b2122630e5d1f7c2ebc864dd87f5c.source.jpg"}},floor_oak_parquet:{meta:{displayName:"Parquet Herringbone",category:"floor",showInMenu:!1},attributes:{size:[3.3,3.5],specularCoef:40,mapDiffuse:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.hi-res.gz.dds",
receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b63633f00674bd2317c40c90b7ec30b9.source.jpg"}},parquet_heringbone_oak:{meta:{displayName:"Parquet Herringbone Oak",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorSpecular:[.188,.188,.188],specularCoef:30,mapDiffuse:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.hi-res.gz.dds",mapNormal:"archilogic/tex/9e3128f1785cc3355b178702816024b1.hi-res.gz.dds",
mapSpecular:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.lo-res.jpg",mapDiffuseSource:"archilogic/tex/87e4c3ef437932b07adfc132b2b58d00.source.jpg",mapSpecularPreview:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.lo-res.jpg",mapSpecularSource:"archilogic/tex/82b49d5fedede1707f8015b2987bd0b8.source.jpg",mapNormalPreview:"archilogic/tex/9e3128f1785cc3355b178702816024b1.lo-res.jpg",mapNormalSource:"archilogic/tex/9e3128f1785cc3355b178702816024b1.source.jpg"}},
parquet_tiles_01:{meta:{displayName:"Parquet Tiles",category:"floor",showInMenu:!0},attributes:{size:[1.5,1.5],colorSpecular:[.376,.376,.376],specularCoef:30,mapDiffuse:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.hi-res.gz.dds",mapNormal:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3727a4b6bae77be55d2ce2b2de033a5b.source.jpg",
mapSpecularPreview:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.lo-res.jpg",mapSpecularSource:"archilogic/tex/e3fc1d6cdf6bfd30f805c25b72fcea65.source.jpg",mapNormalPreview:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.lo-res.jpg",mapNormalSource:"archilogic/tex/dc9143fbf3e7df6c5ff67d9b12bdc2e7.source.jpg"}},wood_parquet:{meta:{displayName:"Parquet 2",category:"floor",showInMenu:!0},attributes:{size:[3,3],colorSpecular:[.376,.376,.376],specularCoef:40,mapDiffuse:"archilogic/tex/23fecde666551205efd5469b10dbcc57.hi-res.gz.dds",
mapNormal:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.hi-res.gz.dds",mapSpecular:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/23fecde666551205efd5469b10dbcc57.lo-res.jpg",mapDiffuseSource:"archilogic/tex/23fecde666551205efd5469b10dbcc57.source.png",mapSpecularPreview:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.lo-res.jpg",mapSpecularSource:"archilogic/tex/076bf25a31aac947867fc15afdfa4a6c.source.png",mapNormalPreview:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.lo-res.jpg",
mapNormalSource:"archilogic/tex/7339da972d8f15d586f849ff7b7ca455.source.png"}},wood_parquet_3:{meta:{displayName:"Parquet 3",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],mapDiffuse:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.hi-res.gz.dds",mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/47204e093a6ac04f6ac3467fb78efc46.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png"}},parquet_dark_01:{meta:{displayName:"Parquet Dark",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.4,
.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.hi-res.gz.dds",mapNormal:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.hi-res.gz.dds",mapSpecular:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c5a58ec7d86d3641cf77c661c0fdf500.source.png",mapSpecularPreview:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.lo-res.jpg",
mapSpecularSource:"archilogic/tex/22dacd7e3ed1e454bddb88f321fd1315.source.png",mapNormalPreview:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.lo-res.jpg",mapNormalSource:"archilogic/tex/f4bee6370d34d5616e4693aa39287efd.source.png"}},fitted_carpet_light_grey:{meta:{displayName:"Fitted Carpet Light Grey",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.6,.6,.6],specularCoef:40,mapDiffuse:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.hi-res.gz.dds",mapNormal:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.hi-res.gz.dds",
mapSpecular:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.lo-res.jpg",mapDiffuseSource:"archilogic/tex/acdcd29e06d541f25ab8e60d3d3f9a85.source.jpg",mapSpecularPreview:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.lo-res.jpg",mapSpecularSource:"archilogic/tex/2d373be23d2925ecab0d809e14734c5a.source.jpg",mapNormalPreview:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.lo-res.jpg",mapNormalSource:"archilogic/tex/7d425fc857c256bfa8a06ac48208078f.source.jpg"}},
fitted_carpet_grey_rough:{meta:{displayName:"Fitted Carpet Grey Rough",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.6,.6,.6],specularCoef:40,mapNormal:"/535e624259ee6b0200000484/textures/uploads/768b9f643b11ab699d615c321530fea3.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/99a507d3f10b382062b52621a6400b49.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/768b9f643b11ab699d615c321530fea3.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/768b9f643b11ab699d615c321530fea3.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/99a507d3f10b382062b52621a6400b49.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/99a507d3f10b382062b52621a6400b49.lo-res.jpg",receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/c4a79248537e84d7f7406b363d5f48a2.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/c4a79248537e84d7f7406b363d5f48a2.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/c4a79248537e84d7f7406b363d5f48a2.source.jpg"}},
fitted_carpet_grey:{meta:{displayName:"Fitted Carpet Grey",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.6,.6,.6],specularCoef:40,mapNormal:"/535e624259ee6b0200000484/textures/uploads/eab9fd7edb6e19704e9d7ce687a42a70.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/569508359ad7e18daa9ac0a665b352ed.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/eab9fd7edb6e19704e9d7ce687a42a70.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/eab9fd7edb6e19704e9d7ce687a42a70.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/569508359ad7e18daa9ac0a665b352ed.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/569508359ad7e18daa9ac0a665b352ed.lo-res.jpg",receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/b49eb96dcc3ea1f5e16496ce0899c04a.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/b49eb96dcc3ea1f5e16496ce0899c04a.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/b49eb96dcc3ea1f5e16496ce0899c04a.source.jpg"}},
floor_concrete_001:{meta:{displayName:"Floor Concrete 001",category:"floor",showInMenu:!1},attributes:{size:[4,4],colorSpecular:[.063,.063,.063],specularCoef:30,mapDiffuse:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.source.jpg"}},floor_concrete_001_ceiling:{meta:{displayName:"Floor Concrete 001",category:"ceiling",
showInMenu:!1},attributes:{size:[4,4],colorSpecular:[.063,.063,.063],specularCoef:30,mapDiffuse:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3fdde165b96f531f1f4ff81ccd7b38c4.source.jpg"}},concrete_fluid:{meta:{displayName:"Concrete Natural",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorDiffuse:[.867,.867,.867],colorSpecular:[.537,.537,.537],specularCoef:40,
mapDiffuse:"archilogic/tex/7af78308b190531d128c71e3482e21ea.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/7af78308b190531d128c71e3482e21ea.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7af78308b190531d128c71e3482e21ea.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",
mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_beige:{meta:{displayName:"Concrete Beige",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",
receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_beige_ceiling:{meta:{displayName:"Concrete Beige",
category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b293c62b59fd9a56122244d7d4ce13d.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",
mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_dark:{meta:{displayName:"Concrete Dark",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",
mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},
concrete_dark_ceiling:{meta:{displayName:"Concrete Dark",category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e533a34333f62a4999a50e4ddf00a898.source.jpg",
mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_black:{meta:{displayName:"Concrete Black",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/7304a447edb67785758a328b5e9770c8.hi-res.gz.dds",
mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/7304a447edb67785758a328b5e9770c8.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7304a447edb67785758a328b5e9770c8.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",
mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},concrete_black_ceiling:{meta:{displayName:"Concrete Black",category:"ceiling",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/7304a447edb67785758a328b5e9770c8.hi-res.gz.dds",mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7304a447edb67785758a328b5e9770c8.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/7304a447edb67785758a328b5e9770c8.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},linoleum_grey:{meta:{displayName:"Linoleum Grey",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.502,
.502,.502],specularCoef:30,mapNormal:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.source.jpg",
mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.lo-res.jpg",receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/502340e28cc4fcd0144b200d39c17794.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/502340e28cc4fcd0144b200d39c17794.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/502340e28cc4fcd0144b200d39c17794.source.jpg"}},linoleum_dark:{meta:{displayName:"Linoleum Dark",
category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.502,.502,.502],specularCoef:30,mapNormal:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/a458a59218f9d13be08415574df11374.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/cc2d88414b4cd20e1283817b34cdcaed.lo-res.jpg",receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/473b86d1f4e30ef433cbb2242a437708.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/473b86d1f4e30ef433cbb2242a437708.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/473b86d1f4e30ef433cbb2242a437708.source.jpg"}},
concrete_floor_tiles:{meta:{displayName:"Concrete Floor Tiles",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorDiffuse:[1,1,1],colorSpecular:[.537,.537,.537],specularCoef:40,receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/dee21a018c328f189290fdb7d60a4b17.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/dee21a018c328f189290fdb7d60a4b17.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/dee21a018c328f189290fdb7d60a4b17.source.jpg",
mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/eb01d1ef8654d0d9299b7cca249578ab.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/eb01d1ef8654d0d9299b7cca249578ab.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/eb01d1ef8654d0d9299b7cca249578ab.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/0a12a1ae16467bc4f012f7ceda82583b.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/0a12a1ae16467bc4f012f7ceda82583b.hi-res.gz.dds",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/0a12a1ae16467bc4f012f7ceda82583b.source.jpg"}},default_plaster_001:{meta:{displayName:"Plaster Rough",category:"wall",showInMenu:!0},attributes:{size:[.5,.5],specularCoef:20,mapDiffuse:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},default_plaster_001_ceiling:{meta:{displayName:"Plaster Rough",category:"ceiling",showInMenu:!0},attributes:{size:[.5,
.5],specularCoef:20,mapDiffuse:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/278b6dee7782d3ca882d8dd8b0dcd85c.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",
mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},plaster_smooth:{meta:{displayName:"Plaster Smooth",category:"wall",showInMenu:!0},attributes:{size:[.3,.3],specularCoef:20,mapDiffuse:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",
mapDiffusePreview:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},plaster_smooth_ceiling:{meta:{displayName:"Plaster Smooth",
category:"ceiling",showInMenu:!0},attributes:{size:[.3,.3],specularCoef:20,mapDiffuse:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.hi-res.gz.dds",mapNormal:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.hi-res.gz.dds",mapSpecular:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1c6397e5715169b6b024c8645cf2efdc.source.jpg",mapSpecularPreview:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.lo-res.jpg",
mapSpecularSource:"archilogic/tex/d4460b4a6f82d9cd693db900dd547ee2.source.jpg",mapNormalPreview:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.lo-res.jpg",mapNormalSource:"archilogic/tex/79542e108b0ff7749e4c3df25ad96267.source.jpg"}},"tiles-white-large":{meta:{displayName:"Tiles Square White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.976,.976,.976],colorSpecular:[.251,.251,.251],specularCoef:30,mapDiffuse:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.hi-res.gz.dds",
mapNormal:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.hi-res.gz.dds",mapSpecular:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b4ecca17b840beb219e32bceb21ffc3.source.jpg",mapSpecularPreview:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.lo-res.jpg",mapSpecularSource:"archilogic/tex/bd83b5c8611c3bbe71d61f9b2c57b45f.source.jpg",mapNormalPreview:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.lo-res.jpg",
mapNormalSource:"archilogic/tex/627ac2ca3cab7e2790b36c97cd58e243.source.jpg"}},"tiles-dark-large":{meta:{displayName:"Tiles Square Anthrazit",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:50,mapDiffuse:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.hi-res.gz.dds",mapNormal:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.hi-res.gz.dds",mapSpecular:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/8aa2417d8bc9c6bb1d80db87bc409c9f.source.jpg",mapSpecularPreview:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.lo-res.jpg",mapSpecularSource:"archilogic/tex/14398cecb6ce505232a7c7ed5644b07a.source.jpg",mapNormalPreview:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.lo-res.jpg",mapNormalSource:"archilogic/tex/dcc25defadefce42ac0dde87d6060150.source.jpg"}},tiles_large_rect_white:{meta:{displayName:"Tiles Rectangle White",category:"wall",showInMenu:!0},attributes:{size:[1,
1],colorSpecular:[.025,.025,.025],specularCoef:50,mapDiffuse:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",
mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_rect_white_floor:{meta:{displayName:"Tiles Rectangle White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.025,.025,.025],specularCoef:50,mapDiffuse:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",
mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d8572227e2a76395a528e0462cf5b895.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},
tiles_large_rect_grey:{meta:{displayName:"Tiles Rectangle Grey",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.03,.03,.03],specularCoef:50,mapDiffuse:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.hi-res.gz.dds",mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.source.jpg",
mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_rect_grey_floor:{meta:{displayName:"Tiles Rectangle Grey",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.03,.03,.03],specularCoef:50,mapDiffuse:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.hi-res.gz.dds",
mapNormal:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.hi-res.gz.dds",mapSpecular:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0921c5463ce717013b12f45418f8a81f.source.jpg",mapSpecularPreview:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.lo-res.jpg",mapSpecularSource:"archilogic/tex/ade515c7810e38629f1c5992570d5c44.source.jpg",mapNormalPreview:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.lo-res.jpg",
mapNormalSource:"archilogic/tex/af2ce3936272199e72b91a52cd032d38.source.jpg"}},tiles_large_shifted_sand:{meta:{displayName:"Tiles Shifted Sand",category:"wall",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.25,.25,.25],specularCoef:50,mapDiffuse:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.hi-res.gz.dds",mapNormal:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.hi-res.gz.dds",mapSpecular:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.source.jpg",mapSpecularPreview:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.lo-res.jpg",mapSpecularSource:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.source.jpg",mapNormalPreview:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.lo-res.jpg",mapNormalSource:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.source.jpg"}},tiles_large_shifted_sand_floor:{meta:{displayName:"Tiles Shifted Sand",category:"floor",showInMenu:!0},attributes:{size:[2,
2],colorSpecular:[.25,.25,.25],specularCoef:50,mapDiffuse:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.hi-res.gz.dds",mapNormal:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.hi-res.gz.dds",mapSpecular:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.lo-res.jpg",mapDiffuseSource:"archilogic/tex/f0d0f3f85673051179bf44bfce706efd.source.jpg",mapSpecularPreview:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.lo-res.jpg",
mapSpecularSource:"archilogic/tex/8e1e6a287c1930134639a7b4236bd552.source.jpg",mapNormalPreview:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.lo-res.jpg",mapNormalSource:"archilogic/tex/6d3096b1dbb5c9ae16f9cae41c08c86f.source.jpg"}},black_white_tiles:{meta:{displayName:"Tiles Checkerboard Black/White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.537,.537,.537],specularCoef:40,mapDiffuse:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.hi-res.gz.dds",mapNormal:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.hi-res.gz.dds",
mapSpecular:"archilogic/tex/98b4993fcad50697c3387edff1df4414.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.lo-res.jpg",mapDiffuseSource:"archilogic/tex/6516dbd748a176400f878fa8e9c99ba3.source.jpg",mapSpecularPreview:"archilogic/tex/98b4993fcad50697c3387edff1df4414.lo-res.jpg",mapSpecularSource:"archilogic/tex/98b4993fcad50697c3387edff1df4414.source.jpg",mapNormalPreview:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.lo-res.jpg",mapNormalSource:"archilogic/tex/a72b2b7a876446fc0266c483eec1e1c5.source.jpg"}},
floor_tiles_002:{meta:{displayName:"Floor Tiles 002",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,mapDiffuse:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.lo-res.jpg",mapDiffuseSource:"archilogic/tex/033cf06fbf6b93c7bd0fb3691fa72f17.source.jpg"}},floor_tiles_003:{meta:{displayName:"Floor Tiles 003",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,
mapDiffuse:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.lo-res.jpg",mapDiffuseSource:"archilogic/tex/09716599ae75e4f4fc559b8dc37c7671.source.jpg"}},white_tiles:{meta:{displayName:"Tiles Mosaic White Big",category:"wall",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3df033cc051926797d49509f766af355.hi-res.gz.dds",mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",
mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3df033cc051926797d49509f766af355.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3df033cc051926797d49509f766af355.source.png",mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},
white_tiles_floor:{meta:{displayName:"Tiles Mosaic White Big",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3df033cc051926797d49509f766af355.hi-res.gz.dds",mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3df033cc051926797d49509f766af355.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3df033cc051926797d49509f766af355.source.png",
mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},white_tiles_small:{meta:{displayName:"Tiles Mosaic White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.hi-res.gz.dds",
mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.lo-res.jpg",mapDiffuseSource:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",
mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},white_tiles_small_floor:{meta:{displayName:"Tiles Mosaic White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.hi-res.gz.dds",mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/3416ceb5e5625b1214d778e71413e138.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},tiles_mosaic_brown:{meta:{displayName:"Tiles Mosaic Brown",category:"wall",showInMenu:!0},attributes:{size:[.5,
.5],colorSpecular:[.15,.15,.15],specularCoef:50,mapDiffuse:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",
mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},tiles_mosaic_brown_floor:{meta:{displayName:"Tiles Mosaic Brown",category:"floor",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.15,.15,.15],specularCoef:50,mapDiffuse:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",
mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/739ac1c99b22d62693314fb55c8b847a.source.jpg",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},
tiles_mosaic_green:{meta:{displayName:"Tiles Mosaic Green",category:"wall",showInMenu:!0},attributes:{size:[.5,.5],colorSpecular:[.1,.1,.1],specularCoef:50,mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",
mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.source.jpg"}},tiles_mosaic_green_floor:{meta:{displayName:"Tiles Mosaic Green",category:"floor",showInMenu:!0},attributes:{size:[.5,
.5],colorSpecular:[.1,.1,.1],specularCoef:50,receiveRealTimeShadows:!0,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.hi-res.gz.dds",mapNormal:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.hi-res.gz.dds",mapSpecular:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/fa21e29b983507cbdc087ccd2c05f5ad.source.jpg",
mapSpecularPreview:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.lo-res.jpg",mapSpecularSource:"archilogic/tex/b19abec3667b65b6ef609d9aaf0a9461.source.jpg",mapNormalPreview:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.lo-res.jpg",mapNormalSource:"archilogic/tex/5c4f63d51333703dcac9659cb7fcd68d.source.jpg"}},dark_tiles:{meta:{displayName:"Brown Tiles",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.hi-res.gz.dds",
mapNormal:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.hi-res.gz.dds",mapSpecular:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.lo-res.jpg",mapDiffuseSource:"archilogic/tex/6b0b81b4cdbaca9628eb0d78ed092f0f.source.png",mapSpecularPreview:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.lo-res.jpg",mapSpecularSource:"archilogic/tex/0a2a5927b4f16b67adef3af0f1f5826d.source.png",mapNormalPreview:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.lo-res.jpg",
mapNormalSource:"archilogic/tex/02aab5d4adaf4690c49ba55cfaa6b80f.source.png"}},dark_tiles_small:{meta:{displayName:"Brown Tiles Small",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.hi-res.gz.dds",mapNormal:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.hi-res.gz.dds",mapSpecular:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/186699961b8afaf24d3a21eb07aadd6d.source.png",mapSpecularPreview:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.lo-res.jpg",mapSpecularSource:"archilogic/tex/044e5fcdc243b61f90b8a92f1355b9be.source.png",mapNormalPreview:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.lo-res.jpg",mapNormalSource:"archilogic/tex/e5f0d1e90c2b0fdd1f88fa48157dc68c.source.png"}},floor_tiles_001:{meta:{displayName:"Tiles Slate",category:"floor",showInMenu:!0},attributes:{size:[1.5,1.5],
colorSpecular:[.584,.584,.584],specularCoef:40,mapDiffuse:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.hi-res.gz.dds",mapNormal:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.hi-res.gz.dds",mapSpecular:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/2d6e29a6701b30f14a9fd4ff5611821c.source.jpg",mapSpecularPreview:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.lo-res.jpg",
mapSpecularSource:"archilogic/tex/cf02b31506b385e6dd0a1cade7e22cc7.source.jpg",mapNormalPreview:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.lo-res.jpg",mapNormalSource:"archilogic/tex/0cbeaa8fae8ac9c017f3e54a0d0f2b7a.source.jpg"}},terrazzo_tiles:{meta:{displayName:"Tiles Terrazzo",category:"floor",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.584,.584,.584],specularCoef:50,mapDiffuse:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.hi-res.gz.dds",mapNormal:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.hi-res.gz.dds",
mapSpecular:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.lo-res.jpg",mapDiffuseSource:"archilogic/tex/25694889b08b343b90c3e4c7261d86e8.source.png",mapSpecularPreview:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.lo-res.jpg",mapSpecularSource:"archilogic/tex/6702ac5458148d80116088ba2c7d2c42.source.png",mapNormalPreview:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.lo-res.jpg",mapNormalSource:"archilogic/tex/57e26201a21d93254c4bb45ed2d2aa19.source.png"}},
tiles_white_marble:{meta:{displayName:"Tiles Marble White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:25,mapDiffuse:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.hi-res.gz.dds",mapNormal:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.hi-res.gz.dds",mapSpecular:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.source.jpg",
mapSpecularPreview:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.lo-res.jpg",mapSpecularSource:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.source.jpg",mapNormalPreview:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.lo-res.jpg",mapNormalSource:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.source.jpg"}},tiles_white_marble_floor:{meta:{displayName:"Tiles Marble White",category:"floor",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.4,.4,.4],specularCoef:25,mapDiffuse:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.hi-res.gz.dds",
mapNormal:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.hi-res.gz.dds",mapSpecular:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.lo-res.jpg",mapDiffuseSource:"archilogic/tex/0b2c734dd939a01faaa867ec65e0ef4c.source.jpg",mapSpecularPreview:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.lo-res.jpg",mapSpecularSource:"archilogic/tex/8fc3f68d9193efa80002bd940ad93be4.source.jpg",mapNormalPreview:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.lo-res.jpg",
mapNormalSource:"archilogic/tex/69bba4d9620c0c37fa9f0997156e693a.source.jpg"}},"stone-travertin":{meta:{displayName:"Tiles Travertin",category:"wall",showInMenu:!0},attributes:{size:[2,2],colorSpecular:[.424,.424,.424],specularCoef:25,mapDiffuse:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.hi-res.gz.dds",mapNormal:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.hi-res.gz.dds",mapSpecular:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.source.jpg",mapSpecularPreview:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.lo-res.jpg",mapSpecularSource:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.source.jpg",mapNormalPreview:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.lo-res.jpg",mapNormalSource:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.source.jpg"}},"stone-travertin-floor":{meta:{displayName:"Tiles Travertin",category:"floor",showInMenu:!0},attributes:{size:[2,
2],colorSpecular:[.424,.424,.424],specularCoef:25,mapDiffuse:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.hi-res.gz.dds",mapNormal:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.hi-res.gz.dds",mapSpecular:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.lo-res.jpg",mapDiffuseSource:"archilogic/tex/82a80f62139d16b46c21188d6bf65383.source.jpg",mapSpecularPreview:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.lo-res.jpg",
mapSpecularSource:"archilogic/tex/77a50e96fcb72da716a1fa5ff59a6405.source.jpg",mapNormalPreview:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.lo-res.jpg",mapNormalSource:"archilogic/tex/3c34372d7adc7d0cfb6241818e7bdd33.source.jpg"}},terrazzo:{meta:{displayName:"Terrazzo",category:"floor",showInMenu:!0},attributes:{size:[.8,.8],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/b6669597fae40407427303941f738325.hi-res.gz.dds",mapNormal:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.hi-res.gz.dds",
mapSpecular:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/b6669597fae40407427303941f738325.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b6669597fae40407427303941f738325.source.jpg",mapSpecularPreview:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.lo-res.jpg",mapSpecularSource:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.source.jpg",mapNormalPreview:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.lo-res.jpg",mapNormalSource:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.source.jpg"}},
terrazzo_ceiling:{meta:{displayName:"Terrazzo",category:"ceiling",showInMenu:!0},attributes:{size:[.8,.8],colorSpecular:[.125,.125,.125],specularCoef:50,mapDiffuse:"archilogic/tex/b6669597fae40407427303941f738325.hi-res.gz.dds",mapNormal:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.hi-res.gz.dds",mapSpecular:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/b6669597fae40407427303941f738325.lo-res.jpg",mapDiffuseSource:"archilogic/tex/b6669597fae40407427303941f738325.source.jpg",
mapSpecularPreview:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.lo-res.jpg",mapSpecularSource:"archilogic/tex/a0a56174d016a466f6bb465c1fb8a55e.source.jpg",mapNormalPreview:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.lo-res.jpg",mapNormalSource:"archilogic/tex/550eb2c4d601fe57c9ea74d9b1987eea.source.jpg"}},bricks_clean_red:{meta:{displayName:"Bricks Clean Red",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.hi-res.gz.dds",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d399b0bf607e60e545c0ceb060b7982c.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_clean_orange:{meta:{displayName:"Bricks Clean Orange",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.hi-res.gz.dds",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d981f439a0d62b0e1d68c5c91daad674.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_clean_white:{meta:{displayName:"Bricks Clean White",category:"wall",showInMenu:!0},attributes:{size:[1.2,1.2],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.hi-res.gz.dds",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/e167b3c467c84e496fdf5feb34e3a978.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.lo-res.jpg",
mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/06fd5ee205b44156205c4180a21e815a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7a6112cd3134c623afacd882e2cb4585.source.jpg"}},bricks_red:{meta:{displayName:"Bricks Red",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.08,.08,.08],specularCoef:50,mapDiffuse:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.hi-res.gz.dds",
mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e4946d35b80274163c6b6477e68e2b00.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",
mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},bricks_yellow:{meta:{displayName:"Bricks Yellow",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.05,.05,.05],specularCoef:50,mapDiffuse:"archilogic/tex/d287580522c79c80aea849747b9ab914.hi-res.gz.dds",mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d287580522c79c80aea849747b9ab914.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/d287580522c79c80aea849747b9ab914.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},bricks_white:{meta:{displayName:"Bricks White",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.05,
.05,.05],specularCoef:50,mapDiffuse:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.hi-res.gz.dds",mapNormal:"archilogic/tex/545119d25a25288d358632490643ddc2.hi-res.gz.dds",mapSpecular:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7c5134a614d03c79d008c5c1a7cf5f54.source.jpg",mapSpecularPreview:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.lo-res.jpg",mapSpecularSource:"archilogic/tex/0e83232f013132b11b4b2b194717fbc5.source.jpg",
mapNormalPreview:"archilogic/tex/545119d25a25288d358632490643ddc2.lo-res.jpg",mapNormalSource:"archilogic/tex/545119d25a25288d358632490643ddc2.source.jpg"}},concrete_board:{meta:{displayName:"Concrete Raw Board",category:"wall",showInMenu:!0},attributes:{size:[2.4,2.4],specularCoef:30,mapDiffuse:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.hi-res.gz.dds",mapNormal:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.hi-res.gz.dds",mapSpecular:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.hi-res.gz.dds",
mapDiffusePreview:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.lo-res.jpg",mapDiffuseSource:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.source.jpg",mapSpecularPreview:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.lo-res.jpg",mapSpecularSource:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.source.jpg",mapNormalPreview:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.lo-res.jpg",mapNormalSource:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.source.jpg"}},concrete_board_ceiling:{meta:{displayName:"Concrete Raw Board",
category:"ceiling",showInMenu:!0},attributes:{size:[2.4,2.4],specularCoef:30,mapDiffuse:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.hi-res.gz.dds",mapNormal:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.hi-res.gz.dds",mapSpecular:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.lo-res.jpg",mapDiffuseSource:"archilogic/tex/fea909bb96aa0fcea514647d97875be5.source.jpg",mapSpecularPreview:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.lo-res.jpg",
mapSpecularSource:"archilogic/tex/ae044508902f2bf472542a6afc0db6f8.source.jpg",mapNormalPreview:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.lo-res.jpg",mapNormalSource:"archilogic/tex/b9f04ce9f2742488128ea450d465963b.source.jpg"}},concrete_boards_shuttering:{meta:{displayName:"Concrete Boards Shuttering",category:"wall",showInMenu:!0},attributes:{size:[1,1],specularCoef:15,colorDiffuse:[1,1,1],colorSpecular:[.396,.396,.396],mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/bd1f017cf8b978cb8e0a278f19038a74.lo-res.jpg",
mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/bd1f017cf8b978cb8e0a278f19038a74.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/bd1f017cf8b978cb8e0a278f19038a74.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/ef040e6daa4b6ec16fa9fc6ef25d6113.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/ef040e6daa4b6ec16fa9fc6ef25d6113.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/ef040e6daa4b6ec16fa9fc6ef25d6113.source.jpg",
mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/6f9ce0df5f70750a9d6dba61c55a34b4.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/6f9ce0df5f70750a9d6dba61c55a34b4.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/6f9ce0df5f70750a9d6dba61c55a34b4.source.jpg"}},office_tile_ceiling:{meta:{displayName:"Office Ceiling Tiles 1",category:"ceiling",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.376,.376,.376],specularCoef:50,
mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/2f082dbd45bca98b8651078d3298d78a.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/2f082dbd45bca98b8651078d3298d78a.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/2f082dbd45bca98b8651078d3298d78a.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/b8b7b9eae251593968cb7910848b310f.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/b8b7b9eae251593968cb7910848b310f.hi-res.gz.dds",
mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/b8b7b9eae251593968cb7910848b310f.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/f78192621d4aec8d4a2ce356f5aee78a.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/f78192621d4aec8d4a2ce356f5aee78a.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/f78192621d4aec8d4a2ce356f5aee78a.source.jpg"}},office_tile_ceiling2:{meta:{displayName:"Office Ceiling Tiles 2",category:"ceiling",
showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.188,.188,.188],specularCoef:10,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/9998ee62450d5752f7bf169930611c55.hi-res.gz.dds",mapNormal:"/535e624259ee6b0200000484/textures/uploads/027ea75f48df54e81c6e549f991c8a3a.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/7b26458a4a7b2a2bd186fd5117cb30f6.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/9998ee62450d5752f7bf169930611c55.lo-res.jpg",
mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/9998ee62450d5752f7bf169930611c55.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/7b26458a4a7b2a2bd186fd5117cb30f6.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/7b26458a4a7b2a2bd186fd5117cb30f6.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/027ea75f48df54e81c6e549f991c8a3a.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/027ea75f48df54e81c6e549f991c8a3a.source.jpg"}},
office_tile_ceiling3:{meta:{displayName:"Office Ceiling Tiles 3",category:"ceiling",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.125,.125,.125],specularCoef:10,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/0e1f01ac677a1d765922b70d3bccd75c.hi-res.gz.dds",mapNormal:"/535e624259ee6b0200000484/textures/uploads/8dd5e8491b3113b0710dfb2d88f074e3.hi-res.gz.dds",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/10e722d5e4686d7b448c55ff9a2a6c29.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/0e1f01ac677a1d765922b70d3bccd75c.lo-res.jpg",
mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/0e1f01ac677a1d765922b70d3bccd75c.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/10e722d5e4686d7b448c55ff9a2a6c29.lo-res.jpg",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/10e722d5e4686d7b448c55ff9a2a6c29.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/8dd5e8491b3113b0710dfb2d88f074e3.lo-res.jpg",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/8dd5e8491b3113b0710dfb2d88f074e3.source.jpg"}},
wall_top:{meta:{displayName:"Stone Wall Natural",category:"wall",showInMenu:!0},attributes:{colorDiffuse:[.2,.2,.2],addLightmap:!1,useInBaking:!0,hideAfterBaking:!1}},stone_wall:{meta:{displayName:"Stone Wall Natural",category:"wall",showInMenu:!0},attributes:{size:[1,1],colorSpecular:[.208,.208,.208],specularCoef:40,mapDiffuse:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.hi-res.gz.dds",mapNormal:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.hi-res.gz.dds",mapSpecular:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.hi-res.gz.dds",
mapDiffusePreview:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/5b9bed2afa0dff30e14bfbc0344c90e7.source.jpg",mapSpecularPreview:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.lo-res.jpg",mapSpecularSource:"archilogic/tex/d562e8020049d2d6e4b3583e4e624522.source.jpg",mapNormalPreview:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.lo-res.jpg",mapNormalSource:"archilogic/tex/0f2f5fcd5532a2acfbe1b62e93b1e2da.source.jpg"}},floor_vintage_timber_2:{meta:{displayName:"Planks Weathered",
category:"floor",showInMenu:!0},attributes:{size:[2.55,2.55],colorSpecular:[.267,.267,.267],specularCoef:40,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.lo-res.jpg",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.source.jpg"}},
ceiling_vintage_timber_2:{meta:{displayName:"Planks Weathered",category:"ceiling",showInMenu:!0},attributes:{size:[2.55,2.55],colorSpecular:[.267,.267,.267],specularCoef:40,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.lo-res.jpg",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.source.jpg"}},
wall_vintage_timber_2:{meta:{displayName:"Planks Weathered",category:"wall",showInMenu:!0},attributes:{size:[2.55,2.55],colorSpecular:[.267,.267,.267],specularCoef:40,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/d4113454deaf62a97535523c7cf04835.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.lo-res.jpg",
mapNormal:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/7453fcb16f050d38d75ba34dab80e2ad.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/8d732c64187595128d8c7f2b60a55af3.source.jpg"}},
truss_wood:{meta:{displayName:"Truss Wood",category:"other",showInMenu:!1},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],specularCoef:50,mapDiffuse:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.hi-res.gz.dds",mapNormal:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.hi-res.gz.dds",mapSpecular:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.lo-res.jpg",mapDiffuseSource:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.source.png",
mapSpecularPreview:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.lo-res.jpg",mapSpecularSource:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.source.png",mapNormalPreview:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.lo-res.jpg",mapNormalSource:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.source.png"}},brushed_chrome:{meta:{displayName:"Brushed Chrome",category:"counter",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[.855,.855,.855],specularCoef:80}},concrete_tiles_vertical:{meta:{displayName:"Concrete Tiles Vertical",
category:"wall",showInMenu:!1},attributes:{size:[2.4,2.4],colorSpecular:[.486,.486,.486],specularCoef:50,mapDiffuse:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.hi-res.gz.dds",mapNormal:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.hi-res.gz.dds",mapSpecular:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.lo-res.jpg",mapDiffuseSource:"archilogic/tex/ea24f67d1cfba1caa593e621e937bc37.source.png",mapSpecularPreview:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.lo-res.jpg",
mapSpecularSource:"archilogic/tex/55d5ac9d2cd7c1ed99514fd92175e5bc.source.png",mapNormalPreview:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.lo-res.jpg",mapNormalSource:"archilogic/tex/391452dc766083a8a6fce340b2d2af44.source.png"}},glass_old:{meta:{displayName:"Glass (Old)",category:"glass",showInMenu:!0},attributes:{colorDiffuse:[1,1,1],specularCoef:40,opacity:.3,addLightmap:!1,useInBaking:!1}},glass:{meta:{displayName:"Glass",category:"glass",showInMenu:!0},attributes:{colorDiffuse:[.949,1,
.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.14,addLightmap:!1,useInBaking:!1}},"glass-wall":{meta:{displayName:"Glass",category:"wall",showInMenu:!0},attributes:{colorDiffuse:[.949,1,.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.14,addLightmap:!1,useInBaking:!1}},wallTop:{meta:{displayName:"Wall Top"},attributes:{colorDiffuse:[.188,.188,.188],specularCoef:.1}},"grass-01":{meta:{displayName:"Grass",category:"floor",showInMenu:!0},attributes:{size:[4,4],specularCoef:20,mapDiffuse:"archilogic/tex/8463d96062b98f018edb34af61642f50.hi-res.gz.dds",
mapNormal:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.hi-res.gz.dds",mapSpecular:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/8463d96062b98f018edb34af61642f50.lo-res.jpg",mapDiffuseSource:"archilogic/tex/8463d96062b98f018edb34af61642f50.source.jpg",mapSpecularPreview:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.lo-res.jpg",mapSpecularSource:"archilogic/tex/12fd170deef977469cb810a8759aa3eb.source.jpg",mapNormalPreview:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.lo-res.jpg",
mapNormalSource:"archilogic/tex/626edbfd34ba34c19fb92dad87fade82.source.jpg"}},"gravel-01":{meta:{displayName:"Gravel",category:"floor",showInMenu:!0},attributes:{size:[3,3],specularCoef:20,mapDiffuse:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.hi-res.gz.dds",mapNormal:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.hi-res.gz.dds",mapSpecular:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/9fbf5f70818f431ddf28b6a828b68af7.source.jpg",mapSpecularPreview:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.lo-res.jpg",mapSpecularSource:"archilogic/tex/367a4374a0d049aa0886ef68b76054f4.source.jpg",mapNormalPreview:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.lo-res.jpg",mapNormalSource:"archilogic/tex/0f83e844962e6c10ca9ca56d0ae02cfd.source.jpg"}},floor_grass:{meta:{displayName:"Grass",category:"floor",showInMenu:!1},attributes:{size:[1,1],colorSpecular:[1,
1,1],specularCoef:50,mapDiffuse:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/828dfb1aae222e7e4bf563cfb65fc26a.source.jpg"}},"concrete-wall":{meta:{displayName:"Concrete Formwork",category:"floor",showInMenu:!1},attributes:{size:[3.6,3.6],specularCoef:40,mapDiffuse:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.hi-res.gz.dds",receiveRealTimeShadows:!0,
mapDiffusePreview:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e529f05d7e3b1ad95c94752098c6ee8e.source.jpg"}},floor_wood:{meta:{displayName:"Floor Wood",category:"floor",showInMenu:!1},attributes:{size:[7,7],specularCoef:40,mapDiffuse:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.lo-res.jpg",mapDiffuseSource:"archilogic/tex/4433d7b5ed780022d4ad9be94a457961.source.jpg"}},
floor_ahorn:{meta:{displayName:"Floor Ahorn",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.lo-res.jpg",mapDiffuseSource:"archilogic/tex/73fc859500c231c1f67346dd40ace8dc.source.jpg"}},floor_ebenholz:{meta:{displayName:"Floor Ebenholz",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.hi-res.gz.dds",
receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d6f9e525372773289d3721cdad924fb9.source.jpg"}},floor_vintage_timber_1:{meta:{displayName:"Floor Vintage Timber 1",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/26601a09792802ffd9ebdd66d418a1b1.source.jpg"}},wood_parquet_2:{meta:{displayName:"Wood Parquet 2",category:"floor",showInMenu:!1},attributes:{size:[2,2],colorSpecular:[.667,.667,.667],specularCoef:40,mapDiffuse:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.hi-res.gz.dds",mapNormal:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.hi-res.gz.dds",mapSpecular:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/22327ea017e8c358402d1130c5a74ba7.source.png",mapSpecularPreview:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.lo-res.jpg",mapSpecularSource:"archilogic/tex/e96e36ae77a7b6929ff62d6e70b18d8b.source.png",mapNormalPreview:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.lo-res.jpg",mapNormalSource:"archilogic/tex/2ccf45239f3760043910d7729a7c0b30.source.png"}},floor_vintage_timber_3:{meta:{displayName:"Floor Vintage Timber 3",category:"floor",showInMenu:!1},attributes:{size:[3.2,
3.2],colorSpecular:[.102,.102,.102],specularCoef:40,mapDiffuse:"archilogic/tex/c659ad823689f7502699105e6b8974f1.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/c659ad823689f7502699105e6b8974f1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/c659ad823689f7502699105e6b8974f1.source.jpg"}},floor_vintage_timber_4:{meta:{displayName:"Floor Vintage Timber 4",category:"floor",showInMenu:!1},attributes:{size:[3,3],specularCoef:40,mapDiffuse:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.hi-res.gz.dds",
receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e4ce6e72837661fa4555fb4cb9da7b1b.source.jpg"}},floor_vintage_timber_5:{meta:{displayName:"Floor Vintage Timber 5",category:"floor",showInMenu:!1},attributes:{size:[3.6,3.6],specularCoef:40,mapDiffuse:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/04e192e36ae01ff961c9a882682a19ff.source.jpg"}},floor_vintage_timber_6:{meta:{displayName:"Floor Vintage Timber 6",category:"floor",showInMenu:!1},attributes:{size:[2,2],specularCoef:40,mapDiffuse:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.hi-res.gz.dds",receiveRealTimeShadows:!0,mapDiffusePreview:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.lo-res.jpg",mapDiffuseSource:"archilogic/tex/82ca0b741e0ef051e55d0d5b7a46cd54.source.jpg"}},"doorLeaf-flush-white":{meta:{displayName:"Door Flush White",
category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-flush-white-thumb.jpg"},attributes:{colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30}},"doorLeaf-4-panels-white":{meta:{displayName:"Door 4 Panels White",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-panel-white-thumb.jpg"},attributes:{size:[1,1],colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30,mapDiffuse:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.hi-res.gz.dds",
mapNormal:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.lo-res.jpg",mapDiffuseSource:"archilogic/tex/dd1814c45fe19b59a01d389dbf9d2ab1.source.jpg",mapNormalPreview:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.lo-res.jpg",mapNormalSource:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.source.jpg"}},"doorFrame-flush-white":{meta:{displayName:"Door Flush White",category:"doorFrame",showInMenu:!0},attributes:{size:[1,
1],colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30}},aluminium:{meta:{displayName:"Aluminium",category:"doorHandle",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:40}},"doorLeaf-whitewood":{meta:{displayName:"Whitewood Panels",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-panel-whitewood-thumb.jpg"},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.19,.19,.19],specularCoef:20,
mapDiffuse:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.hi-res.gz.dds",mapSpecular:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.hi-res.gz.dds",mapNormal:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.lo-res.jpg",mapDiffuseSource:"archilogic/tex/072bd60b99f5a92cdde5bd5098dc9284.source.jpg",mapSpecularPreview:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.lo-res.jpg",mapSpecularSource:"archilogic/tex/7f51acb6c6eb3d81aa866f9eed5dc3d6.source.jpg",
mapNormalPreview:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.lo-res.jpg",mapNormalSource:"archilogic/tex/b42162adaa029e5d56958027b066eb1c.source.jpg"}},"doorLeaf-glass":{meta:{displayName:"Glass",category:"doorLeaf",showInMenu:!0,thumb:"/archilogic/texture/doors/thumbs/door-glass-thumb.jpg"},attributes:{colorDiffuse:[.949,1,.988],colorSpecular:[0,1,.769],specularCoef:100,opacity:.24,addLightmap:!1}},chrome:{meta:{displayName:"Aluminium",category:"metal",showInMenu:!0},attributes:{size:[1,1],
colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:50}},cabinet_paint_white:{meta:{displayName:"Paint White",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.9,.9,.9],colorSpecular:[.1,.1,.1],specularCoef:10}},cabinet_paint_creme:{meta:{displayName:"Paint Creme",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.8,.78,.73],colorSpecular:[.2,.2,.2],specularCoef:10}},cabinet_paint_grey:{meta:{displayName:"Paint Light Grey",category:"cabinet",
showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.7,.7,.7],colorSpecular:[.2,.2,.2],specularCoef:10}},cabinet_paint_beige:{meta:{displayName:"Paint Beige",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.57,.53,.48],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_green:{meta:{displayName:"Paint Green",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.455,.502,.357],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_blue:{meta:{displayName:"Paint Blue",
category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.357,.447,.502],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_brick:{meta:{displayName:"Paint Brick",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.651,.357,.247],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_anthrazit:{meta:{displayName:"Paint Anthrazit",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.3,.3,.3],colorSpecular:[.4,.4,.4],specularCoef:10}},cabinet_paint_black:{meta:{displayName:"Paint Black",
category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[.05,.05,.05],colorSpecular:[.5,.5,.5],specularCoef:10}},cabinet_wood_fir:{meta:{displayName:"Wood Fir mtex_12756",category:"cabinet",showInMenu:!0},attributes:{size:[2.4,2.4],colorDiffuse:[1,1,1],colorSpecular:[.2,.2,.2],specularCoef:15,mapDiffuse:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.source.jpg"}},
cabinet_cherry_veneer:{meta:{displayName:"Wood Cherry Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1.2,1.2],colorDiffuse:[1,1,1],colorSpecular:[.322,.318,.318],specularCoef:26,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/7239eb736d6877a34e8ebe2e5e9c8a57.source.jpg",
mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/58301ccaa8ed2be78e00c9ecdf5ab7af.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.hi-res.gz.dds",
mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/ff30448e22c5e2131991e25c219d2c2c.source.jpg"}},cabinet_beech_veneer:{meta:{displayName:"Wood Beech Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.212,.212,.212],specularCoef:24,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.lo-res.jpg",mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.hi-res.gz.dds",
mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/96487b8905d72f171b84400f5f1759d8.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.source.jpg",mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.lo-res.jpg",
mapSpecular:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.source.jpg"}},cabinet_chalked_veneer:{meta:{displayName:"Wood Chalked Veneer",category:"cabinet",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.14,.14,.14],specularCoef:24,mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.lo-res.jpg",
mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.hi-res.gz.dds",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/a08fb76c0fc9ece60f60262b730c7e59.source.jpg",mapNormalPreview:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.lo-res.jpg",mapNormal:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.hi-res.gz.dds",mapNormalSource:"/535e624259ee6b0200000484/textures/uploads/62b61216bf12d6c1a1a26938fbb454f7.source.jpg",
mapSpecularPreview:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.lo-res.jpg",mapSpecular:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.hi-res.gz.dds",mapSpecularSource:"/535e624259ee6b0200000484/textures/uploads/9f974ddee94d5c2a49b99d5ec32da287.source.jpg"}},cabinet_wood_fir_wall:{meta:{displayName:"Wood Fir mtex_12756",category:"wall",showInMenu:!0},attributes:{size:[2.4,2.4],colorDiffuse:[1,1,1],colorSpecular:[.2,.2,.2],specularCoef:15,
mapDiffuse:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.lo-res.jpg",mapDiffuseSource:"archilogic/tex/e0ad17dc344e514eb91d98b365d4e1c0.source.jpg"}},counter_chrome_brushed:{meta:{displayName:"Chrome Brushed",category:"counter",showInMenu:!0},attributes:{size:[.2,.7],colorDiffuse:[.5,.5,.5],colorSpecular:[.34,.34,.34],specularCoef:50,mapNormal:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.hi-res.gz.dds",mapSpecular:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.hi-res.gz.dds",
mapSpecularPreview:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.lo-res.jpg",mapSpecularSource:"archilogic/tex/fe502e29ec739e20e25e0a26090f8200.source.jpg",mapNormalPreview:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.lo-res.jpg",mapNormalSource:"archilogic/tex/03305e054dbd97bb57de94531ebcde49.source.jpg"}},counter_stone_white:{meta:{displayName:"Stone White",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.9,.9,.9],colorSpecular:[.3,.3,.3],specularCoef:15,mapDiffuse:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.hi-res.gz.dds",
mapNormal:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.lo-res.jpg",mapDiffuseSource:"archilogic/tex/61019e9b8e7f4542eb7a013e7dfae30b.source.jpg",mapSpecularPreview:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.lo-res.jpg",mapSpecularSource:"archilogic/tex/5ec4dfae5d8545d38177a6f76147fd26.source.jpg",mapNormalPreview:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.lo-res.jpg",
mapNormalSource:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.source.jpg"}},counter_granite_light:{meta:{displayName:"Granite Light mtex_11181",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.9,.9,.9],colorSpecular:[.3,.3,.3],specularCoef:40,mapDiffuse:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.hi-res.gz.dds",mapNormal:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.hi-res.gz.dds",mapSpecular:"archilogic/tex/976e94355e5bda592304f280d1d02d48.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.lo-res.jpg",
mapDiffuseSource:"archilogic/tex/ded6f1d9a706119919bbc7c96d8ed6b2.source.jpg",mapSpecularPreview:"archilogic/tex/976e94355e5bda592304f280d1d02d48.lo-res.jpg",mapSpecularSource:"archilogic/tex/976e94355e5bda592304f280d1d02d48.source.jpg",mapNormalPreview:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.lo-res.jpg",mapNormalSource:"archilogic/tex/cfe24afab1a720ee1525af2b6821f1e7.source.jpg"}},counter_granite_black:{meta:{displayName:"Granite Black mtex_11180",category:"counter",showInMenu:!0},attributes:{size:[.5,
.5],colorDiffuse:[1,1,1],colorSpecular:[.4,.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.hi-res.gz.dds",mapNormal:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.hi-res.gz.dds",mapSpecular:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.lo-res.jpg",mapDiffuseSource:"archilogic/tex/975742bddd8326ef574878ca9132b4ed.source.jpg",mapSpecularPreview:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.lo-res.jpg",
mapSpecularSource:"archilogic/tex/7fe0c88fc1c03881949652c8c3d55aaa.source.jpg",mapNormalPreview:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.lo-res.jpg",mapNormalSource:"archilogic/tex/19cc02e1993bd5b118e03c169ee0ef33.source.jpg"}},counter_concrete_fluid:{meta:{displayName:"Concrete Natural",category:"counter",showInMenu:!0},attributes:{size:[.5,.5],colorDiffuse:[.867,.867,.867],colorSpecular:[.4,.4,.4],specularCoef:40,mapDiffuse:"archilogic/tex/7af78308b190531d128c71e3482e21ea.hi-res.gz.dds",
mapNormal:"archilogic/tex/f544850902a92746d30d0b80bda43c62.hi-res.gz.dds",mapSpecular:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/7af78308b190531d128c71e3482e21ea.lo-res.jpg",mapDiffuseSource:"archilogic/tex/7af78308b190531d128c71e3482e21ea.source.jpg",mapSpecularPreview:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.lo-res.jpg",mapSpecularSource:"archilogic/tex/34b87f4d4d1b6d89b370862e243ebf12.source.jpg",mapNormalPreview:"archilogic/tex/f544850902a92746d30d0b80bda43c62.lo-res.jpg",
mapNormalSource:"archilogic/tex/f544850902a92746d30d0b80bda43c62.source.jpg"}},cooktop_westinghouse_60:{meta:{displayName:"Cooktop Westinghouse 60",category:"cooktop60",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/03796b53a0776136c919ef7e9dc6c96b.source.jpg"}},
cooktop_westinghouse_90:{meta:{displayName:"Cooktop Westinghouse 90",category:"cooktop90",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/8aa7c25cd74007e497b782f0fbfea187.source.jpg"}},
"oven_miele_60-60":{meta:{displayName:"Oven Miele 60x60",category:"oven60",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/53ce86d2ae02d701c70c9488e681d54e.source.jpg"}},"oven_miele_90-48":{meta:{displayName:"Oven Miele 90x48",
category:"oven90",showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/22e8dd6c7d90cf88e6d0d5c89403753d.source.jpg"}},microwave_samsung:{meta:{displayName:"Microwave Samsung",category:"microwave",
showInMenu:!0},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.hi-res.gz.dds",mapDiffusePreview:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.lo-res.jpg",mapDiffuseSource:"/535e624259ee6b0200000484/textures/uploads/e3959871393650ae83389cd69f377c25.source.jpg"}},oven_vzug:{meta:{displayName:"Oven VZug",category:"oven",showInMenu:!1},attributes:{size:[1,
1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.hi-res.gz.dds",mapSpecular:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.lo-res.jpg",mapDiffuseSource:"archilogic/tex/d67fb5b3b852f44aa95f12b9f6f9e721.source.jpg",mapSpecularPreview:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.lo-res.jpg",mapSpecularSource:"archilogic/tex/18168af2d7c5d21845d67424b9f42fee.source.jpg"}},
oven_miele:{meta:{displayName:"Oven VZug",category:"oven",showInMenu:!1},attributes:{size:[1,1],colorDiffuse:[1,1,1],colorSpecular:[.3,.3,.3],specularCoef:50,mapDiffuse:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.hi-res.gz.dds",mapSpecular:"archilogic/tex/b6c63f108ef511dd768663c334123496.hi-res.gz.dds",mapDiffusePreview:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.lo-res.jpg",mapDiffuseSource:"archilogic/tex/1fc90bca228862d77d943a3a0fc0c22a.source.jpg",mapSpecularPreview:"archilogic/tex/b6c63f108ef511dd768663c334123496.lo-res.jpg",
mapSpecularSource:"archilogic/tex/b6c63f108ef511dd768663c334123496.source.jpg"}}},f={},b=Object.keys(d),e=0;e<b.length;e++){var g=b[e],a=d[g];a.attributes&&(a.attributes.name=g,f[g]=a.attributes)}k.standardMaterials=f})(Viewer);
(function(k){function d(a,b,c,d,e){var f=0,g;var h=b;for(g=c-d;h<c;h+=d)f+=(a[g]-a[h])*(a[h+1]+a[g+1]),g=h;if(e===0<f)for(h=b;h<c;h+=d)var k=C(h,k);else for(h=c-d;h>=b;h-=d)k=C(h,k);return k}function f(a,b,c){c||(c=b);do{var d=!1;var e;if(e=!b.steiner){e=b.i;var f=b.next.i;e=a[e]===a[f]&&a[e+1]===a[f+1]||0===m(a,b.prev.i,b.i,b.next.i)}if(e){b.prev.next=b.next;b.next.prev=b.prev;b.prevZ&&(b.prevZ.nextZ=b.nextZ);b.nextZ&&(b.nextZ.prevZ=b.prevZ);b=c=b.prev;if(b===b.next)return null;d=!0}else b=b.next}while(d||
b!==c);return c}function b(c,d,e,g,k,m,q,C){if(d){if(!C&&void 0!==k){var n=d,p=n;do null===p.z&&(p.z=a(c[p.i],c[p.i+1],k,m,q)),p.prevZ=p.prev,p=p.nextZ=p.next;while(p!==n);p.prevZ.nextZ=null;p.prevZ=null;n=p;var u,w,B,A,E=1;do{p=n;var J=n=null;for(w=0;p;){w++;var I=p;for(u=B=0;u<E&&(B++,I=I.nextZ,I);u++);for(A=E;0<B||0<A&&I;)0===B?(u=I,I=I.nextZ,A--):0!==A&&I?p.z<=I.z?(u=p,p=p.nextZ,B--):(u=I,I=I.nextZ,A--):(u=p,p=p.nextZ,B--),J?J.nextZ=u:n=u,u.prevZ=J,J=u;p=I}J.nextZ=null;E*=2}while(1<w)}for(n=d;d.prev!==
d.next;){p=d.prev;I=d.next;a:{J=c;w=d;var G=k;var H=m;var Q=q;B=w.prev.i;u=w.i;E=w.next.i;var v=J[B];var t=J[B+1];var x=J[u];var y=J[u+1],D=J[E],U=J[E+1];u=v*y-t*x;A=v*U-t*D;var Z=u-A-(D*y-U*x);if(0>=Z)J=!1;else{var ha=U-t,ia=v-D,ba=t-y,qa=x-v;if(void 0!==G){var na=v>x?v>D?v:D:x>D?x:D,ka=t>y?t>U?t:U:y>U?y:U;v=a(v<x?v<D?v:D:x<D?x:D,t<y?t<U?t:U:y<U?y:U,G,H,Q);H=a(na,ka,G,H,Q);for(G=w.nextZ;G&&G.z<=H;)if(Q=G.i,G=G.nextZ,Q!==B&&Q!==E&&(t=J[Q],x=J[Q+1],Q=ha*t+ia*x-A,0<=Q&&(x=ba*t+qa*x+u,0<=x&&(t=Z-Q-x,
0<=t&&(Q&&x||Q&&t||x&&t))))){J=!1;break a}for(G=w.prevZ;G&&G.z>=v;)if(Q=G.i,G=G.prevZ,Q!==B&&Q!==E&&(t=J[Q],x=J[Q+1],Q=ha*t+ia*x-A,0<=Q&&(x=ba*t+qa*x+u,0<=x&&(t=Z-Q-x,0<=t&&(Q&&x||Q&&t||x&&t))))){J=!1;break a}}else for(G=w.next.next;G!==w.prev;)if(Q=G.i,G=G.next,t=J[Q],x=J[Q+1],Q=ha*t+ia*x-A,0<=Q&&(x=ba*t+qa*x+u,0<=x&&(t=Z-Q-x,0<=t&&(Q&&x||Q&&t||x&&t)))){J=!1;break a}J=!0}}if(J)e.push(p.i/g),e.push(d.i/g),e.push(I.i/g),I.prev=p,p.next=I,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ),
n=d=I.next;else if(d=I,d===n){if(!C)b(c,f(c,d),e,g,k,m,q,1);else if(1===C){C=c;J=d;d=e;n=g;I=J;do w=I.prev,p=I.next.next,w.i!==p.i&&l(C,w.i,I.i,I.next.i,p.i)&&r(C,w,p)&&r(C,p,w)&&(d.push(w.i/n),d.push(I.i/n),d.push(p.i/n),w.next=p,p.prev=w,J=I.prevZ,I=I.nextZ&&I.nextZ.nextZ,J&&(J.nextZ=I),I&&(I.prevZ=J),I=J=p),I=I.next;while(I!==J);d=I;b(c,d,e,g,k,m,q,2)}else if(2===C)a:{C=d;do{for(n=C.next.next;n!==C.prev;){if(p=C.i!==n.i){p=c;I=C;J=n;b:{w=I.i;B=J.i;E=I;do{u=E.i;A=E.next.i;if(u!==w&&A!==w&&u!==B&&
A!==B&&l(p,u,A,w,B)){w=!0;break b}E=E.next}while(E!==I);w=!1}if(w=!w&&r(p,I,J)&&r(p,J,I)){E=I.i;u=J.i;J=I;w=!1;B=(p[E]+p[u])/2;E=(p[E+1]+p[u+1])/2;do u=J.i,A=J.next.i,p[u+1]>E!==p[A+1]>E&&B<(p[A]-p[u])*(E-p[u+1])/(p[A+1]-p[u+1])+p[u]&&(w=!w),J=J.next;while(J!==I)}p=w}if(p){d=h(C,n);C=f(c,C,C.next);d=f(c,d,d.next);b(c,C,e,g,k,m,q);b(c,d,e,g,k,m,q);break a}n=n.next}C=C.next}while(C!==d)}break}}}}function e(a,b,e,h){var k=[],l;var m=0;for(l=b.length;m<l;m++){var p=b[m]*h;var n=m<l-1?b[m+1]*h:a.length;
p=d(a,p,n,h,!1);p===p.next&&(p.steiner=!0);(p=f(a,p))&&k.push(c(a,p))}k.sort(function(b,c){return a[b.i]-a[c.i]});for(m=0;m<k.length;m++)g(a,k[m],e),e=f(a,e,e.next);return e}function g(a,b,c){var d=c,e=b.i,g=a[e];e=a[e+1];var k=-Infinity;do{var l=d.i;var m=d.next.i;if(e<=a[l+1]&&e>=a[m+1]){var p=a[l]+(e-a[l+1])*(a[m]-a[l])/(a[m+1]-a[l+1]);if(p<=g&&p>k){k=p;var n=a[l]<a[m]?d:d.next}}d=d.next}while(d!==c);if(n){c=a[n.i];d=a[n.i+1];l=g*d-e*c;m=g*e-e*k;p=e-e;var q=g-k,A=e-d,C=c-g;k=l-m-(k*d-e*c);var P=
0>=k?-1:1,J=n,O=Infinity;for(d=n.next;d!==J;){var G=a[d.i];var H=a[d.i+1];var Q=g-G;if(0<=Q&&G>=c){var v=(p*G+q*H-m)*P;0<=v&&(G=(A*G+C*H+l)*P,0<=G&&0<=k*P-v-G&&(H=Math.abs(e-H)/Q,H<O&&r(a,d,b)&&(n=d,O=H)))}d=d.next}c=n}else c=null;c&&(b=h(c,b),f(a,b,b.next))}function a(a,b,c,d,e){a=1E3*(a-c)/e;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=1E3*(b-d)/e;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function c(a,b){var c=
b,d=b;do a[c.i]<a[d.i]&&(d=c),c=c.next;while(c!==b);return d}function m(a,b,c,d){a=(a[c+1]-a[b+1])*(a[d]-a[c])-(a[c]-a[b])*(a[d+1]-a[c+1]);return 0<a?1:0>a?-1:0}function l(a,b,c,d,e){return m(a,b,c,d)!==m(a,b,c,e)&&m(a,d,e,b)!==m(a,d,e,c)}function r(a,b,c){return-1===m(a,b.prev.i,b.i,b.next.i)?-1!==m(a,b.i,c.i,b.next.i)&&-1!==m(a,b.i,b.prev.i,c.i):-1===m(a,b.i,c.i,b.prev.i)||-1===m(a,b.i,b.next.i,c.i)}function h(a,b){var c=new q(a.i),d=new q(b.i),e=a.next,f=b.prev;a.next=b;b.prev=a;c.next=e;e.prev=
c;d.next=c;c.prev=d;f.next=d;d.prev=f;return d}function C(a,b){a=new q(a);b?(a.next=b.next,a.prev=b,b.next.prev=a,b.next=a):(a.prev=a,a.next=a);return a}function q(a){this.i=a;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}k.earcut=function(a,c,g){g=g||2;var h=c&&c.length,k=h?c[0]*g:a.length,l=f(a,d(a,0,k,g,!0)),m=[];if(!l)return m;h&&(l=e(a,c,l,g));if(a.length>80*g){var n=c=a[0];var p=h=a[1];for(var r=g;r<k;r+=g){var q=a[r];var C=a[r+1];q<n&&(n=q);C<p&&(p=C);q>c&&(c=q);C>h&&
(h=C)}q=Math.max(c-n,h-p)}b(a,l,m,g,n,p,q);return m}})(Viewer);
(function(k){function d(d,b,e,g){return Math.sqrt((e-d)*(e-d)+(g-b)*(g-b))}k.getExtrusion=function(f){var b=f.outline,e=f.y||1,g=!!f.flipSide,a=f.isOpenOutline||!1;f=b.length;var c=new Float32Array(9*f),k=new Float32Array(6*f);if(g)for(a||(c[0]=b[f-2],c[1]=0,c[2]=b[f-1],c[3]=b[f-2],c[4]=e,c[5]=b[f-1],c[6]=b[0],c[7]=0,c[8]=b[1],c[9]=b[f-2],c[10]=e,c[11]=b[f-1],c[12]=b[0],c[13]=e,c[14]=b[1],c[15]=b[0],c[16]=0,c[17]=b[1],g=d(b[f-2],b[f-1],b[0],b[1]),k[0]=0,k[1]=0,k[2]=0,k[3]=e,k[4]=g,k[5]=0,k[6]=0,k[7]=
e,k[8]=g,k[9]=e,k[10]=g,k[11]=0),a=2;a<f;a+=2)c[9*a]=b[a-2],c[9*a+1]=0,c[9*a+2]=b[a-1],c[9*a+3]=b[a-2],c[9*a+4]=e,c[9*a+5]=b[a-1],c[9*a+6]=b[a],c[9*a+7]=0,c[9*a+8]=b[a+1],c[9*a+9]=b[a-2],c[9*a+10]=e,c[9*a+11]=b[a-1],c[9*a+12]=b[a],c[9*a+13]=e,c[9*a+14]=b[a+1],c[9*a+15]=b[a],c[9*a+16]=0,c[9*a+17]=b[a+1],g=d(b[a-2],b[a-1],b[a],b[a+1]),k[6*a]=0,k[6*a+1]=0,k[6*a+2]=0,k[6*a+3]=e,k[6*a+4]=g,k[6*a+5]=0,k[6*a+6]=0,k[6*a+7]=e,k[6*a+8]=g,k[6*a+9]=e,k[6*a+10]=g,k[6*a+11]=0;else for(a||(c[0]=b[f-2],c[1]=0,c[2]=
b[f-1],c[3]=b[0],c[4]=0,c[5]=b[1],c[6]=b[f-2],c[7]=e,c[8]=b[f-1],c[9]=b[f-2],c[10]=e,c[11]=b[f-1],c[12]=b[0],c[13]=0,c[14]=b[1],c[15]=b[0],c[16]=e,c[17]=b[1],g=d(b[f-2],b[f-1],b[0],b[1]),k[0]=0,k[1]=0,k[2]=g,k[3]=0,k[4]=0,k[5]=e,k[6]=0,k[7]=e,k[8]=g,k[9]=0,k[10]=g,k[11]=e),a=2;a<f;a+=2)c[9*a]=b[a-2],c[9*a+1]=0,c[9*a+2]=b[a-1],c[9*a+3]=b[a],c[9*a+4]=0,c[9*a+5]=b[a+1],c[9*a+6]=b[a-2],c[9*a+7]=e,c[9*a+8]=b[a-1],c[9*a+9]=b[a-2],c[9*a+10]=e,c[9*a+11]=b[a-1],c[9*a+12]=b[a],c[9*a+13]=0,c[9*a+14]=b[a+1],
c[9*a+15]=b[a],c[9*a+16]=e,c[9*a+17]=b[a+1],g=d(b[a-2],b[a-1],b[a],b[a+1]),k[6*a]=0,k[6*a+1]=0,k[6*a+2]=g,k[6*a+3]=0,k[6*a+4]=0,k[6*a+5]=e,k[6*a+6]=0,k[6*a+7]=e,k[6*a+8]=g,k[6*a+9]=0,k[6*a+10]=g,k[6*a+11]=e;return{vertices:c,uvs:k}}})(Viewer);
(function(k){k.getPolygon=function(d){var f=d.outline,b=d.holes,e=d.uvx||0,g=d.uvz||0,a=d.y||0,c=!!d.flipSide,m;if(4!==f.length||void 0!==b&&0!==b.length)if(b&&0<b.length){var l=Array(b.length);d=0;for(m=b.length;d<m;d++)l[d]=f.length/2,f=f.concat(b[d]);b=k.earcut(f,l)}else b=k.earcut(f);else b=[1,0,3,3,2,1];l=new Float32Array(3*b.length);var r=new Float32Array(2*b.length);if(c)for(d=0,m=b.length;d<m;d+=3){c=3*d;var h=2*d;l[c]=f[2*b[d+2]];l[c+1]=a;l[c+2]=f[2*b[d+2]+1];l[c+3]=f[2*b[d]];l[c+4]=a;l[c+
5]=f[2*b[d]+1];l[c+6]=f[2*b[d+1]];l[c+7]=a;l[c+8]=f[2*b[d+1]+1];r[h]=f[2*b[d+2]+1]+g;r[h+1]=f[2*b[d+2]]+e;r[h+2]=f[2*b[d]+1]+g;r[h+3]=f[2*b[d]]+e;r[h+4]=f[2*b[d+1]+1]+g;r[h+5]=f[2*b[d+1]]+e}else for(d=0,m=b.length;d<m;d+=3)c=3*d,h=2*d,l[c]=f[2*b[d+2]],l[c+1]=a,l[c+2]=f[2*b[d+2]+1],l[c+3]=f[2*b[d+1]],l[c+4]=a,l[c+5]=f[2*b[d+1]+1],l[c+6]=f[2*b[d]],l[c+7]=a,l[c+8]=f[2*b[d]+1],r[h]=f[2*b[d+2]+1]+g,r[h+1]=f[2*b[d+2]]+e,r[h+2]=f[2*b[d+1]+1]+g,r[h+3]=f[2*b[d+1]]+e,r[h+4]=f[2*b[d]+1]+g,r[h+5]=f[2*b[d]]+e;
return{vertices:l,uvs:r}}})(Viewer);
(function(k){k.getNormalsFlat=function(d){var f=new Float32Array(d.length),b;var e=0;for(b=d.length;e<b;e+=9){var g=(d[e+7]-d[e+4])*(d[e+2]-d[e+5])-(d[e+8]-d[e+5])*(d[e+1]-d[e+4]);var a=(d[e+8]-d[e+5])*(d[e]-d[e+3])-(d[e+6]-d[e+3])*(d[e+2]-d[e+5]);var c=(d[e+6]-d[e+3])*(d[e+1]-d[e+4])-(d[e+7]-d[e+4])*(d[e]-d[e+3]);var k=1/Math.sqrt(g*g+a*a+c*c);Infinity===k&&(k=0);f[e]=f[e+3]=f[e+6]=g*k;f[e+1]=f[e+4]=f[e+7]=a*k;f[e+2]=f[e+5]=f[e+8]=c*k}return f};k.getNormalsSmooth=function(d){var f=new Float32Array(d.length),
b=[],e={},g;var a=0;for(g=d.length;a<g;a+=9){var c=(d[a+7]-d[a+4])*(d[a+2]-d[a+5])-(d[a+8]-d[a+5])*(d[a+1]-d[a+4]);var k=(d[a+8]-d[a+5])*(d[a]-d[a+3])-(d[a+6]-d[a+3])*(d[a+2]-d[a+5]);var l=(d[a+6]-d[a+3])*(d[a+1]-d[a+4])-(d[a+7]-d[a+4])*(d[a]-d[a+3]);var r=1/Math.sqrt(c*c+k*k+l*l);Infinity===r&&(r=0);l=[c*r,k*r,l*r];r=0;for(k=9;r<k;r+=3)c=d[a+r]+"_"+d[a+r+1]+"_"+d[a+r+2],e[c]?e[c].faceNormals.push(l):(e[c]={faceNormals:[l]},b[b.length]=c)}var h,C;a=0;for(g=b.length;a<g;a++){c=b[a];var q=e[c].faceNormals;
r=C=h=l=0;for(k=q.length;r<k;r++)l+=q[r][0],h+=q[r][1],C+=q[r][2];r=1/Math.sqrt(l*l+h*h+C*C);Infinity===r&&(r=0);e[c].averageNormal=[l*r,h*r,C*r]}a=0;for(g=d.length;a<g;a+=3)c=d[a]+"_"+d[a+1]+"_"+d[a+2],b=e[c].averageNormal,f[a]=b[0],f[a+1]=b[1],f[a+2]=b[2];return f}})(Viewer);
(function(k){k.getUvsArchitectural=function(d){var f=new Float32Array(d.length/1.5),b=0,e;var g=0;for(e=d.length;g<e;g+=9){var a=[(d[g+7]-d[g+4])*(d[g+2]-d[g+5])-(d[g+8]-d[g+5])*(d[g+1]-d[g+4]),(d[g+8]-d[g+5])*(d[g]-d[g+3])-(d[g+6]-d[g+3])*(d[g+2]-d[g+5]),(d[g+6]-d[g+3])*(d[g+1]-d[g+4])-(d[g+7]-d[g+4])*(d[g]-d[g+3])];0>a[0]&&(a[0]*=-1);0>a[1]&&(a[1]*=-1);0>a[2]&&(a[2]*=-1);var c=[1,0,2].sort(function(b,c){return a[b]-a[c]});f[b]=d[g+c[1]];f[b+1]=d[g+c[0]];f[b+2]=d[g+3+c[1]];f[b+3]=d[g+3+c[0]];f[b+
4]=d[g+6+c[1]];f[b+5]=d[g+6+c[0]];b+=6}return f};k.getUvsProjectAxisY=function(d){var f=new Float32Array(d.length/1.5),b=0,e;var g=0;for(e=d.length;g<e;g+=9)f[b]=d[g+2],f[b+1]=d[g],f[b+2]=d[g+5],f[b+3]=d[g+3],f[b+4]=d[g+8],f[b+5]=d[g+6],b+=6;return f}})(Viewer);
(function(k){k.ParametricObjects.box={params:{type:"box",x:0,y:0,z:0,ry:0,l:1,w:1,h:1,visible:{floorplan:!0,bird:!0,person:!0},bake:!0,bakeStatus:"none",hideInBakedModel:!1,materials:{top:"basic-wall",side:"basic-wall"},lock:!1},initialize:function(){this.a.topMaterial&&(this.a.materials.top=this.a.topMaterial,delete this.a.topMaterial);this.a.sideMaterial&&(this.a.materials.side=this.a.sideMaterial,delete this.a.sideMaterial)},getMeshes:function(){var d=this.attributes,f=new Float32Array(90),b=0,
e=new Float32Array(60),g=0,a=new Float32Array(18),c=new Float32Array(12),m=d.h,l=d.w;d=d.l;f[b]=f[b+9]=0;f[b+1]=f[b+10]=m;f[b+2]=f[b+11]=l;f[b+3]=0;f[b+4]=0;f[b+5]=l;f[b+6]=f[b+12]=d;f[b+7]=f[b+13]=0;f[b+8]=f[b+14]=l;f[b+15]=d;f[b+16]=m;f[b+17]=l;b+=18;e[g]=e[g+6]=0;e[g+1]=e[g+7]=m;e[g+2]=0;e[g+3]=0;e[g+4]=e[g+8]=d;e[g+5]=e[g+9]=0;e[g+10]=d;e[g+11]=m;g+=12;f[b]=f[b+9]=0;f[b+1]=f[b+10]=m;f[b+2]=f[b+11]=0;f[b+3]=0;f[b+4]=0;f[b+5]=0;f[b+6]=f[b+12]=0;f[b+7]=f[b+13]=0;f[b+8]=f[b+14]=l;f[b+15]=0;f[b+16]=
m;f[b+17]=l;b+=18;e[g]=e[g+6]=0;e[g+1]=e[g+7]=m;e[g+2]=0;e[g+3]=0;e[g+4]=e[g+8]=l;e[g+5]=e[g+9]=0;e[g+10]=l;e[g+11]=m;g+=12;f[b]=f[b+9]=d;f[b+1]=f[b+10]=m;f[b+2]=f[b+11]=l;f[b+3]=d;f[b+4]=0;f[b+5]=l;f[b+6]=f[b+12]=d;f[b+7]=f[b+13]=0;f[b+8]=f[b+14]=0;f[b+15]=d;f[b+16]=m;f[b+17]=0;b+=18;e[g]=e[g+6]=0;e[g+1]=e[g+7]=m;e[g+2]=0;e[g+3]=0;e[g+4]=e[g+8]=l;e[g+5]=e[g+9]=0;e[g+10]=l;e[g+11]=m;g+=12;f[b]=f[b+9]=d;f[b+1]=f[b+10]=m;f[b+2]=f[b+11]=0;f[b+3]=d;f[b+4]=0;f[b+5]=0;f[b+6]=f[b+12]=0;f[b+7]=f[b+13]=0;
f[b+8]=f[b+14]=0;f[b+15]=0;f[b+16]=m;f[b+17]=0;b+=18;e[g]=e[g+6]=0;e[g+1]=e[g+7]=m;e[g+2]=0;e[g+3]=0;e[g+4]=e[g+8]=d;e[g+5]=e[g+9]=0;e[g+10]=d;e[g+11]=m;g+=12;f[b]=f[b+9]=0;f[b+1]=f[b+10]=0;f[b+2]=f[b+11]=l;f[b+3]=0;f[b+4]=0;f[b+5]=0;f[b+6]=f[b+12]=d;f[b+7]=f[b+13]=0;f[b+8]=f[b+14]=0;f[b+15]=d;f[b+16]=0;f[b+17]=l;e[g]=e[g+6]=0;e[g+1]=e[g+7]=l;e[g+2]=0;e[g+3]=0;e[g+4]=e[g+8]=d;e[g+5]=e[g+9]=0;e[g+10]=d;e[g+11]=l;a[0]=a[9]=0;a[1]=a[10]=m;a[2]=a[11]=0;a[3]=0;a[4]=m;a[5]=l;a[6]=a[12]=d;a[7]=a[13]=m;a[8]=
a[14]=l;a[15]=d;a[16]=m;a[17]=0;c[0]=c[6]=0;c[1]=c[7]=l;c[2]=0;c[3]=0;c[4]=c[8]=d;c[5]=c[9]=0;c[10]=d;c[11]=l;b={};b.top={positions:a,normals:k.getNormalsFlat(a),uvs:c,material:"top"};b.side={positions:f,normals:k.getNormalsFlat(f),uvs:e,material:"side"};return b},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.closet={params:{type:"closet",v:1,x:0,y:0,z:0,ry:0,lock:!1,bake:!0,bakeStatus:"none",l:1.8,w:.6,h:2.4,baseboard:.1,doorWidth:.02,handleLength:.02,handleWidth:.02,handleHeight:.3,materials:{closet:"cabinet_paint_white"}},initialize:function(){this.a.closetMaterial&&(this.a.materials.closet=this.a.closetMaterial,delete this.a.closetMaterial)},getMeshes:function(){for(var d=this.attributes,f=0,b=Math.round(d.l/.6),e=d.l/b,g,a=[],c=0,m,l=d.h+-.01,r=d.w,h=0,C,q,p=d.h-d.doorWidth,
A=d.baseboard,n,u=d.w+d.doorWidth,w,B=1+d.handleHeight/2,E=1-d.handleHeight/2,I=d.w+d.doorWidth+d.handleWidth,N=0;N<b;N++)g=1==N%2||N===b-1?.05+d.handleLength/2:e-.05-d.handleLength/2,m=f,C=f+e,q=f+d.doorWidth/2,n=f+e-d.doorWidth/2,w=f+g-d.handleLength/2,g=f+g+d.handleLength/2,a[c]=a[c+9]=m,a[c+1]=a[c+10]=l,a[c+2]=a[c+11]=r,a[c+3]=m,a[c+4]=h,a[c+5]=r,a[c+6]=a[c+12]=q,a[c+7]=a[c+13]=A,a[c+8]=a[c+14]=r,a[c+15]=q,a[c+16]=p,a[c+17]=r,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=A,a[c+2]=a[c+11]=r,a[c+3]=m,a[c+
4]=h,a[c+5]=r,a[c+6]=a[c+12]=C,a[c+7]=a[c+13]=h,a[c+8]=a[c+14]=r,a[c+15]=n,a[c+16]=A,a[c+17]=r,c+=18,a[c]=a[c+9]=n,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=r,a[c+3]=n,a[c+4]=A,a[c+5]=r,a[c+6]=a[c+12]=C,a[c+7]=a[c+13]=h,a[c+8]=a[c+14]=r,a[c+15]=C,a[c+16]=l,a[c+17]=r,c+=18,a[c]=a[c+9]=m,a[c+1]=a[c+10]=l,a[c+2]=a[c+11]=r,a[c+3]=q,a[c+4]=p,a[c+5]=r,a[c+6]=a[c+12]=n,a[c+7]=a[c+13]=p,a[c+8]=a[c+14]=r,a[c+15]=C,a[c+16]=l,a[c+17]=r,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=r,a[c+3]=q,a[c+4]=A,a[c+5]=r,a[c+
6]=a[c+12]=q,a[c+7]=a[c+13]=A,a[c+8]=a[c+14]=u,a[c+15]=q,a[c+16]=p,a[c+17]=u,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=A,a[c+2]=a[c+11]=u,a[c+3]=q,a[c+4]=A,a[c+5]=r,a[c+6]=a[c+12]=n,a[c+7]=a[c+13]=A,a[c+8]=a[c+14]=r,a[c+15]=n,a[c+16]=A,a[c+17]=u,c+=18,a[c]=a[c+9]=n,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=u,a[c+3]=n,a[c+4]=A,a[c+5]=u,a[c+6]=a[c+12]=n,a[c+7]=a[c+13]=A,a[c+8]=a[c+14]=r,a[c+15]=n,a[c+16]=p,a[c+17]=r,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=r,a[c+3]=q,a[c+4]=p,a[c+5]=u,a[c+6]=a[c+12]=n,a[c+
7]=a[c+13]=p,a[c+8]=a[c+14]=u,a[c+15]=n,a[c+16]=p,a[c+17]=r,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=u,a[c+3]=q,a[c+4]=A,a[c+5]=u,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=E,a[c+8]=a[c+14]=u,a[c+15]=w,a[c+16]=B,a[c+17]=u,c+=18,a[c]=a[c+9]=w,a[c+1]=a[c+10]=E,a[c+2]=a[c+11]=u,a[c+3]=q,a[c+4]=A,a[c+5]=u,a[c+6]=a[c+12]=n,a[c+7]=a[c+13]=A,a[c+8]=a[c+14]=u,a[c+15]=g,a[c+16]=E,a[c+17]=u,c+=18,a[c]=a[c+9]=g,a[c+1]=a[c+10]=B,a[c+2]=a[c+11]=u,a[c+3]=g,a[c+4]=E,a[c+5]=u,a[c+6]=a[c+12]=n,a[c+7]=a[c+13]=A,a[c+
8]=a[c+14]=u,a[c+15]=n,a[c+16]=p,a[c+17]=u,c+=18,a[c]=a[c+9]=q,a[c+1]=a[c+10]=p,a[c+2]=a[c+11]=u,a[c+3]=w,a[c+4]=B,a[c+5]=u,a[c+6]=a[c+12]=g,a[c+7]=a[c+13]=B,a[c+8]=a[c+14]=u,a[c+15]=n,a[c+16]=p,a[c+17]=u,c+=18,0<d.handleWidth&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=B,a[c+2]=a[c+11]=u,a[c+3]=w,a[c+4]=E,a[c+5]=u,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=E,a[c+8]=a[c+14]=I,a[c+15]=w,a[c+16]=B,a[c+17]=I,c+=18,a[c]=a[c+9]=w,a[c+1]=a[c+10]=E,a[c+2]=a[c+11]=I,a[c+3]=w,a[c+4]=E,a[c+5]=u,a[c+6]=a[c+12]=g,a[c+7]=a[c+13]=E,a[c+
8]=a[c+14]=u,a[c+15]=g,a[c+16]=E,a[c+17]=I,c+=18,a[c]=a[c+9]=g,a[c+1]=a[c+10]=B,a[c+2]=a[c+11]=I,a[c+3]=g,a[c+4]=E,a[c+5]=I,a[c+6]=a[c+12]=g,a[c+7]=a[c+13]=E,a[c+8]=a[c+14]=u,a[c+15]=g,a[c+16]=B,a[c+17]=u,c+=18,a[c]=a[c+9]=w,a[c+1]=a[c+10]=B,a[c+2]=a[c+11]=u,a[c+3]=w,a[c+4]=B,a[c+5]=I,a[c+6]=a[c+12]=g,a[c+7]=a[c+13]=B,a[c+8]=a[c+14]=I,a[c+15]=g,a[c+16]=B,a[c+17]=u,c+=18),a[c]=a[c+9]=w,a[c+1]=a[c+10]=B,a[c+2]=a[c+11]=I,a[c+3]=w,a[c+4]=E,a[c+5]=I,a[c+6]=a[c+12]=g,a[c+7]=a[c+13]=E,a[c+8]=a[c+14]=I,a[c+
15]=g,a[c+16]=B,a[c+17]=I,c+=18,f+=e;m=0;l=d.h+-.01;r=d.w;h=0;C=d.l;a[c]=a[c+9]=m;a[c+1]=a[c+10]=l;a[c+2]=a[c+11]=0;a[c+3]=m;a[c+4]=h;a[c+5]=0;a[c+6]=a[c+12]=m;a[c+7]=a[c+13]=h;a[c+8]=a[c+14]=r;a[c+15]=m;a[c+16]=l;a[c+17]=r;c+=18;a[c]=a[c+9]=m;a[c+1]=a[c+10]=l;a[c+2]=a[c+11]=0;a[c+3]=m;a[c+4]=l;a[c+5]=r;a[c+6]=a[c+12]=C;a[c+7]=a[c+13]=l;a[c+8]=a[c+14]=r;a[c+15]=C;a[c+16]=l;a[c+17]=0;c+=18;a[c]=a[c+9]=C;a[c+1]=a[c+10]=l;a[c+2]=a[c+11]=r;a[c+3]=C;a[c+4]=h;a[c+5]=r;a[c+6]=a[c+12]=C;a[c+7]=a[c+13]=h;
a[c+8]=a[c+14]=0;a[c+15]=C;a[c+16]=l;a[c+17]=0;c+=18;a[c]=a[c+9]=C;a[c+1]=a[c+10]=l;a[c+2]=a[c+11]=0;a[c+3]=C;a[c+4]=h;a[c+5]=0;a[c+6]=a[c+12]=m;a[c+7]=a[c+13]=h;a[c+8]=a[c+14]=0;a[c+15]=m;a[c+16]=l;a[c+17]=0;d={};d.closet={positions:new Float32Array(a),normals:k.getNormalsFlat(a),uvs:k.getUvsArchitectural(a),material:"closet"};return d},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.curtain={params:{type:"curtain",v:1,x:0,y:0,z:0,ry:0,lock:!1,bake:!0,bakeStatus:"none",l:1.8,w:.2,h:2.4,folds:14,materials:{curtain:{colorDiffuse:[.844,.82,.7695]}}},initialize:function(){this.a.curtainMaterial&&(this.a.materials.curtain=this.a.curtainMaterial,delete this.a.curtainMaterial)},getMeshes:function(){var d=this.attributes,f=[],b=0,e=[],g=0,a=Math.round(d.folds-d.folds/d.l*.1),c=d.w,m=d.l/a;var l=.05*Math.random();var r=Math.random()*c;var h=d.h;for(var C=
0;C<a;C++){var q=l;var p=r;l=.05*Math.random();r=Math.random()*c;d=m*C;var A=m*(C+1);f[b]=f[b+9]=d;f[b+1]=f[b+10]=h;f[b+2]=f[b+11]=q;f[b+3]=d;f[b+4]=0;f[b+5]=p;f[b+6]=f[b+12]=A;f[b+7]=f[b+13]=0;f[b+8]=f[b+14]=r;f[b+15]=A;f[b+16]=h;f[b+17]=l;b+=18;e[g]=e[g+6]=d;e[g+1]=e[g+7]=h;e[g+2]=d;e[g+3]=0;e[g+4]=e[g+8]=A;e[g+5]=e[g+9]=0;e[g+10]=A;e[g+11]=h;g+=12;f[b]=f[b+9]=d;f[b+1]=f[b+10]=h;f[b+2]=f[b+11]=q-.01;f[b+3]=f[b+15]=A;f[b+4]=f[b+16]=0;f[b+5]=f[b+17]=r-.01;f[b+6]=d;f[b+7]=0;f[b+8]=p-.01;f[b+12]=A;
f[b+13]=h;f[b+14]=l-.01;b+=18;e[g]=e[g+6]=d;e[g+1]=e[g+7]=h;e[g+2]=e[g+10]=A;e[g+3]=e[g+11]=0;e[g+4]=d;e[g+5]=0;e[g+8]=A;e[g+9]=h;g+=12}b={};0<f.length&&(b.curtain={positions:new Float32Array(f),normals:k.getNormalsSmooth(f),uvs:new Float32Array(e),material:"curtain"});return b},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.door={params:{type:"door",x:0,y:0,z:0,ry:0,l:.9,w:.05,h:2,v:3,lock:!1,bake:!0,bakeStatus:"none",frameLength:.05,frameOffset:0,leafWidth:.03,leafOffset:.005,doorType:"singleSwing",fixLeafRatio:.3,doorAngle:92,hinge:"right",side:"back",thresholdHeight:.01,materials:{frame:{colorDiffuse:[.95,.95,.95],colorSpecular:[.04,.04,.04],specularCoef:30},leaf:"doorLeaf-flush-white",handle:"aluminium",threshold:"basic-floor"}},initialize:function(){this.a.handleMaterial&&(this.a.materials.handle=
this.a.handleMaterial,delete this.a.handleMaterial);this.a.leafMaterial&&(this.a.materials.leaf=this.a.leafMaterial,delete this.a.leafMaterial);this.a.frameMaterial&&(this.a.materials.frame=this.a.frameMaterial,delete this.a.frameMaterial);3>this.a.v?(this.a.threshold=!1,this.a.v=3,this.a.materials.threshold="wood_parquet_oak"):void 0===this.a.threshold&&(this.a.threshold=!0)},getMeshes:function(){var d=this.attributes,f=10;d.parent&&d.parent.a&&(f=d.parent.a.w);var b=d.frameLength,e=f,g=d.l-2*b,
a=d.leafOffset,c=d.frameOffset,m=d.doorType,l=d.threshold;var r=d.thresholdHeight;var h=d.l-2*b,C=.06+.009-.02,q=l&&r?r:.005,p=0,A=l?0<r?6:2:0,n=0,u=0,w=0,B=0,E=0,I=[];d.w=e;if("singleSwing"===m)var N=[{leafLength:g,handle:!0,angle:d.doorAngle}];else"opening"===m?N=[]:"doubleSwing"===m?N=[{leafLength:g/2,handle:!0,angle:d.doorAngle},{leafLength:g/2,handle:!0,angle:d.doorAngle,flipLeaf:!0}]:"swingFix"===m?(N=[{leafLength:h*(1-d.fixLeafRatio),handle:!0,angle:d.doorAngle},{leafLength:h*d.fixLeafRatio,
handle:!1,angle:0}],"left"===d.hinge&&N.reverse()):"swingDoubleFix"===m?(N=[{leafLength:h*d.fixLeafRatio/2,handle:!1,angle:0},{leafLength:h*(1-d.fixLeafRatio),handle:!0,angle:d.doorAngle},{leafLength:h*d.fixLeafRatio/2,handle:!1,angle:0}],"left"===d.hinge&&N.reverse()):"doubleSwingDoubleFix"===m?N=[{leafLength:h*d.fixLeafRatio/2,handle:!1,angle:0},{leafLength:(1-d.fixLeafRatio)/2*h,handle:!0,angle:d.doorAngle},{leafLength:(1-d.fixLeafRatio)/2*h,handle:!0,angle:d.doorAngle,flipLeaf:!0},{leafLength:h*
d.fixLeafRatio/2,handle:!1,angle:0}]:"slidingDoor"===m?(N=[{leafLength:g*(1-d.doorAngle/180),handle:!1,angle:0}],a=-.1,"left"===d.hinge&&(E=h-g*(1-d.doorAngle/180))):(d.doorType="singleSwing",N=[{leafLength:g,handle:!0,angle:d.doorAngle}]);.005<a&&(a=.005);0<b&&(p+=18,0<c&&(p+=12));var M=[],z=[],F=[];p=new Float32Array(9*p);var K=new Float32Array(9*A);A=new Float32Array(6*A);var L=g=0;var P=b;var J=r;var O=f;var G=0;var H=d.l-b;var Q=0;l&&(K[g]=K[g+9]=P,K[g+1]=K[g+10]=J,K[g+2]=K[g+11]=Q,K[g+3]=P,
K[g+4]=J,K[g+5]=O,K[g+6]=K[g+12]=H,K[g+7]=K[g+13]=J,K[g+8]=K[g+14]=O,K[g+15]=H,K[g+16]=J,K[g+17]=Q,A[L]=A[L+2]=A[L+6]=1-H,A[L+1]=A[L+7]=A[L+11]=O,A[L+3]=A[L+5]=A[L+9]=0,A[L+4]=A[L+8]=A[L+10]=1,g+=18,L+=12,0<r&&(K[g]=K[g+9]=P,K[g+1]=K[g+10]=J,K[g+2]=K[g+11]=O,K[g+3]=P,K[g+4]=G,K[g+5]=O,K[g+6]=K[g+12]=H,K[g+7]=K[g+13]=G,K[g+8]=K[g+14]=O,K[g+15]=H,K[g+16]=J,K[g+17]=O,A[L]=A[L+2]=A[L+6]=1-H,A[L+1]=A[L+7]=A[L+11]=r,A[L+3]=A[L+5]=A[L+9]=0,A[L+4]=A[L+8]=A[L+10]=1,g+=18,L+=12,K[g]=K[g+9]=H,K[g+1]=K[g+10]=
J,K[g+2]=K[g+11]=Q,K[g+3]=H,K[g+4]=G,K[g+5]=Q,K[g+6]=K[g+12]=P,K[g+7]=K[g+13]=G,K[g+8]=K[g+14]=Q,K[g+15]=P,K[g+16]=J,K[g+17]=Q,A[L]=A[L+2]=A[L+6]=1-H,A[L+1]=A[L+7]=A[L+11]=r,A[L+3]=A[L+5]=A[L+9]=0,A[L+4]=A[L+8]=A[L+10]=1));if(0<b){P=0;J=d.h;O=f+c;G=0;H=b;g=d.h-b;l=d.l-b;L=d.l;var v=f;f=-c;p[u]=p[u+9]=P;p[u+1]=p[u+10]=J;p[u+2]=p[u+11]=O;p[u+3]=P;p[u+4]=G;p[u+5]=O;p[u+6]=p[u+12]=H;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=O;p[u+15]=H;p[u+16]=g;p[u+17]=O;u+=18;p[u]=p[u+9]=P;p[u+1]=p[u+10]=J;p[u+2]=p[u+11]=O;p[u+
3]=H;p[u+4]=g;p[u+5]=O;p[u+6]=p[u+12]=l;p[u+7]=p[u+13]=g;p[u+8]=p[u+14]=O;p[u+15]=L;p[u+16]=J;p[u+17]=O;u+=18;p[u]=p[u+9]=l;p[u+1]=p[u+10]=g;p[u+2]=p[u+11]=O;p[u+3]=l;p[u+4]=G;p[u+5]=O;p[u+6]=p[u+12]=L;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=O;p[u+15]=L;p[u+16]=J;p[u+17]=O;u+=18;p[u]=p[u+9]=L;p[u+1]=p[u+10]=J;p[u+2]=p[u+11]=f;p[u+3]=L;p[u+4]=G;p[u+5]=f;p[u+6]=p[u+12]=l;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=f;p[u+15]=l;p[u+16]=g;p[u+17]=f;u+=18;p[u]=p[u+9]=L;p[u+1]=p[u+10]=J;p[u+2]=p[u+11]=f;p[u+3]=l;p[u+4]=g;p[u+
5]=f;p[u+6]=p[u+12]=H;p[u+7]=p[u+13]=g;p[u+8]=p[u+14]=f;p[u+15]=P;p[u+16]=J;p[u+17]=f;u+=18;p[u]=p[u+9]=H;p[u+1]=p[u+10]=g;p[u+2]=p[u+11]=f;p[u+3]=H;p[u+4]=G;p[u+5]=f;p[u+6]=p[u+12]=P;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=f;p[u+15]=P;p[u+16]=J;p[u+17]=f;u+=18;p[u]=p[u+9]=H;p[u+1]=p[u+10]=g;p[u+2]=p[u+11]=O;p[u+3]=H;p[u+4]=G;p[u+5]=O;p[u+6]=p[u+12]=H;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=f;p[u+15]=H;p[u+16]=g;p[u+17]=f;u+=18;p[u]=p[u+9]=H;p[u+1]=p[u+10]=g;p[u+2]=p[u+11]=O;p[u+3]=H;p[u+4]=g;p[u+5]=f;p[u+6]=p[u+
12]=l;p[u+7]=p[u+13]=g;p[u+8]=p[u+14]=f;p[u+15]=l;p[u+16]=g;p[u+17]=O;u+=18;p[u]=p[u+9]=l;p[u+1]=p[u+10]=g;p[u+2]=p[u+11]=f;p[u+3]=l;p[u+4]=G;p[u+5]=f;p[u+6]=p[u+12]=l;p[u+7]=p[u+13]=G;p[u+8]=p[u+14]=O;p[u+15]=l;p[u+16]=g;p[u+17]=O;u+=18;0<c&&(p[u]=p[u+9]=P,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=v,p[u+3]=P,p[u+4]=G,p[u+5]=v,p[u+6]=p[u+12]=P,p[u+7]=p[u+13]=G,p[u+8]=p[u+14]=O,p[u+15]=P,p[u+16]=J,p[u+17]=O,u+=18,p[u]=p[u+9]=P,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=v,p[u+3]=P,p[u+4]=J,p[u+5]=O,p[u+6]=p[u+12]=L,p[u+
7]=p[u+13]=J,p[u+8]=p[u+14]=O,p[u+15]=L,p[u+16]=J,p[u+17]=v,u+=18,p[u]=p[u+9]=L,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=O,p[u+3]=L,p[u+4]=G,p[u+5]=O,p[u+6]=p[u+12]=L,p[u+7]=p[u+13]=G,p[u+8]=p[u+14]=v,p[u+15]=L,p[u+16]=J,p[u+17]=v,u+=18,p[u]=p[u+9]=L,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=0,p[u+3]=L,p[u+4]=G,p[u+5]=0,p[u+6]=p[u+12]=L,p[u+7]=p[u+13]=G,p[u+8]=p[u+14]=f,p[u+15]=L,p[u+16]=J,p[u+17]=f,u+=18,p[u]=p[u+9]=L,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=0,p[u+3]=L,p[u+4]=J,p[u+5]=f,p[u+6]=p[u+12]=P,p[u+7]=p[u+13]=J,p[u+
8]=p[u+14]=f,p[u+15]=P,p[u+16]=J,p[u+17]=0,u+=18,p[u]=p[u+9]=P,p[u+1]=p[u+10]=J,p[u+2]=p[u+11]=f,p[u+3]=P,p[u+4]=G,p[u+5]=f,p[u+6]=p[u+12]=P,p[u+7]=p[u+13]=G,p[u+8]=p[u+14]=0,p[u+15]=P,p[u+16]=J,p[u+17]=0)}for(l=0;l<N.length;l++){u=M.length;g=N[l].leafLength;r=0;1<l?r=N[l-1].leafLength+N[l-2].leafLength:0<l&&(r=N[l-1].leafLength);P=E+b;J=d.h-b;O=d.leafWidth-a-c;G=q;H=E+b+g;Q=-a-c;M[w]=M[w+3]=M[w+9]=P;M[w+1]=M[w+10]=M[w+16]=J;M[w+2]=M[w+5]=M[w+11]=O;M[w+4]=M[w+7]=M[w+13]=G;M[w+6]=M[w+12]=M[w+15]=H;
M[w+8]=M[w+14]=M[w+17]=O;F[B]="left"===d.hinge?F[B+2]=F[B+6]=E/h:F[B+2]=F[B+6]=-E/h;F[B+1]=F[B+7]=F[B+11]=1;F[B+3]=F[B+5]=F[B+9]=0;F[B+4]="left"===d.hinge?F[B+8]=F[B+10]=(E+g)/h:F[B+8]=F[B+10]=-(E+g)/h;w+=18;B+=12;M[w]=M[w+3]=M[w+9]=H;M[w+1]=M[w+10]=M[w+16]=J;M[w+2]=M[w+5]=M[w+11]=Q;M[w+4]=M[w+7]=M[w+13]=G;M[w+6]=M[w+12]=M[w+15]=P;M[w+8]=M[w+14]=M[w+17]=Q;F[B]="right"===d.hinge?F[B+2]=F[B+6]=-E/h:F[B+2]=F[B+6]=E/h;F[B+1]=F[B+7]=F[B+11]=1;F[B+3]=F[B+5]=F[B+9]=0;F[B+4]="right"===d.hinge?F[B+8]=F[B+
10]=-(E+g)/h:F[B+8]=F[B+10]=(E+g)/h;w+=18;B+=12;M[w]=M[w+9]=P;M[w+1]=M[w+10]=J;M[w+2]=M[w+11]=Q;M[w+3]=P;M[w+4]=J;M[w+5]=O;M[w+6]=M[w+12]=H;M[w+7]=M[w+13]=J;M[w+8]=M[w+14]=O;M[w+15]=H;M[w+16]=J;M[w+17]=Q;F[B]=F[B+2]=F[B+6]=0;F[B+1]=F[B+7]=F[B+11]=1;F[B+3]=F[B+5]=F[B+9]=0;F[B+4]=F[B+8]=F[B+10]=.05;w+=18;B+=12;M[w]=M[w+9]=H;M[w+1]=M[w+10]=J;M[w+2]=M[w+11]=O;M[w+3]=H;M[w+4]=G;M[w+5]=O;M[w+6]=M[w+12]=H;M[w+7]=M[w+13]=G;M[w+8]=M[w+14]=Q;M[w+15]=H;M[w+16]=J;M[w+17]=Q;F[B]=F[B+2]=F[B+6]=0;F[B+1]=F[B+7]=
F[B+11]=1;F[B+3]=F[B+5]=F[B+9]=0;F[B+4]=F[B+8]=F[B+10]=.05;w+=18;B+=12;M[w]=M[w+9]=P;M[w+1]=M[w+10]=J;M[w+2]=M[w+11]=Q;M[w+3]=P;M[w+4]=G;M[w+5]=Q;M[w+6]=M[w+12]=P;M[w+7]=M[w+13]=G;M[w+8]=M[w+14]=O;M[w+15]=P;M[w+16]=J;M[w+17]=O;F[B]=F[B+2]=F[B+6]=0;F[B+1]=F[B+7]=F[B+11]=1;F[B+3]=F[B+5]=F[B+9]=0;F[B+4]=F[B+8]=F[B+10]=.05;w+=18;B+=12;f=M.length;if(N[l].handle){var t=-a-c;P=E+b+g-.06-.13;J=1;O=t+d.leafWidth+.035+.018*.6;G=.982;H=E+b+g-.06;var x=t+d.leafWidth+.035+.018;Q=t+d.leafWidth+.035;L=E+b+g-.06-
.018;v=t+d.leafWidth;var y=z.length;if("knob"===d.handleType)for(z=z.concat([.025203,-.091811,-1.094472E-8,.025203,-.091811,.007999989,.0265,-.1,.007999988,.0025,-.099188,.007999988,.0025,-.1,.007999988,.0265,-.1,.007999988,.025203,-.091811,-1.094472E-8,.021439,-.084424,-1.006412E-8,.021439,-.084424,.00799999,.015576,-.078561,-9.365201E-9,.015576,-.078561,.007999991,.021439,-.084424,.00799999,.008189,-.074797,-8.916497E-9,.008189,-.074797,.007999991,.015576,-.078561,.007999991,0,-.0735,.007999992,
.008189,-.074797,.007999991,.008189,-.074797,-8.916497E-9,.0025,-.0875,.00799999,.0025,-.092306,.007999989,.008189,-.074797,.007999991,-.008189,-.074797,-8.916497E-9,-.008189,-.074797,.007999991,0,-.0735,.007999992,-.015576,-.078561,.007999991,-.008189,-.074797,.007999991,-.008189,-.074797,-8.916497E-9,-.021439,-.084424,.00799999,-.015576,-.078561,.007999991,-.015576,-.078561,-9.365201E-9,-.025203,-.091811,.007999989,-.021439,-.084424,.00799999,-.021439,-.084424,-1.006412E-8,-.0025,-.098184,.007999988,
-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.025203,-.091811,.007999989,-.025203,-.091811,-1.094472E-8,-.025203,-.108189,.007999987,-.0265,-.1,.007999988,-.0265,-.1,-1.192093E-8,-.021439,-.115576,.007999986,-.025203,-.108189,.007999987,-.025203,-.108189,-1.289713E-8,-.0025,-.101816,.007999988,-.0025,-.100812,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,.007999985,-.021439,-.115576,.007999986,-.021439,-.115576,-1.377773E-8,-.008189,-.125203,.007999985,
-.015576,-.121439,.007999985,-.015576,-.121439,-1.447666E-8,0,-.1265,.007999985,-.008189,-.125203,.007999985,-.008189,-.125203,-1.492536E-8,.008189,-.125203,.007999985,0,-.1265,.007999985,0,-.1265,-1.507997E-8,.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1265,.007999985,.008189,-.125203,.007999985,.0025,-.107694,.007999987,.0025,-.1125,.007999987,.015576,-.121439,.007999985,.008189,-.125203,.007999985,.008189,-.125203,-1.492536E-8,.0025,-.107694,.007999987,.008189,-.125203,.007999985,.015576,-.121439,
.007999985,.021439,-.115576,.007999986,.015576,-.121439,.007999985,.015576,-.121439,-1.447666E-8,.025203,-.108189,.007999987,.021439,-.115576,.007999986,.021439,-.115576,-1.377773E-8,.0265,-.1,.007999988,.025203,-.108189,.007999987,.025203,-.108189,-1.289713E-8,-.021439,-.115576,.007999986,-.015576,-.121439,.007999985,-.0025,-.103441,.007999988,.0025,-.098184,.007999988,.0025,-.099188,.007999988,.025203,-.091811,.007999989,-.0025,-.100812,.007999988,-.0025,-.1,.007999988,-.0265,-.1,.007999988,-.008189,
-.074797,.007999991,-.0025,-.092306,.007999989,-.0025,-.0875,.00799999,-.015576,-.121439,.007999985,-.008189,-.125203,.007999985,-.0025,-.107694,.007999987,-.0025,-.096559,.007999989,-.015576,-.078561,.007999991,-.021439,-.084424,.00799999,-.0265,-.1,.007999988,-.0025,-.1,.007999988,-.0025,-.099188,.007999988,-.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.092306,.007999989,-.008189,-.074797,.007999991,-.015576,-.078561,.007999991,-.0025,-.1125,8.419866E-4,.0025,-.1125,8.419866E-4,
.0025,-.0875,8.419896E-4,0,-.1125,.007999987,.0025,-.1125,.007999987,.0025,-.1125,8.419866E-4,.0025,-.101816,.007999988,.021439,-.115576,.007999986,.025203,-.108189,.007999987,-.0025,-.1125,.007999987,-.0025,-.107694,.007999987,-.008189,-.125203,.007999985,.0025,-.1,.007999988,.0025,-.1125,8.419866E-4,.0025,-.100812,.007999988,-.0025,-.0875,8.419896E-4,-.0025,-.098184,.007999988,-.0025,-.099188,.007999988,.0265,-.1,.007999988,.0025,-.1,.007999988,.0025,-.100812,.007999988,0,-.0875,.00799999,-.0025,
-.0875,.00799999,-.0025,-.0875,8.419896E-4,0,-.1265,.007999985,0,-.1125,.007999987,-.0025,-.1125,.007999987,.0025,-.103441,.007999988,.015576,-.121439,.007999985,.021439,-.115576,.007999986,0,-.0735,.007999992,0,-.0875,.00799999,.0025,-.0875,.00799999,.021439,-.084424,.00799999,.015576,-.078561,.007999991,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.008189,-.074797,.007999991,.0025,-.092306,.007999989,-.010141,.024483,.033,0,.0265,.033,0,.009999997,.033,.0265,-4.53789E-9,.049,.024483,-.010141,
.049,.024483,-.010141,.033,-.010141,-.024483,.033,-.018738,-.018738,.033,-.007071,-.007071002,.033,0,-.0265,.033,0,-.0265,.049,-.010141,-.024483,.049,-.007071,-.007071002,.033,-.018738,-.018738,.033,-.024483,-.010141,.033,-.024483,-.010141,.033,-.0265,-2.630541E-9,.033,-.01,-2.630541E-9,.033,.010141,.024483,.033,.018738,.018738,.033,.007071,.007070998,.033,0,.009999997,.033,0,.0265,.033,.010141,.024483,.033,.018738,.018738,.04900001,0,-4.53789E-9,.049,.024483,.010141,.049,.010141,.024483,.04900001,
0,-4.53789E-9,.049,.018738,.018738,.04900001,.024483,-.010141,.033,.024483,-.010141,.049,.018738,-.018738,.049,-.024483,.010141,.049,-.018738,.018738,.04900001,-.018738,.018738,.033,-.0265,-2.630541E-9,.033,-.0265,-4.53789E-9,.049,-.024483,.010141,.049,.024483,-.010141,.033,.018738,-.018738,.033,.007071,-.007071002,.033,-.018738,-.018738,.049,0,-4.53789E-9,.049,-.024483,-.010141,.049,-.010141,-.024483,.049,0,-4.53789E-9,.049,-.018738,-.018738,.049,0,-.01,.033,0,-.0265,.033,-.010141,-.024483,.033,
0,-.0265,.049,0,-4.53789E-9,.049,-.010141,-.024483,.049,.0265,-4.53789E-9,.049,0,-4.53789E-9,.049,.024483,-.010141,.049,-.024483,.010141,.033,-.007071,.007070998,.033,-.01,-2.630541E-9,.033,.010141,-.024483,.049,0,-.0265,.049,0,-.0265,.033,-.024483,.010141,.033,-.018738,.018738,.033,-.007071,.007070998,.033,-.010141,.024483,.033,0,.009999997,.033,-.007071,.007070998,.033,.010141,-.024483,.049,0,-4.53789E-9,.049,0,-.0265,.049,.024483,.010141,.049,.0265,-4.53789E-9,.049,.0265,-2.630541E-9,.033,.024483,
.010141,.049,0,-4.53789E-9,.049,.0265,-4.53789E-9,.049,.018738,-.018738,.049,.010141,-.024483,.049,.010141,-.024483,.033,.018738,.018738,.033,.018738,.018738,.04900001,.024483,.010141,.049,.018738,-.018738,.049,0,-4.53789E-9,.049,.010141,-.024483,.049,.010141,.024483,.04900001,.018738,.018738,.04900001,.018738,.018738,.033,0,.0265,.04900001,.010141,.024483,.04900001,.010141,.024483,.033,0,.0265,.04900001,0,-4.53789E-9,.049,.010141,.024483,.04900001,.024483,-.010141,.049,0,-4.53789E-9,.049,.018738,
-.018738,.049,-.010141,.024483,.04900001,0,.0265,.04900001,0,.0265,.033,-.010141,.024483,.04900001,0,-4.53789E-9,.049,0,.0265,.04900001,.007071,.007070998,.033,.018738,.018738,.033,.024483,.010141,.033,-.010141,.024483,.033,-.018738,.018738,.033,-.018738,.018738,.04900001,-.018738,.018738,.04900001,0,-4.53789E-9,.049,-.010141,.024483,.04900001,.024483,.010141,.033,.0265,-2.630541E-9,.033,.01,-2.630541E-9,.033,-.024483,.010141,.049,0,-4.53789E-9,.049,-.018738,.018738,.04900001,.01,-2.630541E-9,.033,
.0265,-2.630541E-9,.033,.024483,-.010141,.033,-.0265,-4.53789E-9,.049,0,-4.53789E-9,.049,-.024483,.010141,.049,-.024483,-.010141,.033,-.024483,-.010141,.049,-.0265,-4.53789E-9,.049,-.024483,-.010141,.049,0,-4.53789E-9,.049,-.0265,-4.53789E-9,.049,.007071,-.007071002,.033,.018738,-.018738,.033,.010141,-.024483,.033,-.018738,-.018738,.049,-.024483,-.010141,.049,-.024483,-.010141,.033,.010141,-.024483,.033,0,-.0265,.033,0,-.01,.033,-.010141,-.024483,.049,-.018738,-.018738,.049,-.018738,-.018738,.033,
.025203,.008188999,.008000001,.0265,-9.536744E-10,.008,.0265,0,0,.021439,.015576,.008000002,.025203,.008188999,.008000001,.025203,.008189,9.762049E-10,.007071,.007071001,.008000001,.01,-9.536744E-10,.008,.025203,.008188999,.008000001,.015576,.021439,.008000003,.021439,.015576,.008000002,.021439,.015576,1.856804E-9,.008189,.025203,.008000003,.015576,.021439,.008000003,.015576,.021439,2.555728E-9,0,.0265,.008000003,.008189,.025203,.008000003,.008189,.025203,3.004432E-9,-.008189,.025203,.008000003,0,
.0265,.008000003,0,.0265,3.159046E-9,-.015576,.021439,.008000003,-.008189,.025203,.008000003,-.008189,.025203,3.004432E-9,-.021439,.015576,.008000002,-.015576,.021439,.008000003,-.015576,.021439,2.555728E-9,-.025203,.008188999,.008000001,-.021439,.015576,.008000002,-.021439,.015576,1.856804E-9,-.0265,0,0,-.0265,-9.536744E-10,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.0265,-9.536744E-10,.008,-.0265,0,0,-.021439,-.015576,.007999999,-.025203,-.008189001,.007999999,-.025203,
-.008189,-9.762049E-10,-.015576,-.021439,.007999998,-.021439,-.015576,.007999999,-.021439,-.015576,-1.856804E-9,-.008189,-.025203,.007999998,-.015576,-.021439,.007999998,-.015576,-.021439,-2.555728E-9,0,-.0265,.007999998,-.008189,-.025203,.007999998,-.008189,-.025203,-3.004432E-9,.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.0265,-3.159046E-9,.015576,-.021439,.007999998,.008189,-.025203,.007999998,.008189,-.025203,-3.004432E-9,.021439,-.015576,-1.856804E-9,.021439,-.015576,.007999999,.015576,
-.021439,.007999998,.025203,-.008189001,.007999999,.021439,-.015576,.007999999,.021439,-.015576,-1.856804E-9,.0265,-9.536744E-10,.008,.025203,-.008189001,.007999999,.025203,-.008189,-9.762049E-10,.007071,.007070998,.033,.01,-2.630541E-9,.033,.01,-9.536744E-10,.008,0,.009999997,.033,.007071,.007070998,.033,.007071,.007071001,.008000001,-.007071,.007071,.008,-.007071,.007070998,.033,0,.009999997,.033,-.01,-2.630541E-9,.033,-.007071,.007070998,.033,-.007071,.007071,.008,-.007071,-.007071002,.033,-.01,
-2.630541E-9,.033,-.01,-1.186505E-9,.008,0,-.01,.007999999,0,-.01,.033,-.007071,-.007071002,.033,.007071,-.007071,.007999999,.007071,-.007071002,.033,0,-.01,.033,.01,-9.536744E-10,.008,.01,-2.630541E-9,.033,.007071,-.007071002,.033,.0265,-9.536744E-10,.008,.025203,.008188999,.008000001,.01,-9.536744E-10,.008,.021439,.015576,.008000002,.015576,.021439,.008000003,.007071,.007071001,.008000001,.008189,.025203,.008000003,0,.01,.008000001,.007071,.007071001,.008000001,.008189,.025203,.008000003,0,.0265,
.008000003,0,.01,.008000001,-.008189,.025203,.008000003,-.007071,.007071,.008,0,.01,.008000001,-.008189,.025203,.008000003,-.015576,.021439,.008000003,-.007071,.007071,.008,-.021439,.015576,.008000002,-.007071,.007071,.008,-.015576,.021439,.008000003,-.025203,.008188999,.008000001,-.01,-1.186505E-9,.008,-.007071,.007071,.008,-.0265,-9.536744E-10,.008,-.01,-1.186505E-9,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.007071,-.007071,.007999999,-.01,-1.186505E-9,.008,-.021439,-.015576,
.007999999,-.007071,-.007071,.007999999,-.025203,-.008189001,.007999999,-.021439,-.015576,.007999999,-.015576,-.021439,.007999998,-.007071,-.007071,.007999999,-.008189,-.025203,.007999998,0,-.01,.007999999,-.007071,-.007071,.007999999,-.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.01,.007999999,.008189,-.025203,.007999998,0,-.01,.007999999,0,-.0265,.007999998,.008189,-.025203,.007999998,.015576,-.021439,.007999998,.007071,-.007071,.007999999,.021439,-.015576,.007999999,.007071,-.007071,.007999999,
.015576,-.021439,.007999998,.021439,-.015576,.007999999,.025203,-.008189001,.007999999,.007071,-.007071,.007999999,.01,-9.536744E-10,.008,.007071,-.007071,.007999999,.025203,-.008189001,.007999999,.0265,-.1,-1.192093E-8,.025203,-.091811,-1.094472E-8,.0265,-.1,.007999988,.025203,-.091811,.007999989,.0025,-.099188,.007999988,.0265,-.1,.007999988,.025203,-.091811,.007999989,.025203,-.091811,-1.094472E-8,.021439,-.084424,.00799999,.021439,-.084424,-1.006412E-8,.015576,-.078561,-9.365201E-9,.021439,-.084424,
.00799999,.015576,-.078561,-9.365201E-9,.008189,-.074797,-8.916497E-9,.015576,-.078561,.007999991,0,-.0735,-8.761883E-9,0,-.0735,.007999992,.008189,-.074797,-8.916497E-9,0,-.0735,-8.761883E-9,-.008189,-.074797,-8.916497E-9,0,-.0735,.007999992,-.015576,-.078561,-9.365201E-9,-.015576,-.078561,.007999991,-.008189,-.074797,-8.916497E-9,-.021439,-.084424,-1.006412E-8,-.021439,-.084424,.00799999,-.015576,-.078561,-9.365201E-9,-.025203,-.091811,-1.094472E-8,-.025203,-.091811,.007999989,-.021439,-.084424,
-1.006412E-8,-.0025,-.099188,.007999988,-.0025,-.098184,.007999988,-.025203,-.091811,.007999989,-.0265,-.1,-1.192093E-8,-.0265,-.1,.007999988,-.025203,-.091811,-1.094472E-8,-.025203,-.108189,-1.289713E-8,-.025203,-.108189,.007999987,-.0265,-.1,-1.192093E-8,-.021439,-.115576,-1.377773E-8,-.021439,-.115576,.007999986,-.025203,-.108189,-1.289713E-8,-.021439,-.115576,.007999986,-.0025,-.101816,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,-1.447666E-8,-.015576,-.121439,.007999985,-.021439,
-.115576,-1.377773E-8,-.008189,-.125203,-1.492536E-8,-.008189,-.125203,.007999985,-.015576,-.121439,-1.447666E-8,0,-.1265,-1.507997E-8,0,-.1265,.007999985,-.008189,-.125203,-1.492536E-8,.008189,-.125203,-1.492536E-8,.008189,-.125203,.007999985,0,-.1265,-1.507997E-8,.008189,-.125203,.007999985,.0025,-.1125,.007999987,0,-.1265,.007999985,.015576,-.121439,-1.447666E-8,.015576,-.121439,.007999985,.008189,-.125203,-1.492536E-8,.0025,-.103441,.007999988,.0025,-.107694,.007999987,.015576,-.121439,.007999985,
.021439,-.115576,-1.377773E-8,.021439,-.115576,.007999986,.015576,-.121439,-1.447666E-8,.025203,-.108189,-1.289713E-8,.025203,-.108189,.007999987,.021439,-.115576,-1.377773E-8,.0265,-.1,-1.192093E-8,.0265,-.1,.007999988,.025203,-.108189,-1.289713E-8,-.0025,-.101816,.007999988,-.021439,-.115576,.007999986,-.0025,-.103441,.007999988,.021439,-.084424,.00799999,.0025,-.098184,.007999988,.025203,-.091811,.007999989,-.025203,-.108189,.007999987,-.0025,-.100812,.007999988,-.0265,-.1,.007999988,-.0025,-.103441,
.007999988,-.015576,-.121439,.007999985,-.0025,-.107694,.007999987,-.0025,-.098184,.007999988,-.0025,-.096559,.007999989,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.0025,-.099188,.007999988,-.008189,-.074797,.007999991,-.0025,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.096559,.007999989,-.0025,-.092306,.007999989,-.015576,-.078561,.007999991,-.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,-.0025,-.1125,.007999987,
0,-.1125,.007999987,0,-.1125,.007999987,.0025,-.1125,8.419866E-4,-.0025,-.1125,8.419866E-4,.0025,-.100812,.007999988,.0025,-.101816,.007999988,.025203,-.108189,.007999987,.0025,-.0875,8.419896E-4,.0025,-.096559,.007999989,.0025,-.092306,.007999989,.0025,-.0875,8.419896E-4,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.1125,8.419866E-4,.0025,-.101816,.007999988,.0025,-.100812,.007999988,.0025,-.1125,8.419866E-4,.0025,-.1125,.007999987,.0025,-.107694,.007999987,.0025,-.1125,8.419866E-4,.0025,
-.103441,.007999988,.0025,-.101816,.007999988,.0025,-.092306,.007999989,.0025,-.0875,.00799999,.0025,-.0875,8.419896E-4,.0025,-.0875,8.419896E-4,.0025,-.1125,8.419866E-4,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.096559,.007999989,.0025,-.0875,8.419896E-4,.0025,-.103441,.007999988,.0025,-.1125,8.419866E-4,.0025,-.107694,.007999987,-.0025,-.1,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,-.0025,-.103441,.007999988,-.0025,-.107694,.007999987,-.0025,
-.107694,.007999987,-.0025,-.1125,.007999987,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.0875,.00799999,-.0025,-.092306,.007999989,-.0025,-.0875,8.419896E-4,-.0025,-.096559,.007999989,-.0025,-.098184,.007999988,-.0025,-.0875,8.419896E-4,-.0025,-.099188,.007999988,-.0025,-.1,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.100812,.007999988,-.0025,-.101816,.007999988,-.0025,-.101816,.007999988,-.0025,-.103441,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.092306,
.007999989,-.0025,-.096559,.007999989,-.0025,-.1125,8.419866E-4,-.0025,-.1,.007999988,-.0025,-.100812,.007999988,.025203,-.108189,.007999987,.0265,-.1,.007999988,.0025,-.100812,.007999988,.0025,-.0875,8.419896E-4,.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0875,.00799999,-.0025,-.0875,8.419896E-4,.0025,-.0875,8.419896E-4,-.008189,-.125203,.007999985,0,-.1265,.007999985,-.0025,-.1125,.007999987,.0025,-.101816,.007999988,.0025,-.103441,.007999988,.021439,-.115576,.007999986,.008189,-.074797,.007999991,
0,-.0735,.007999992,.0025,-.0875,.00799999,.0025,-.098184,.007999988,.021439,-.084424,.00799999,.0025,-.096559,.007999989,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.0025,-.092306,.007999989,.0265,-2.630541E-9,.033,.0265,-4.53789E-9,.049,.024483,-.010141,.033,-.010141,-.024483,.033,0,-.0265,.033,-.010141,-.024483,.049,-.01,-2.630541E-9,.033,-.007071,-.007071002,.033,-.024483,-.010141,.033,.007071,.007070998,.033,0,.009999997,.033,.010141,.024483,.033,.018738,-.018738,.033,.024483,-.010141,
.033,.018738,-.018738,.049,-.024483,.010141,.033,-.024483,.010141,.049,-.018738,.018738,.033,-.024483,.010141,.033,-.0265,-2.630541E-9,.033,-.024483,.010141,.049,-.007071,-.007071002,.033,0,-.01,.033,-.010141,-.024483,.033,-.0265,-2.630541E-9,.033,-.024483,.010141,.033,-.01,-2.630541E-9,.033,.010141,-.024483,.033,.010141,-.024483,.049,0,-.0265,.033,-.018738,.018738,.033,-.010141,.024483,.033,-.007071,.007070998,.033,.024483,.010141,.033,.024483,.010141,.049,.0265,-2.630541E-9,.033,.018738,-.018738,
.033,.018738,-.018738,.049,.010141,-.024483,.033,.024483,.010141,.033,.018738,.018738,.033,.024483,.010141,.049,.010141,.024483,.033,.010141,.024483,.04900001,.018738,.018738,.033,0,.0265,.033,0,.0265,.04900001,.010141,.024483,.033,-.010141,.024483,.033,-.010141,.024483,.04900001,0,.0265,.033,.01,-2.630541E-9,.033,.007071,.007070998,.033,.024483,.010141,.033,-.010141,.024483,.04900001,-.010141,.024483,.033,-.018738,.018738,.04900001,.007071,-.007071002,.033,.01,-2.630541E-9,.033,.024483,-.010141,
.033,-.0265,-2.630541E-9,.033,-.024483,-.010141,.033,-.0265,-4.53789E-9,.049,0,-.01,.033,.007071,-.007071002,.033,.010141,-.024483,.033,-.018738,-.018738,.033,-.018738,-.018738,.049,-.024483,-.010141,.033,-.010141,-.024483,.033,-.010141,-.024483,.049,-.018738,-.018738,.033,.025203,.008189,9.762049E-10,.025203,.008188999,.008000001,.0265,0,0,.021439,.015576,1.856804E-9,.021439,.015576,.008000002,.025203,.008189,9.762049E-10,.021439,.015576,.008000002,.007071,.007071001,.008000001,.025203,.008188999,
.008000001,.015576,.021439,2.555728E-9,.015576,.021439,.008000003,.021439,.015576,1.856804E-9,.008189,.025203,3.004432E-9,.008189,.025203,.008000003,.015576,.021439,2.555728E-9,0,.0265,3.159046E-9,0,.0265,.008000003,.008189,.025203,3.004432E-9,-.008189,.025203,3.004432E-9,-.008189,.025203,.008000003,0,.0265,3.159046E-9,-.015576,.021439,2.555728E-9,-.015576,.021439,.008000003,-.008189,.025203,3.004432E-9,-.021439,.015576,1.856804E-9,-.021439,.015576,.008000002,-.015576,.021439,2.555728E-9,-.025203,
.008189,9.762049E-10,-.025203,.008188999,.008000001,-.021439,.015576,1.856804E-9,-.025203,.008189,9.762049E-10,-.0265,0,0,-.025203,.008188999,.008000001,-.025203,-.008189,-9.762049E-10,-.025203,-.008189001,.007999999,-.0265,0,0,-.021439,-.015576,-1.856804E-9,-.021439,-.015576,.007999999,-.025203,-.008189,-9.762049E-10,-.015576,-.021439,-2.555728E-9,-.015576,-.021439,.007999998,-.021439,-.015576,-1.856804E-9,-.008189,-.025203,-3.004432E-9,-.008189,-.025203,.007999998,-.015576,-.021439,-2.555728E-9,
0,-.0265,-3.159046E-9,0,-.0265,.007999998,-.008189,-.025203,-3.004432E-9,.008189,-.025203,-3.004432E-9,.008189,-.025203,.007999998,0,-.0265,-3.159046E-9,.015576,-.021439,-2.555728E-9,.015576,-.021439,.007999998,.008189,-.025203,-3.004432E-9,.015576,-.021439,-2.555728E-9,.021439,-.015576,-1.856804E-9,.015576,-.021439,.007999998,.025203,-.008189,-9.762049E-10,.025203,-.008189001,.007999999,.021439,-.015576,-1.856804E-9,.0265,0,0,.0265,-9.536744E-10,.008,.025203,-.008189,-9.762049E-10,.007071,.007071001,
.008000001,.007071,.007070998,.033,.01,-9.536744E-10,.008,0,.01,.008000001,0,.009999997,.033,.007071,.007071001,.008000001,0,.01,.008000001,-.007071,.007071,.008,0,.009999997,.033,-.01,-1.186505E-9,.008,-.01,-2.630541E-9,.033,-.007071,.007071,.008,-.007071,-.007071,.007999999,-.007071,-.007071002,.033,-.01,-1.186505E-9,.008,-.007071,-.007071,.007999999,0,-.01,.007999999,-.007071,-.007071002,.033,0,-.01,.007999999,.007071,-.007071,.007999999,0,-.01,.033,.007071,-.007071,.007999999,.01,-9.536744E-10,
.008,.007071,-.007071002,.033,.015576,.021439,.008000003,.008189,.025203,.008000003,.007071,.007071001,.008000001,0,.0265,.008000003,-.008189,.025203,.008000003,0,.01,.008000001,-.021439,.015576,.008000002,-.025203,.008188999,.008000001,-.007071,.007071,.008,-.0265,-9.536744E-10,.008,-.025203,-.008189001,.007999999,-.01,-1.186505E-9,.008,-.015576,-.021439,.007999998,-.008189,-.025203,.007999998,-.007071,-.007071,.007999999,0,-.01,.007999999,.008189,-.025203,.007999998,.007071,-.007071,.007999999,
.0265,-9.536744E-10,.008,.01,-9.536744E-10,.008,.025203,-.008189001,.007999999]),t=y;t<z.length-2;t+=3)z[t]+=H,z[t+1]+=J,z[t+2]+=v;else if("round"===d.handleType)for(z=z.concat([-.12,.005877995,.04491,-.12,-5.126E-9,.043,-.12,-6.318092E-9,.053,-.12,.005877995,.04491,-.00809,.005877995,.04491,-.01,-5.126E-9,.043,-.12,.009510994,.04991,-.12,.005877995,.04491,-.12,-6.318092E-9,.053,-.12,.009510993,.05609,-.12,.009510994,.04991,-.12,-6.318092E-9,.053,-.12,.005877993,.06109,-.12,.009510993,.05609,-.12,
-6.318092E-9,.053,-.12,-7.510185E-9,.063,-.12,.005877993,.06109,-.12,-6.318092E-9,.053,-.12,-.005878008,.06109,-.12,-7.510185E-9,.063,-.12,-6.318092E-9,.053,-.12,-7.510185E-9,.063,-.12,-.005878008,.06109,.00809,-.005878008,.06109,-.12,-.009511006,.05609,-.12,-.005878008,.06109,-.12,-6.318092E-9,.053,-.12,-.009511005,.04991,-.12,-.009511006,.05609,-.12,-6.318092E-9,.053,-.12,-.005878005,.04491,-.12,-.009511005,.04991,-.12,-6.318092E-9,.053,-.12,-.009511005,.04991,-.12,-.005878005,.04491,-.00809,-.005878005,
.04491,-.12,-5.126E-9,.043,-.12,-.005878005,.04491,-.12,-6.318092E-9,.053,-.12,-.005878005,.04491,-.12,-5.126E-9,.043,-.01,-5.126E-9,.043,.00809,.005878,.008,.00309,.009511,.008,.00309,.009510993,.05609,.00309,.009511,.008,-.00309,.009511,.008,-.00309,.009510994,.04991,-.00809,.005877995,.04491,-.12,.005877995,.04491,-.12,.009510994,.04991,-.00309,.009510994,.04991,-.12,.009510994,.04991,-.12,.009510993,.05609,.00309,.009510993,.05609,-.12,.009510993,.05609,-.12,.005877993,.06109,.00809,.005877993,
.06109,-.12,.005877993,.06109,-.12,-7.510185E-9,.063,-.12,-.005878008,.06109,-.12,-.009511006,.05609,.00309,-.009511006,.05609,-.12,-.009511006,.05609,-.12,-.009511005,.04991,-.00309,-.009511005,.04991,.01,-1.390709E-10,.007999999,.00809,.005878,.008,.00809,.005877993,.06109,-.00309,.009511,.008,-.00809,.005878,.008,-.00809,.005877995,.04491,-.00809,.005878,.008,-.01,-1.390709E-10,.007999999,-.01,-5.126E-9,.043,-.00309,-.009511005,.04991,-.00309,-.009511,.007999999,.00309,-.009511,.007999999,.025203,
-.091811,-1.094472E-8,.025203,-.091811,.007999989,.0265,-.1,.007999988,.0025,-.099188,.007999988,.0025,-.1,.007999988,.0265,-.1,.007999988,.025203,-.091811,-1.094472E-8,.021439,-.084424,-1.006412E-8,.021439,-.084424,.00799999,.015576,-.078561,-9.365201E-9,.015576,-.078561,.007999991,.021439,-.084424,.00799999,.008189,-.074797,-8.916497E-9,.008189,-.074797,.007999991,.015576,-.078561,.007999991,0,-.0735,.007999992,.008189,-.074797,.007999991,.008189,-.074797,-8.916497E-9,.0025,-.0875,.00799999,.0025,
-.092306,.007999989,.008189,-.074797,.007999991,-.008189,-.074797,-8.916497E-9,-.008189,-.074797,.007999991,0,-.0735,.007999992,-.015576,-.078561,.007999991,-.008189,-.074797,.007999991,-.008189,-.074797,-8.916497E-9,-.021439,-.084424,.00799999,-.015576,-.078561,.007999991,-.015576,-.078561,-9.365201E-9,-.025203,-.091811,.007999989,-.021439,-.084424,.00799999,-.021439,-.084424,-1.006412E-8,-.0025,-.098184,.007999988,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,-.025203,
-.091811,.007999989,-.025203,-.091811,-1.094472E-8,-.025203,-.108189,.007999987,-.0265,-.1,.007999988,-.0265,-.1,-1.192093E-8,-.021439,-.115576,.007999986,-.025203,-.108189,.007999987,-.025203,-.108189,-1.289713E-8,-.0025,-.101816,.007999988,-.0025,-.100812,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,.007999985,-.021439,-.115576,.007999986,-.021439,-.115576,-1.377773E-8,-.008189,-.125203,.007999985,-.015576,-.121439,.007999985,-.015576,-.121439,-1.447666E-8,0,-.1265,.007999985,-.008189,
-.125203,.007999985,-.008189,-.125203,-1.492536E-8,.008189,-.125203,.007999985,0,-.1265,.007999985,0,-.1265,-1.507997E-8,.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1265,.007999985,.008189,-.125203,.007999985,.0025,-.107694,.007999987,.0025,-.1125,.007999987,.015576,-.121439,.007999985,.008189,-.125203,.007999985,.008189,-.125203,-1.492536E-8,.0025,-.107694,.007999987,.008189,-.125203,.007999985,.015576,-.121439,.007999985,.021439,-.115576,.007999986,.015576,-.121439,.007999985,.015576,-.121439,
-1.447666E-8,.025203,-.108189,.007999987,.021439,-.115576,.007999986,.021439,-.115576,-1.377773E-8,.0265,-.1,.007999988,.025203,-.108189,.007999987,.025203,-.108189,-1.289713E-8,-.021439,-.115576,.007999986,-.015576,-.121439,.007999985,-.0025,-.103441,.007999988,.0025,-.098184,.007999988,.0025,-.099188,.007999988,.025203,-.091811,.007999989,-.0025,-.100812,.007999988,-.0025,-.1,.007999988,-.0265,-.1,.007999988,-.008189,-.074797,.007999991,-.0025,-.092306,.007999989,-.0025,-.0875,.00799999,-.015576,
-.121439,.007999985,-.008189,-.125203,.007999985,-.0025,-.107694,.007999987,-.0025,-.096559,.007999989,-.015576,-.078561,.007999991,-.021439,-.084424,.00799999,-.0265,-.1,.007999988,-.0025,-.1,.007999988,-.0025,-.099188,.007999988,-.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.092306,.007999989,-.008189,-.074797,.007999991,-.015576,-.078561,.007999991,-.0025,-.1125,8.419866E-4,.0025,-.1125,8.419866E-4,.0025,-.0875,8.419896E-4,0,-.1125,.007999987,.0025,-.1125,.007999987,.0025,
-.1125,8.419866E-4,.0025,-.101816,.007999988,.021439,-.115576,.007999986,.025203,-.108189,.007999987,-.0025,-.1125,.007999987,-.0025,-.107694,.007999987,-.008189,-.125203,.007999985,.0025,-.1,.007999988,.0025,-.1125,8.419866E-4,.0025,-.100812,.007999988,-.0025,-.0875,8.419896E-4,-.0025,-.098184,.007999988,-.0025,-.099188,.007999988,.0265,-.1,.007999988,.0025,-.1,.007999988,.0025,-.100812,.007999988,0,-.0875,.00799999,-.0025,-.0875,.00799999,-.0025,-.0875,8.419896E-4,0,-.1265,.007999985,0,-.1125,.007999987,
-.0025,-.1125,.007999987,.0025,-.103441,.007999988,.015576,-.121439,.007999985,.021439,-.115576,.007999986,0,-.0735,.007999992,0,-.0875,.00799999,.0025,-.0875,.00799999,.021439,-.084424,.00799999,.015576,-.078561,.007999991,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.008189,-.074797,.007999991,.0025,-.092306,.007999989,.025203,.008188999,.008000001,.0265,-9.536744E-10,.008,.0265,0,0,.021439,.015576,.008000002,.025203,.008188999,.008000001,.025203,.008189,9.762049E-10,.015576,.021439,.008000003,
.021439,.015576,.008000002,.021439,.015576,1.856804E-9,.008189,.025203,.008000003,.015576,.021439,.008000003,.015576,.021439,2.555728E-9,0,.0265,.008000003,.008189,.025203,.008000003,.008189,.025203,3.004432E-9,-.008189,.025203,.008000003,0,.0265,.008000003,0,.0265,3.159046E-9,-.015576,.021439,.008000003,-.008189,.025203,.008000003,-.008189,.025203,3.004432E-9,-.021439,.015576,.008000002,-.015576,.021439,.008000003,-.015576,.021439,2.555728E-9,-.025203,.008188999,.008000001,-.021439,.015576,.008000002,
-.021439,.015576,1.856804E-9,-.0265,0,0,-.0265,-9.536744E-10,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.0265,-9.536744E-10,.008,-.0265,0,0,-.021439,-.015576,.007999999,-.025203,-.008189001,.007999999,-.025203,-.008189,-9.762049E-10,-.00809,-.005878001,.007999999,-.009045,-.002939001,.008,-.025203,-.008189001,.007999999,-.015576,-.021439,.007999998,-.021439,-.015576,.007999999,-.021439,-.015576,-1.856804E-9,-.015576,-.021439,.007999998,-.00559,-.007694001,.007999999,-.00809,
-.005878001,.007999999,-.008189,-.025203,.007999998,-.015576,-.021439,.007999998,-.015576,-.021439,-2.555728E-9,0,-.0265,.007999998,-.008189,-.025203,.007999998,-.008189,-.025203,-3.004432E-9,.008189,-.025203,.007999998,0,-.0265,.007999998,0,-.0265,-3.159046E-9,.015576,-.021439,.007999998,.008189,-.025203,.007999998,.008189,-.025203,-3.004432E-9,.021439,-.015576,-1.856804E-9,.021439,-.015576,.007999999,.015576,-.021439,.007999998,.00809,-.005878001,.007999999,.00559,-.007694001,.007999999,.015576,
-.021439,.007999998,.025203,-.008189001,.007999999,.021439,-.015576,.007999999,.021439,-.015576,-1.856804E-9,.025203,-.008189001,.007999999,.009045,-.002939001,.008,.00809,-.005878001,.007999999,.0265,-9.536744E-10,.008,.025203,-.008189001,.007999999,.025203,-.008189,-9.762049E-10,-.01,-5.126E-9,.043,-.01,-1.390709E-10,.007999999,-.00809,-.005878001,.007999999,-.00809,-.005878005,.04491,-.00809,-.005878001,.007999999,-.00309,-.009511,.007999999,.00309,-.009511006,.05609,.00309,-.009511,.007999999,
.00809,-.005878001,.007999999,.00809,-.005878008,.06109,.00809,-.005878001,.007999999,.01,-1.390709E-10,.007999999,.025203,.008188999,.008000001,.009045,.002938999,.008,.01,-1.390709E-10,.007999999,.00809,.005878,.008,.009045,.002938999,.008,.025203,.008188999,.008000001,.015576,.021439,.008000003,.00559,.007693999,.008000001,.00809,.005878,.008,.00309,.009511,.008,.00559,.007693999,.008000001,.015576,.021439,.008000003,0,.0265,.008000003,0,.009510999,.008000001,.00309,.009511,.008,-.00309,.009511,
.008,0,.009510999,.008000001,0,.0265,.008000003,-.015576,.021439,.008000003,-.00559,.007693999,.008000001,-.00309,.009511,.008,-.00809,.005878,.008,-.00559,.007693999,.008000001,-.015576,.021439,.008000003,-.025203,.008188999,.008000001,-.009045,.002938999,.008,-.00809,.005878,.008,-.01,-1.390709E-10,.007999999,-.009045,.002938999,.008,-.025203,.008188999,.008000001,-.025203,-.008189001,.007999999,-.009045,-.002939001,.008,-.01,-1.390709E-10,.007999999,-.00309,-.009511,.007999999,-.00559,-.007694001,
.007999999,-.015576,-.021439,.007999998,0,-.0265,.007999998,0,-.009511,.007999999,-.00309,-.009511,.007999999,.00309,-.009511,.007999999,0,-.009511,.007999999,0,-.0265,.007999998,.015576,-.021439,.007999998,.00559,-.007694001,.007999999,.00309,-.009511,.007999999,.01,-1.390709E-10,.007999999,.009045,-.002939001,.008,.025203,-.008189001,.007999999,-.12,-5.126E-9,.043,-.12,.005877995,.04491,-.01,-5.126E-9,.043,.01,-7.510185E-9,.063,-.12,-7.510185E-9,.063,.00809,-.005878008,.06109,-.00309,-.009511005,
.04991,-.12,-.009511005,.04991,-.00809,-.005878005,.04491,-.00809,-.005878005,.04491,-.12,-.005878005,.04491,-.01,-5.126E-9,.043,.00809,.005877993,.06109,.00809,.005878,.008,.00309,.009510993,.05609,.00309,.009510993,.05609,.00309,.009511,.008,-.00309,.009510994,.04991,-.00309,.009510994,.04991,-.00809,.005877995,.04491,-.12,.009510994,.04991,.00309,.009510993,.05609,-.00309,.009510994,.04991,-.12,.009510993,.05609,.00809,.005877993,.06109,.00309,.009510993,.05609,-.12,.005877993,.06109,.01,-7.510185E-9,
.063,.00809,.005877993,.06109,-.12,-7.510185E-9,.063,.00809,-.005878008,.06109,-.12,-.005878008,.06109,.00309,-.009511006,.05609,.00309,-.009511006,.05609,-.12,-.009511006,.05609,-.00309,-.009511005,.04991,.01,-7.510185E-9,.063,.01,-1.390709E-10,.007999999,.00809,.005877993,.06109,-.00309,.009510994,.04991,-.00309,.009511,.008,-.00809,.005877995,.04491,-.00809,.005877995,.04491,-.00809,.005878,.008,-.01,-5.126E-9,.043,.00309,-.009511006,.05609,-.00309,-.009511005,.04991,.00309,-.009511,.007999999,
.0265,-.1,-1.192093E-8,.025203,-.091811,-1.094472E-8,.0265,-.1,.007999988,.025203,-.091811,.007999989,.0025,-.099188,.007999988,.0265,-.1,.007999988,.025203,-.091811,.007999989,.025203,-.091811,-1.094472E-8,.021439,-.084424,.00799999,.021439,-.084424,-1.006412E-8,.015576,-.078561,-9.365201E-9,.021439,-.084424,.00799999,.015576,-.078561,-9.365201E-9,.008189,-.074797,-8.916497E-9,.015576,-.078561,.007999991,0,-.0735,-8.761883E-9,0,-.0735,.007999992,.008189,-.074797,-8.916497E-9,0,-.0735,-8.761883E-9,
-.008189,-.074797,-8.916497E-9,0,-.0735,.007999992,-.015576,-.078561,-9.365201E-9,-.015576,-.078561,.007999991,-.008189,-.074797,-8.916497E-9,-.021439,-.084424,-1.006412E-8,-.021439,-.084424,.00799999,-.015576,-.078561,-9.365201E-9,-.025203,-.091811,-1.094472E-8,-.025203,-.091811,.007999989,-.021439,-.084424,-1.006412E-8,-.0025,-.099188,.007999988,-.0025,-.098184,.007999988,-.025203,-.091811,.007999989,-.0265,-.1,-1.192093E-8,-.0265,-.1,.007999988,-.025203,-.091811,-1.094472E-8,-.025203,-.108189,
-1.289713E-8,-.025203,-.108189,.007999987,-.0265,-.1,-1.192093E-8,-.021439,-.115576,-1.377773E-8,-.021439,-.115576,.007999986,-.025203,-.108189,-1.289713E-8,-.021439,-.115576,.007999986,-.0025,-.101816,.007999988,-.025203,-.108189,.007999987,-.015576,-.121439,-1.447666E-8,-.015576,-.121439,.007999985,-.021439,-.115576,-1.377773E-8,-.008189,-.125203,-1.492536E-8,-.008189,-.125203,.007999985,-.015576,-.121439,-1.447666E-8,0,-.1265,-1.507997E-8,0,-.1265,.007999985,-.008189,-.125203,-1.492536E-8,.008189,
-.125203,-1.492536E-8,.008189,-.125203,.007999985,0,-.1265,-1.507997E-8,.008189,-.125203,.007999985,.0025,-.1125,.007999987,0,-.1265,.007999985,.015576,-.121439,-1.447666E-8,.015576,-.121439,.007999985,.008189,-.125203,-1.492536E-8,.0025,-.103441,.007999988,.0025,-.107694,.007999987,.015576,-.121439,.007999985,.021439,-.115576,-1.377773E-8,.021439,-.115576,.007999986,.015576,-.121439,-1.447666E-8,.025203,-.108189,-1.289713E-8,.025203,-.108189,.007999987,.021439,-.115576,-1.377773E-8,.0265,-.1,-1.192093E-8,
.0265,-.1,.007999988,.025203,-.108189,-1.289713E-8,-.0025,-.101816,.007999988,-.021439,-.115576,.007999986,-.0025,-.103441,.007999988,.021439,-.084424,.00799999,.0025,-.098184,.007999988,.025203,-.091811,.007999989,-.025203,-.108189,.007999987,-.0025,-.100812,.007999988,-.0265,-.1,.007999988,-.0025,-.103441,.007999988,-.015576,-.121439,.007999985,-.0025,-.107694,.007999987,-.0025,-.098184,.007999988,-.0025,-.096559,.007999989,-.021439,-.084424,.00799999,-.025203,-.091811,.007999989,-.0265,-.1,.007999988,
-.0025,-.099188,.007999988,-.008189,-.074797,.007999991,-.0025,-.0875,.00799999,0,-.0735,.007999992,-.0025,-.096559,.007999989,-.0025,-.092306,.007999989,-.015576,-.078561,.007999991,-.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,-.0025,-.1125,.007999987,0,-.1125,.007999987,0,-.1125,.007999987,.0025,-.1125,8.419866E-4,-.0025,-.1125,8.419866E-4,.0025,-.100812,.007999988,.0025,-.101816,.007999988,.025203,-.108189,.007999987,.0025,-.0875,8.419896E-4,
.0025,-.096559,.007999989,.0025,-.092306,.007999989,.0025,-.0875,8.419896E-4,.0025,-.1,.007999988,.0025,-.098184,.007999988,.0025,-.1125,8.419866E-4,.0025,-.101816,.007999988,.0025,-.100812,.007999988,.0025,-.1125,8.419866E-4,.0025,-.1125,.007999987,.0025,-.107694,.007999987,.0025,-.1125,8.419866E-4,.0025,-.103441,.007999988,.0025,-.101816,.007999988,.0025,-.092306,.007999989,.0025,-.0875,.00799999,.0025,-.0875,8.419896E-4,.0025,-.0875,8.419896E-4,.0025,-.1125,8.419866E-4,.0025,-.1,.007999988,.0025,
-.098184,.007999988,.0025,-.096559,.007999989,.0025,-.0875,8.419896E-4,.0025,-.103441,.007999988,.0025,-.1125,8.419866E-4,.0025,-.107694,.007999987,-.0025,-.1,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.1125,8.419866E-4,-.0025,-.103441,.007999988,-.0025,-.107694,.007999987,-.0025,-.107694,.007999987,-.0025,-.1125,.007999987,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.0875,.00799999,-.0025,-.092306,.007999989,-.0025,-.0875,8.419896E-4,-.0025,-.096559,.007999989,
-.0025,-.098184,.007999988,-.0025,-.0875,8.419896E-4,-.0025,-.099188,.007999988,-.0025,-.1,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.100812,.007999988,-.0025,-.101816,.007999988,-.0025,-.101816,.007999988,-.0025,-.103441,.007999988,-.0025,-.1125,8.419866E-4,-.0025,-.0875,8.419896E-4,-.0025,-.092306,.007999989,-.0025,-.096559,.007999989,-.0025,-.1125,8.419866E-4,-.0025,-.1,.007999988,-.0025,-.100812,.007999988,.025203,-.108189,.007999987,.0265,-.1,.007999988,.0025,-.100812,.007999988,.0025,-.0875,
8.419896E-4,.0025,-.0875,.00799999,0,-.0875,.00799999,0,-.0875,.00799999,-.0025,-.0875,8.419896E-4,.0025,-.0875,8.419896E-4,-.008189,-.125203,.007999985,0,-.1265,.007999985,-.0025,-.1125,.007999987,.0025,-.101816,.007999988,.0025,-.103441,.007999988,.021439,-.115576,.007999986,.008189,-.074797,.007999991,0,-.0735,.007999992,.0025,-.0875,.00799999,.0025,-.098184,.007999988,.021439,-.084424,.00799999,.0025,-.096559,.007999989,.0025,-.096559,.007999989,.015576,-.078561,.007999991,.0025,-.092306,.007999989,
.025203,.008189,9.762049E-10,.025203,.008188999,.008000001,.0265,0,0,.021439,.015576,1.856804E-9,.021439,.015576,.008000002,.025203,.008189,9.762049E-10,.015576,.021439,2.555728E-9,.015576,.021439,.008000003,.021439,.015576,1.856804E-9,.008189,.025203,3.004432E-9,.008189,.025203,.008000003,.015576,.021439,2.555728E-9,0,.0265,3.159046E-9,0,.0265,.008000003,.008189,.025203,3.004432E-9,-.008189,.025203,3.004432E-9,-.008189,.025203,.008000003,0,.0265,3.159046E-9,-.015576,.021439,2.555728E-9,-.015576,
.021439,.008000003,-.008189,.025203,3.004432E-9,-.021439,.015576,1.856804E-9,-.021439,.015576,.008000002,-.015576,.021439,2.555728E-9,-.025203,.008189,9.762049E-10,-.025203,.008188999,.008000001,-.021439,.015576,1.856804E-9,-.025203,.008189,9.762049E-10,-.0265,0,0,-.025203,.008188999,.008000001,-.025203,-.008189,-9.762049E-10,-.025203,-.008189001,.007999999,-.0265,0,0,-.021439,-.015576,-1.856804E-9,-.021439,-.015576,.007999999,-.025203,-.008189,-9.762049E-10,-.021439,-.015576,.007999999,-.00809,-.005878001,
.007999999,-.025203,-.008189001,.007999999,-.015576,-.021439,-2.555728E-9,-.015576,-.021439,.007999998,-.021439,-.015576,-1.856804E-9,-.021439,-.015576,.007999999,-.015576,-.021439,.007999998,-.00809,-.005878001,.007999999,-.008189,-.025203,-3.004432E-9,-.008189,-.025203,.007999998,-.015576,-.021439,-2.555728E-9,0,-.0265,-3.159046E-9,0,-.0265,.007999998,-.008189,-.025203,-3.004432E-9,.008189,-.025203,-3.004432E-9,.008189,-.025203,.007999998,0,-.0265,-3.159046E-9,.015576,-.021439,-2.555728E-9,.015576,
-.021439,.007999998,.008189,-.025203,-3.004432E-9,.015576,-.021439,-2.555728E-9,.021439,-.015576,-1.856804E-9,.015576,-.021439,.007999998,.021439,-.015576,.007999999,.00809,-.005878001,.007999999,.015576,-.021439,.007999998,.025203,-.008189,-9.762049E-10,.025203,-.008189001,.007999999,.021439,-.015576,-1.856804E-9,.021439,-.015576,.007999999,.025203,-.008189001,.007999999,.00809,-.005878001,.007999999,.0265,0,0,.0265,-9.536744E-10,.008,.025203,-.008189,-9.762049E-10,-.00809,-.005878005,.04491,-.01,
-5.126E-9,.043,-.00809,-.005878001,.007999999,-.00309,-.009511005,.04991,-.00809,-.005878005,.04491,-.00309,-.009511,.007999999,.00809,-.005878008,.06109,.00309,-.009511006,.05609,.00809,-.005878001,.007999999,.01,-7.510185E-9,.063,.00809,-.005878008,.06109,.01,-1.390709E-10,.007999999,.0265,-9.536744E-10,.008,.025203,.008188999,.008000001,.01,-1.390709E-10,.007999999,.021439,.015576,.008000002,.00809,.005878,.008,.025203,.008188999,.008000001,.021439,.015576,.008000002,.015576,.021439,.008000003,
.00809,.005878,.008,.008189,.025203,.008000003,.00309,.009511,.008,.015576,.021439,.008000003,.008189,.025203,.008000003,0,.0265,.008000003,.00309,.009511,.008,-.008189,.025203,.008000003,-.00309,.009511,.008,0,.0265,.008000003,-.008189,.025203,.008000003,-.015576,.021439,.008000003,-.00309,.009511,.008,-.021439,.015576,.008000002,-.00809,.005878,.008,-.015576,.021439,.008000003,-.021439,.015576,.008000002,-.025203,.008188999,.008000001,-.00809,.005878,.008,-.0265,-9.536744E-10,.008,-.01,-1.390709E-10,
.007999999,-.025203,.008188999,.008000001,-.0265,-9.536744E-10,.008,-.025203,-.008189001,.007999999,-.01,-1.390709E-10,.007999999,-.008189,-.025203,.007999998,-.00309,-.009511,.007999999,-.015576,-.021439,.007999998,-.008189,-.025203,.007999998,0,-.0265,.007999998,-.00309,-.009511,.007999999,.008189,-.025203,.007999998,.00309,-.009511,.007999999,0,-.0265,.007999998,.008189,-.025203,.007999998,.015576,-.021439,.007999998,.00309,-.009511,.007999999,.0265,-9.536744E-10,.008,.01,-1.390709E-10,.007999999,
.025203,-.008189001,.007999999]),t=y;t<z.length-2;t+=3)z[t]+=H,z[t+1]+=J,z[t+2]+=v;else if("classic"===d.handleType)for(z=z.concat([-.019075,.060079,.002000007,-.02,.06,.002000007,-.019047,-.120065,.001999986,.016353,-.121573,-1.449263E-8,.016978,-.121042,-1.442933E-8,.016978,-.121042,.001999986,-.02,-.12,.001999986,-.019047,-.120065,.001999986,-.02,.06,.002000007,.015764,-.122191,.001999985,.015764,-.122191,-1.45663E-8,.016353,-.121573,-1.449263E-8,.014929,-.123252,-1.469278E-8,.015764,-.122191,
-1.45663E-8,.015764,-.122191,.001999985,-.018231,.060289,.002000007,-.019075,.060079,.002000007,.019137,.060079,.002000007,.002936,-.134721,.001999984,.007464,-.132813,.001999984,.008788,-.131752,.001999984,.0015,-.077781,.001999991,.019137,.060079,.002000007,-.019075,.060079,.002000007,-.018604,-.120148,.001999986,-.0015,-.097781,.001999988,-.0015,-.077781,.001999991,-.018604,-.120148,.001999986,.019149,-.120075,.001999986,.0015,-.097781,.001999988,.0015,-.077781,.001999991,.0015,-.097781,.001999988,
.019149,-.120075,.001999986,0,-.135,.001999984,.009953,-.130562,.001999984,-.010391,-.129722,.001999985,-.017458,.060619,.002000007,-.018231,.060289,.002000007,.018344,.060288,.002000007,.001531,-.134926,.001999984,.008788,-.131752,.001999984,.009953,-.130562,.001999984,-.016747,.061058,.002000007,-.017458,.060619,.002000007,.017614,.060617,.002000007,.009953,-.130562,.001999984,.014929,-.123252,.001999985,-.011868,-.127496,.001999985,-.016089,.061593,.002000008,-.016747,.061058,.002000007,.016937,
.061053,.002000007,.014929,-.123252,.001999985,.015764,-.122191,.001999985,-.014802,-.122855,.001999985,-.015475,.062214,.002000008,-.016089,.061593,.002000008,.016304,.061587,.002000008,.015764,-.122191,.001999985,.016353,-.121573,.001999986,-.015686,-.121844,.001999986,-.014617,.063281,.002000008,-.015475,.062214,.002000008,.015421,.062543,.002000008,-.007335,.072848,.002000009,-.008209,.072159,.002000009,-.004169,.074417,.002000009,-.005324,.073988,.002000009,-.006376,.073461,.002000009,-.007335,
.072848,.002000009,.009953,-.130562,-1.55642E-8,.014929,-.123252,-1.469278E-8,.014929,-.123252,.001999985,.016978,-.121042,.001999986,.017646,-.120607,.001999986,-.017021,-.120787,.001999986,.016353,-.121573,.001999986,.016978,-.121042,.001999986,-.016327,-.121269,.001999986,-.009384,.071011,.002000008,-.014617,.063281,.002000008,.012136,.067516,.002000008,.009512,.070979,.002000008,0,.075,.002000009,-.009384,.071011,.002000008,-.008209,.072159,.002000009,-.009384,.071011,.002000008,-.002903,.074736,
.002000009,-.001517,.074934,.002000009,-.002903,.074736,.002000009,-.009384,.071011,.002000008,.001519,.074926,.002000009,0,.075,.002000009,.009512,.070979,.002000008,.002913,.074722,.002000009,.001519,.074926,.002000009,.008304,.072129,.002000009,.017646,-.120607,.001999986,.018367,-.120281,.001999986,-.017776,-.120409,.001999986,.007408,.072818,.002000009,.00536,.073964,.002000009,.004191,.074397,.002000009,.007408,.072818,.002000009,.00643,.073434,.002000009,.00536,.073964,.002000009,-.018604,
-.120148,.001999986,-.017776,-.120409,.001999986,.018367,-.120281,.001999986,.02,.06,.002000007,.019137,.060079,.002000007,.019149,-.120075,.001999986,.005401,-.133961,.001999984,.006479,-.13343,.001999984,.007464,-.132813,.001999984,.008788,-.131752,-1.570606E-8,.009953,-.130562,-1.55642E-8,.009953,-.130562,.001999984,.004223,-.134395,.001999984,.005401,-.133961,.001999984,.007464,-.132813,.001999984,-.001527,-.134934,.001999984,0,-.135,.001999984,-.009371,-.130983,.001999984,-.00821,-.132139,.001999984,
-.004188,-.134412,.001999984,-.002919,-.134734,.001999984,.007464,-.132813,-1.583254E-8,.008788,-.131752,-1.570606E-8,.008788,-.131752,.001999984,-.007343,-.132832,.001999984,-.005342,-.13398,.001999984,-.004188,-.134412,.001999984,.006479,-.13343,-1.59061E-8,.007464,-.132813,-1.583254E-8,.007464,-.132813,.001999984,-.007343,-.132832,.001999984,-.00639,-.13345,.001999984,-.005342,-.13398,.001999984,.005401,-.133961,.001999984,.005401,-.133961,-1.59694E-8,.006479,-.13343,-1.59061E-8,.004223,-.134395,
-1.602113E-8,.005401,-.133961,-1.59694E-8,.005401,-.133961,.001999984,.002936,-.134721,-1.605999E-8,.004223,-.134395,-1.602113E-8,.004223,-.134395,.001999984,.001531,-.134926,-1.608443E-8,.002936,-.134721,-1.605999E-8,.002936,-.134721,.001999984,0,-.135,-1.609325E-8,.001531,-.134926,-1.608443E-8,.001531,-.134926,.001999984,-.001527,-.134934,-1.608539E-8,0,-.135,-1.609325E-8,0,-.135,.001999984,-.002919,-.134734,-1.606154E-8,-.001527,-.134934,-1.608539E-8,-.001527,-.134934,.001999984,-.004188,-.134412,
-1.602316E-8,-.002919,-.134734,-1.606154E-8,-.002919,-.134734,.001999984,-.005342,-.13398,-1.597166E-8,-.004188,-.134412,-1.602316E-8,-.004188,-.134412,.001999984,-.00639,-.13345,-1.590848E-8,-.005342,-.13398,-1.597166E-8,-.005342,-.13398,.001999984,-.007343,-.132832,-1.583481E-8,-.00639,-.13345,-1.590848E-8,-.00639,-.13345,.001999984,-.00821,-.132139,-1.57522E-8,-.007343,-.132832,-1.583481E-8,-.007343,-.132832,.001999984,-.009371,-.130983,-1.561439E-8,-.00821,-.132139,-1.57522E-8,-.00821,-.132139,
.001999984,-.010391,-.129722,-1.546407E-8,-.009371,-.130983,-1.561439E-8,-.009371,-.130983,.001999984,-.011868,-.127496,-1.519871E-8,-.010391,-.129722,-1.546407E-8,-.010391,-.129722,.001999985,-.014802,-.122855,-1.464546E-8,-.011868,-.127496,-1.519871E-8,-.011868,-.127496,.001999985,-.015686,-.121844,-1.452494E-8,-.014802,-.122855,-1.464546E-8,-.014802,-.122855,.001999985,-.016327,-.121269,-1.445639E-8,-.015686,-.121844,-1.452494E-8,-.015686,-.121844,.001999986,-.017021,-.120787,-1.439893E-8,-.016327,
-.121269,-1.445639E-8,-.016327,-.121269,.001999986,-.017776,-.120409,-1.435387E-8,-.017021,-.120787,-1.439893E-8,-.017021,-.120787,.001999986,-.018604,-.120148,-1.432276E-8,-.017776,-.120409,-1.435387E-8,-.017776,-.120409,.001999986,-.018604,-.120148,-1.432276E-8,-.018604,-.120148,.001999986,-.019047,-.120065,.001999986,-.02,-.12,-1.430511E-8,-.019047,-.120065,-1.431286E-8,-.019047,-.120065,.001999986,-.02,.06,7.152557E-9,-.02,-.12,-1.430511E-8,-.02,-.12,.001999986,-.019075,.060079,7.161975E-9,-.02,
.06,7.152557E-9,-.02,.06,.002000007,-.018231,.060289,7.187009E-9,-.019075,.060079,7.161975E-9,-.019075,.060079,.002000007,-.017458,.060619,7.226348E-9,-.018231,.060289,7.187009E-9,-.018231,.060289,.002000007,-.016747,.061058,7.278681E-9,-.017458,.060619,7.226348E-9,-.017458,.060619,.002000007,-.016089,.061593,7.342458E-9,-.016747,.061058,7.278681E-9,-.016747,.061058,.002000007,-.015475,.062214,7.416487E-9,-.016089,.061593,7.342458E-9,-.016089,.061593,.002000008,-.014617,.063281,7.543683E-9,-.015475,
.062214,7.416487E-9,-.015475,.062214,.002000008,-.009384,.071011,8.465171E-9,-.014617,.063281,7.543683E-9,-.014617,.063281,.002000008,-.008209,.072159,8.602023E-9,-.009384,.071011,8.465171E-9,-.009384,.071011,.002000008,-.007335,.072848,8.684158E-9,-.008209,.072159,8.602023E-9,-.008209,.072159,.002000009,-.006376,.073461,8.757234E-9,-.007335,.072848,8.684158E-9,-.007335,.072848,.002000009,-.005324,.073988,8.820057E-9,-.006376,.073461,8.757234E-9,-.006376,.073461,.002000009,-.004169,.074417,8.871198E-9,
-.005324,.073988,8.820057E-9,-.005324,.073988,.002000009,-.002903,.074736,8.909225E-9,-.004169,.074417,8.871198E-9,-.004169,.074417,.002000009,-.001517,.074934,8.932829E-9,-.002903,.074736,8.909225E-9,-.002903,.074736,.002000009,0,.075,8.940697E-9,-.001517,.074934,8.932829E-9,-.001517,.074934,.002000009,.001519,.074926,8.931875E-9,0,.075,8.940697E-9,0,.075,.002000009,.002913,.074722,8.907556E-9,.001519,.074926,8.931875E-9,.001519,.074926,.002000009,.004191,.074397,8.868813E-9,.002913,.074722,8.907556E-9,
.002913,.074722,.002000009,.00536,.073964,8.817196E-9,.004191,.074397,8.868813E-9,.004191,.074397,.002000009,.00643,.073434,8.754015E-9,.00536,.073964,8.817196E-9,.00536,.073964,.002000009,.007408,.072818,.002000009,.007408,.072818,8.680582E-9,.00643,.073434,8.754015E-9,.008304,.072129,8.598447E-9,.007408,.072818,8.680582E-9,.007408,.072818,.002000009,.009512,.070979,.002000008,.009512,.070979,8.461356E-9,.008304,.072129,8.598447E-9,.010582,.069727,8.312107E-9,.009512,.070979,8.461356E-9,.009512,
.070979,.002000008,.012136,.067516,8.048534E-9,.010582,.069727,8.312107E-9,.010582,.069727,.002000008,.015421,.062543,.002000008,.015421,.062543,7.455706E-9,.012136,.067516,8.048534E-9,.016304,.061587,7.341742E-9,.015421,.062543,7.455706E-9,.015421,.062543,.002000008,.016937,.061053,.002000007,.016937,.061053,7.278085E-9,.016304,.061587,7.341742E-9,.017614,.060617,7.226109E-9,.016937,.061053,7.278085E-9,.016937,.061053,.002000007,.018344,.060288,7.18689E-9,.017614,.060617,7.226109E-9,.017614,.060617,
.002000007,.019137,.060079,7.161975E-9,.018344,.060288,7.18689E-9,.018344,.060288,.002000007,.02,.06,7.152557E-9,.019137,.060079,7.161975E-9,.019137,.060079,.002000007,.02,-.12,-1.430511E-8,.02,.06,7.152557E-9,.02,.06,.002000007,.019149,-.120075,-1.431406E-8,.02,-.12,-1.430511E-8,.02,-.12,.001999986,.018367,-.120281,.001999986,.018367,-.120281,-1.433861E-8,.019149,-.120075,-1.431406E-8,.017646,-.120607,-1.437748E-8,.018367,-.120281,-1.433861E-8,.018367,-.120281,.001999986,.016978,-.121042,-1.442933E-8,
.017646,-.120607,-1.437748E-8,.017646,-.120607,.001999986,.0015,-.097781,.001999988,.0015,-.077781,.001999991,.0015,-.077781,2.859907E-4,-.0015,-.097781,2.859883E-4,.0015,-.097781,2.859883E-4,.0015,-.077781,2.859907E-4,-.0015,-.077781,.001999991,-.0015,-.097781,.001999988,-.0015,-.097781,2.859883E-4,.0015,-.077781,.001999991,-.0015,-.077781,.001999991,-.0015,-.077781,2.859907E-4,-.0015,-.097781,.001999988,.0015,-.097781,.001999988,.0015,-.097781,2.859883E-4,-.117827,.01488799,.05,-.13022,.01067999,
.05,-.12806,.006308994,.05,-.099274,.01439299,.05,-.099431,.01943799,.05,-.117827,.01488799,.05,-.014557,.006875994,.05,-.013731,.006550996,.03,-.025779,.01158599,.05,-.117827,.014888,.03,-.13022,.01068,.03,-.13022,.01067999,.05,-.084271,.016682,.05,-.083361,.02189199,.05,-.099431,.01943799,.05,-.004666,.011094,.03,-.010367,.007194996,.03,-.006544,.01007999,.05,-.07202,.022593,.05,-.083361,.02189199,.05,-.084271,.016682,.05,-.001836,-.011942,.03,.003453,-.011674,.03,.002058,-.01196301,.05,-.041427,
.017156,.03,-.036433,.009406996,.03,-.046802,.013694,.03,-.028133,.004891996,.03,-.019128,-.001211004,.03,-.025827,.003515994,.05,-.025779,.011586,.03,-.028133,.004891996,.03,-.036433,.009406996,.03,-.116398,.01016199,.05,-.099274,.01439299,.05,-.117827,.01488799,.05,-.002725,-.01174801,.05,-.006544,.01007999,.05,-.008287,-.009412006,.05,-.061504,.017023,.05,-.063789,.02212399,.05,-.07202,.022593,.05,-.05451,.020603,.03,-.066857,.022477,.03,-.063789,.02212399,.05,-.061504,.017023,.05,-.05451,.02060299,
.05,-.063789,.02212399,.05,-.099274,.01439299,.05,-.099274,.014393,.03,-.084271,.016682,.05,-.041427,.01715599,.05,-.05451,.02060299,.05,-.048108,.01411699,.05,.00138,.012095,.03,-.004666,.011094,.03,-.001142,.01205599,.05,-.061504,.017023,.05,-.048108,.01411699,.05,-.05451,.02060299,.05,-.084271,.016682,.03,-.071009,.017476,.03,-.071009,.01747599,.05,-.025779,.011586,.03,-.013731,.006550996,.03,-.028133,.004891996,.03,-.025779,.01158599,.05,-.041427,.01715599,.05,-.036433,.009406994,.05,.008867,
.008342994,.05,.008705,.008682996,.03,.004144,.01134299,.05,-.048108,.01411699,.05,-.036433,.009406994,.05,-.041427,.01715599,.05,.002058,-.01196301,.05,.011654,-.003769006,.05,-.002725,-.01174801,.05,-.014557,.006875994,.05,-.025779,.01158599,.05,-.025827,.003515994,.05,-.061504,.017023,.05,-.060622,.016912,.03,-.048108,.01411699,.05,-.041427,.017156,.03,-.025779,.011586,.03,-.036433,.009406996,.03,-.05451,.020603,.03,-.060622,.016912,.03,-.066857,.022477,.03,-.010367,.007194996,.03,-.013731,.006550996,
.03,-.011039,.006736994,.05,-.025827,.003515994,.05,-.011039,.006736994,.05,-.014557,.006875994,.05,-.099431,.01943799,.05,-.099431,.019438,.03,-.117827,.01488799,.05,-.084271,.016682,.05,-.084271,.016682,.03,-.071009,.01747599,.05,-.041427,.01715599,.05,-.041427,.017156,.03,-.05451,.02060299,.05,-.05451,.02060299,.05,-.05451,.020603,.03,-.063789,.02212399,.05,.011705,.003085994,.05,.004144,.01134299,.05,.011654,-.003769006,.05,-.036433,.009406994,.05,-.036433,.009406996,.03,-.025827,.003515994,.05,
-.008287,-.009412006,.05,-.006544,.01007999,.05,-.011039,.006736994,.05,.008705,.008682996,.03,.00138,.012095,.03,.004144,.01134299,.05,-.011039,.006736994,.05,-.013731,.006550996,.03,-.014557,.006875994,.05,-.013731,.006550996,.03,-.019128,-.001211004,.03,-.028133,.004891996,.03,.004144,.01134299,.05,.00138,.012095,.03,-.001142,.01205599,.05,-.099274,.01439299,.05,-.084271,.016682,.05,-.099431,.01943799,.05,-.025827,.003515994,.05,-.025779,.01158599,.05,-.036433,.009406994,.05,-.081659,.022124,.03,
-.099431,.019438,.03,-.099431,.01943799,.05,-.002725,-.01174801,.05,.011654,-.003769006,.05,-.006544,.01007999,.05,-.099274,.014393,.03,-.084271,.016682,.03,-.084271,.016682,.05,-.13022,.01068,.03,-.12806,.006308996,.03,-.12806,.006308994,.05,-.013731,.006550996,.03,-.025779,.011586,.03,-.025779,.01158599,.05,-.081659,.022124,.03,-.084271,.016682,.03,-.099431,.019438,.03,-.025827,.003515994,.05,-.008287,-.009412006,.05,-.011039,.006736994,.05,-.019128,-.001211004,.03,-.007621,-.009812004,.03,-.008287,
-.009412006,.05,-.025827,.003515994,.05,-.019128,-.001211004,.03,-.008287,-.009412006,.05,-.071009,.01747599,.05,-.07202,.022593,.05,-.084271,.016682,.05,-.063789,.02212399,.05,-.066857,.022477,.03,-.07202,.022593,.05,-.07202,.022593,.05,-.081659,.022124,.03,-.083361,.02189199,.05,.004144,.01134299,.05,-.001142,.01205599,.05,.011654,-.003769006,.05,-.116398,.010162,.03,-.099274,.014393,.03,-.099274,.01439299,.05,-.116398,.01016199,.05,-.117827,.01488799,.05,-.12806,.006308994,.05,-.002725,-.01174801,
.05,-.001836,-.011942,.03,.002058,-.01196301,.05,.008867,.008342994,.05,.004144,.01134299,.05,.011705,.003085994,.05,-.071009,.01747599,.05,-.061504,.017023,.05,-.07202,.022593,.05,-.048108,.01411699,.05,-.046802,.013694,.03,-.036433,.009406994,.05,-.025779,.01158599,.05,-.025779,.011586,.03,-.041427,.01715599,.05,-.099431,.019438,.03,-.117827,.014888,.03,-.117827,.01488799,.05,-.066857,.022477,.03,-.081659,.022124,.03,-.07202,.022593,.05,-.099431,.019438,.03,-.099274,.014393,.03,-.117827,.014888,
.03,-.117827,.01488799,.05,-.117827,.014888,.03,-.13022,.01067999,.05,-.116398,.01016199,.05,-.116398,.010162,.03,-.099274,.01439299,.05,-.041427,.017156,.03,-.05451,.020603,.03,-.05451,.02060299,.05,-.006544,.01007999,.05,-.010367,.007194996,.03,-.011039,.006736994,.05,-.025779,.011586,.03,-.041427,.017156,.03,-.041427,.01715599,.05,-.12806,.006308996,.03,-.116398,.010162,.03,-.116398,.01016199,.05,-.13022,.01067999,.05,-.13022,.01068,.03,-.12806,.006308994,.05,-.007621,-.009812004,.03,-.019128,
-.001211004,.03,-.013731,.006550996,.03,-.05451,.020603,.03,-.046802,.013694,.03,-.060622,.016912,.03,.002058,-.01196301,.05,.003453,-.011674,.03,.007522,-.009724005,.05,-.046802,.013694,.03,-.036433,.009406996,.03,-.036433,.009406994,.05,.012011,.001776996,.03,.008705,.008682996,.03,.011705,.003085994,.05,-.060622,.016912,.03,-.046802,.013694,.03,-.048108,.01411699,.05,-.071009,.017476,.03,-.060622,.016912,.03,-.061504,.017023,.05,-.001142,.01205599,.05,-.006544,.01007999,.05,.011654,-.003769006,
.05,.011654,-.003769006,.05,.012011,.001776996,.03,.011705,.003085994,.05,-.008287,-.009412006,.05,-.007621,-.009812004,.03,-.002725,-.01174801,.05,-.071009,.01747599,.05,-.071009,.017476,.03,-.061504,.017023,.05,-.001142,.01205599,.05,-.004666,.011094,.03,-.006544,.01007999,.05,-.05451,.020603,.03,-.041427,.017156,.03,-.046802,.013694,.03,.011131,-.005043004,.03,.012011,.001776996,.03,.011654,-.003769006,.05,.007522,-.009724005,.05,.011654,-.003769006,.05,.002058,-.01196301,.05,.003453,-.011674,
.03,.007132,-.009824004,.03,.007522,-.009724005,.05,-.116398,.010162,.03,-.12806,.006308996,.03,-.117827,.014888,.03,-.099274,.014393,.03,-.116398,.010162,.03,-.117827,.014888,.03,-.12806,.006308996,.03,-.13022,.01068,.03,-.117827,.014888,.03,-.084271,.016682,.03,-.099274,.014393,.03,-.099431,.019438,.03,-.081659,.022124,.03,-.071009,.017476,.03,-.084271,.016682,.03,-.083361,.02189199,.05,-.081659,.022124,.03,-.099431,.01943799,.05,-.060622,.016912,.03,-.071009,.017476,.03,-.066857,.022477,.03,.011705,
.003085994,.05,.008705,.008682996,.03,.008867,.008342994,.05,.007132,-.009824004,.03,.011131,-.005043004,.03,.007522,-.009724005,.05,-.081659,.022124,.03,-.066857,.022477,.03,-.071009,.017476,.03,-.036433,.009406996,.03,-.028133,.004891996,.03,-.025827,.003515994,.05,-.12806,.006308994,.05,-.12806,.006308996,.03,-.116398,.01016199,.05,-.007621,-.009812004,.03,-.001836,-.011942,.03,-.002725,-.01174801,.05,.007522,-.009724005,.05,.011131,-.005043004,.03,.011654,-.003769006,.05,.008705,.008682996,.03,
.006472,.004701996,.03,.002472,.007607996,.03,.00138,.012095,.03,.002472,.007607996,.03,-.002472,.007607996,.03,.012011,.001776996,.03,.008,-3.576279E-9,.03,.006472,.004701996,.03,.011131,-.005043004,.03,.006472,-.004702004,.03,.008,-3.576279E-9,.03,.007132,-.009824004,.03,.002472,-.007608004,.03,.006472,-.004702004,.03,-.002472,-.007608004,.03,-.001836,-.011942,.03,-.007621,-.009812004,.03,-.007621,-.009812004,.03,-.013731,.006550996,.03,-.008,-3.576279E-9,.03,-.010367,.007194996,.03,-.006472,.004701996,
.03,-.008,-3.576279E-9,.03,-.004666,.011094,.03,-.002472,.007607996,.03,-.006472,.004701996,.03,-.006472,.004701996,.03,-.002472,.007607996,.03,-.002472,.007608,.002000001,.006472,.004701996,.03,.008,-3.576279E-9,.03,.008,-2.384186E-10,.002,.006472,-.004702004,.03,.002472,-.007608004,.03,.002472,-.007608001,.001999999,-.008,-2.384186E-10,.002,-.008,-3.576279E-9,.03,-.006472,.004701996,.03,.002472,.007607996,.03,.006472,.004701996,.03,.006472,.004701999,.002000001,.002472,-.007608004,.03,-.002472,
-.007608004,.03,-.002472,-.007608001,.001999999,-.006472,-.004702,.002,-.006472,-.004702004,.03,-.008,-3.576279E-9,.03,-.002472,.007607996,.03,.002472,.007607996,.03,.002472,.007608,.002000001,.008,-3.576279E-9,.03,.006472,-.004702004,.03,.006472,-.004702,.002,-.002472,-.007608004,.03,-.006472,-.004702004,.03,-.006472,-.004702,.002,.002472,-.007608004,.03,.003453,-.011674,.03,-.001836,-.011942,.03,-.018604,-.120148,.001999986,-.019075,.060079,.002000007,-.019047,-.120065,.001999986,.016353,-.121573,
.001999986,.016353,-.121573,-1.449263E-8,.016978,-.121042,.001999986,.016353,-.121573,.001999986,.015764,-.122191,.001999985,.016353,-.121573,-1.449263E-8,.014929,-.123252,.001999985,.014929,-.123252,-1.469278E-8,.015764,-.122191,.001999985,.018344,.060288,.002000007,-.018231,.060289,.002000007,.019137,.060079,.002000007,.001531,-.134926,.001999984,.002936,-.134721,.001999984,.008788,-.131752,.001999984,-.0015,-.077781,.001999991,.0015,-.077781,.001999991,-.019075,.060079,.002000007,-.019075,.060079,
.002000007,-.018604,-.120148,.001999986,-.0015,-.077781,.001999991,-.0015,-.097781,.001999988,-.018604,-.120148,.001999986,.0015,-.097781,.001999988,.019137,.060079,.002000007,.0015,-.077781,.001999991,.019149,-.120075,.001999986,-.009371,-.130983,.001999984,0,-.135,.001999984,-.010391,-.129722,.001999985,.017614,.060617,.002000007,-.017458,.060619,.002000007,.018344,.060288,.002000007,0,-.135,.001999984,.001531,-.134926,.001999984,.009953,-.130562,.001999984,.016937,.061053,.002000007,-.016747,.061058,
.002000007,.017614,.060617,.002000007,-.010391,-.129722,.001999985,.009953,-.130562,.001999984,-.011868,-.127496,.001999985,.016304,.061587,.002000008,-.016089,.061593,.002000008,.016937,.061053,.002000007,-.011868,-.127496,.001999985,.014929,-.123252,.001999985,-.014802,-.122855,.001999985,.015421,.062543,.002000008,-.015475,.062214,.002000008,.016304,.061587,.002000008,-.014802,-.122855,.001999985,.015764,-.122191,.001999985,-.015686,-.121844,.001999986,.012136,.067516,.002000008,-.014617,.063281,
.002000008,.015421,.062543,.002000008,-.005324,.073988,.002000009,-.007335,.072848,.002000009,-.004169,.074417,.002000009,.009953,-.130562,.001999984,.009953,-.130562,-1.55642E-8,.014929,-.123252,.001999985,-.016327,-.121269,.001999986,.016978,-.121042,.001999986,-.017021,-.120787,.001999986,-.015686,-.121844,.001999986,.016353,-.121573,.001999986,-.016327,-.121269,.001999986,.010582,.069727,.002000008,-.009384,.071011,.002000008,.012136,.067516,.002000008,.010582,.069727,.002000008,.009512,.070979,
.002000008,-.009384,.071011,.002000008,-.004169,.074417,.002000009,-.008209,.072159,.002000009,-.002903,.074736,.002000009,0,.075,.002000009,-.001517,.074934,.002000009,-.009384,.071011,.002000008,.008304,.072129,.002000009,.001519,.074926,.002000009,.009512,.070979,.002000008,.004191,.074397,.002000009,.002913,.074722,.002000009,.008304,.072129,.002000009,-.017021,-.120787,.001999986,.017646,-.120607,.001999986,-.017776,-.120409,.001999986,.008304,.072129,.002000009,.007408,.072818,.002000009,.004191,
.074397,.002000009,.019149,-.120075,.001999986,-.018604,-.120148,.001999986,.018367,-.120281,.001999986,.02,-.12,.001999986,.02,.06,.002000007,.019149,-.120075,.001999986,.008788,-.131752,.001999984,.008788,-.131752,-1.570606E-8,.009953,-.130562,.001999984,.002936,-.134721,.001999984,.004223,-.134395,.001999984,.007464,-.132813,.001999984,-.002919,-.134734,.001999984,-.001527,-.134934,.001999984,-.009371,-.130983,.001999984,-.009371,-.130983,.001999984,-.00821,-.132139,.001999984,-.002919,-.134734,
.001999984,.007464,-.132813,.001999984,.007464,-.132813,-1.583254E-8,.008788,-.131752,.001999984,-.00821,-.132139,.001999984,-.007343,-.132832,.001999984,-.004188,-.134412,.001999984,.006479,-.13343,.001999984,.006479,-.13343,-1.59061E-8,.007464,-.132813,.001999984,.006479,-.13343,.001999984,.005401,-.133961,.001999984,.006479,-.13343,-1.59061E-8,.004223,-.134395,.001999984,.004223,-.134395,-1.602113E-8,.005401,-.133961,.001999984,.002936,-.134721,.001999984,.002936,-.134721,-1.605999E-8,.004223,
-.134395,.001999984,.001531,-.134926,.001999984,.001531,-.134926,-1.608443E-8,.002936,-.134721,.001999984,0,-.135,.001999984,0,-.135,-1.609325E-8,.001531,-.134926,.001999984,-.001527,-.134934,.001999984,-.001527,-.134934,-1.608539E-8,0,-.135,.001999984,-.002919,-.134734,.001999984,-.002919,-.134734,-1.606154E-8,-.001527,-.134934,.001999984,-.004188,-.134412,.001999984,-.004188,-.134412,-1.602316E-8,-.002919,-.134734,.001999984,-.005342,-.13398,.001999984,-.005342,-.13398,-1.597166E-8,-.004188,-.134412,
.001999984,-.00639,-.13345,.001999984,-.00639,-.13345,-1.590848E-8,-.005342,-.13398,.001999984,-.007343,-.132832,.001999984,-.007343,-.132832,-1.583481E-8,-.00639,-.13345,.001999984,-.00821,-.132139,.001999984,-.00821,-.132139,-1.57522E-8,-.007343,-.132832,.001999984,-.009371,-.130983,.001999984,-.009371,-.130983,-1.561439E-8,-.00821,-.132139,.001999984,-.010391,-.129722,.001999985,-.010391,-.129722,-1.546407E-8,-.009371,-.130983,.001999984,-.011868,-.127496,.001999985,-.011868,-.127496,-1.519871E-8,
-.010391,-.129722,.001999985,-.014802,-.122855,.001999985,-.014802,-.122855,-1.464546E-8,-.011868,-.127496,.001999985,-.015686,-.121844,.001999986,-.015686,-.121844,-1.452494E-8,-.014802,-.122855,.001999985,-.016327,-.121269,.001999986,-.016327,-.121269,-1.445639E-8,-.015686,-.121844,.001999986,-.017021,-.120787,.001999986,-.017021,-.120787,-1.439893E-8,-.016327,-.121269,.001999986,-.017776,-.120409,.001999986,-.017776,-.120409,-1.435387E-8,-.017021,-.120787,.001999986,-.018604,-.120148,.001999986,
-.018604,-.120148,-1.432276E-8,-.017776,-.120409,.001999986,-.019047,-.120065,-1.431286E-8,-.018604,-.120148,-1.432276E-8,-.019047,-.120065,.001999986,-.02,-.12,.001999986,-.02,-.12,-1.430511E-8,-.019047,-.120065,.001999986,-.02,.06,.002000007,-.02,.06,7.152557E-9,-.02,-.12,.001999986,-.019075,.060079,.002000007,-.019075,.060079,7.161975E-9,-.02,.06,.002000007,-.018231,.060289,.002000007,-.018231,.060289,7.187009E-9,-.019075,.060079,.002000007,-.017458,.060619,.002000007,-.017458,.060619,7.226348E-9,
-.018231,.060289,.002000007,-.016747,.061058,.002000007,-.016747,.061058,7.278681E-9,-.017458,.060619,.002000007,-.016089,.061593,.002000008,-.016089,.061593,7.342458E-9,-.016747,.061058,.002000007,-.015475,.062214,.002000008,-.015475,.062214,7.416487E-9,-.016089,.061593,.002000008,-.014617,.063281,.002000008,-.014617,.063281,7.543683E-9,-.015475,.062214,.002000008,-.009384,.071011,.002000008,-.009384,.071011,8.465171E-9,-.014617,.063281,.002000008,-.008209,.072159,.002000009,-.008209,.072159,8.602023E-9,
-.009384,.071011,.002000008,-.007335,.072848,.002000009,-.007335,.072848,8.684158E-9,-.008209,.072159,.002000009,-.006376,.073461,.002000009,-.006376,.073461,8.757234E-9,-.007335,.072848,.002000009,-.005324,.073988,.002000009,-.005324,.073988,8.820057E-9,-.006376,.073461,.002000009,-.004169,.074417,.002000009,-.004169,.074417,8.871198E-9,-.005324,.073988,.002000009,-.002903,.074736,.002000009,-.002903,.074736,8.909225E-9,-.004169,.074417,.002000009,-.001517,.074934,.002000009,-.001517,.074934,8.932829E-9,
-.002903,.074736,.002000009,0,.075,.002000009,0,.075,8.940697E-9,-.001517,.074934,.002000009,.001519,.074926,.002000009,.001519,.074926,8.931875E-9,0,.075,.002000009,.002913,.074722,.002000009,.002913,.074722,8.907556E-9,.001519,.074926,.002000009,.004191,.074397,.002000009,.004191,.074397,8.868813E-9,.002913,.074722,.002000009,.00536,.073964,.002000009,.00536,.073964,8.817196E-9,.004191,.074397,.002000009,.00643,.073434,.002000009,.00643,.073434,8.754015E-9,.00536,.073964,.002000009,.00643,.073434,
.002000009,.007408,.072818,.002000009,.00643,.073434,8.754015E-9,.008304,.072129,.002000009,.008304,.072129,8.598447E-9,.007408,.072818,.002000009,.008304,.072129,.002000009,.009512,.070979,.002000008,.008304,.072129,8.598447E-9,.010582,.069727,.002000008,.010582,.069727,8.312107E-9,.009512,.070979,.002000008,.012136,.067516,.002000008,.012136,.067516,8.048534E-9,.010582,.069727,.002000008,.012136,.067516,.002000008,.015421,.062543,.002000008,.012136,.067516,8.048534E-9,.016304,.061587,.002000008,
.016304,.061587,7.341742E-9,.015421,.062543,.002000008,.016304,.061587,.002000008,.016937,.061053,.002000007,.016304,.061587,7.341742E-9,.017614,.060617,.002000007,.017614,.060617,7.226109E-9,.016937,.061053,.002000007,.018344,.060288,.002000007,.018344,.060288,7.18689E-9,.017614,.060617,.002000007,.019137,.060079,.002000007,.019137,.060079,7.161975E-9,.018344,.060288,.002000007,.02,.06,.002000007,.02,.06,7.152557E-9,.019137,.060079,.002000007,.02,-.12,.001999986,.02,-.12,-1.430511E-8,.02,.06,.002000007,
.019149,-.120075,.001999986,.019149,-.120075,-1.431406E-8,.02,-.12,.001999986,.019149,-.120075,.001999986,.018367,-.120281,.001999986,.019149,-.120075,-1.431406E-8,.017646,-.120607,.001999986,.017646,-.120607,-1.437748E-8,.018367,-.120281,.001999986,.016978,-.121042,.001999986,.016978,-.121042,-1.442933E-8,.017646,-.120607,.001999986,.0015,-.097781,2.859883E-4,.0015,-.097781,.001999988,.0015,-.077781,2.859907E-4,-.0015,-.077781,2.859907E-4,-.0015,-.097781,2.859883E-4,.0015,-.077781,2.859907E-4,-.0015,
-.077781,2.859907E-4,-.0015,-.077781,.001999991,-.0015,-.097781,2.859883E-4,.0015,-.077781,2.859907E-4,.0015,-.077781,.001999991,-.0015,-.077781,2.859907E-4,-.0015,-.097781,2.859883E-4,-.0015,-.097781,.001999988,.0015,-.097781,2.859883E-4,.00138,.012095,.03,.008705,.008682996,.03,.002472,.007607996,.03,-.004666,.011094,.03,.00138,.012095,.03,-.002472,.007607996,.03,.008705,.008682996,.03,.012011,.001776996,.03,.006472,.004701996,.03,.012011,.001776996,.03,.011131,-.005043004,.03,.008,-3.576279E-9,
.03,.011131,-.005043004,.03,.007132,-.009824004,.03,.006472,-.004702004,.03,-.006472,-.004702004,.03,-.002472,-.007608004,.03,-.007621,-.009812004,.03,-.006472,-.004702004,.03,-.007621,-.009812004,.03,-.008,-3.576279E-9,.03,-.013731,.006550996,.03,-.010367,.007194996,.03,-.008,-3.576279E-9,.03,-.010367,.007194996,.03,-.004666,.011094,.03,-.006472,.004701996,.03,-.006472,.004701999,.002000001,-.006472,.004701996,.03,-.002472,.007608,.002000001,.006472,.004701999,.002000001,.006472,.004701996,.03,.008,
-2.384186E-10,.002,.006472,-.004702,.002,.006472,-.004702004,.03,.002472,-.007608001,.001999999,-.006472,.004701999,.002000001,-.008,-2.384186E-10,.002,-.006472,.004701996,.03,.002472,.007608,.002000001,.002472,.007607996,.03,.006472,.004701999,.002000001,.002472,-.007608001,.001999999,.002472,-.007608004,.03,-.002472,-.007608001,.001999999,-.008,-2.384186E-10,.002,-.006472,-.004702,.002,-.008,-3.576279E-9,.03,-.002472,.007608,.002000001,-.002472,.007607996,.03,.002472,.007608,.002000001,.008,-2.384186E-10,
.002,.008,-3.576279E-9,.03,.006472,-.004702,.002,-.002472,-.007608001,.001999999,-.002472,-.007608004,.03,-.006472,-.004702,.002,.003453,-.011674,.03,.002472,-.007608004,.03,.007132,-.009824004,.03,.002472,-.007608004,.03,-.001836,-.011942,.03,-.002472,-.007608004,.03]),t=y;t<z.length-2;t+=3)z[t]+=H,z[t+1]+=J,z[t+2]+=v;else z[n]=z[n+9]=P,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=O,z[n+3]=P,z[n+4]=G,z[n+5]=O,z[n+6]=z[n+12]=H,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=x,z[n+15]=H,z[n+16]=J,z[n+17]=x,n+=18,z[n]=z[n+9]=P,
z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=Q,z[n+3]=P,z[n+4]=G,z[n+5]=Q,z[n+6]=z[n+12]=P,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=O,z[n+15]=P,z[n+16]=J,z[n+17]=O,n+=18,z[n]=z[n+9]=L,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=Q,z[n+3]=L,z[n+4]=G,z[n+5]=Q,z[n+6]=z[n+12]=P,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=Q,z[n+15]=P,z[n+16]=J,z[n+17]=Q,n+=18,z[n]=z[n+9]=L,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=v,z[n+3]=L,z[n+4]=G,z[n+5]=v,z[n+6]=z[n+12]=L,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=Q,z[n+15]=L,z[n+16]=J,z[n+17]=Q,n+=18,z[n]=z[n+9]=H,z[n+1]=z[n+10]=
J,z[n+2]=z[n+11]=x,z[n+3]=H,z[n+4]=G,z[n+5]=x,z[n+6]=z[n+12]=H,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=v,z[n+15]=H,z[n+16]=J,z[n+17]=v,n+=18,z[n]=z[n+9]=P,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=Q,z[n+3]=P,z[n+4]=J,z[n+5]=O,z[n+6]=z[n+12]=H,z[n+7]=z[n+13]=J,z[n+8]=z[n+14]=x,z[n+15]=L,z[n+16]=J,z[n+17]=Q,n+=18,z[n]=z[n+9]=H,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=v,z[n+3]=L,z[n+4]=J,z[n+5]=v,z[n+6]=z[n+12]=L,z[n+7]=z[n+13]=J,z[n+8]=z[n+14]=Q,z[n+15]=H,z[n+16]=J,z[n+17]=x,n+=18,z[n]=z[n+9]=P,z[n+1]=z[n+10]=G,z[n+2]=z[n+11]=
O,z[n+3]=P,z[n+4]=G,z[n+5]=Q,z[n+6]=z[n+12]=L,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=Q,z[n+15]=H,z[n+16]=G,z[n+17]=x,n+=18,z[n]=z[n+9]=H,z[n+1]=z[n+10]=G,z[n+2]=z[n+11]=x,z[n+3]=L,z[n+4]=G,z[n+5]=Q,z[n+6]=z[n+12]=L,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=v,z[n+15]=H,z[n+16]=G,z[n+17]=v,n+=18,P=E+b+g-C-.04,J=1.06,O=t+d.leafWidth+.002,G=1.06-.21,H=E+b+g-C,z[n]=z[n+9]=P,z[n+1]=z[n+10]=J,z[n+2]=z[n+11]=O,z[n+3]=P,z[n+4]=G,z[n+5]=O,z[n+6]=z[n+12]=H,z[n+7]=z[n+13]=G,z[n+8]=z[n+14]=O,z[n+15]=H,z[n+16]=J,z[n+17]=O,n+=18;
t=z.length;t=z.slice(y,t);for(J=0;J<t.length-2;J+=3)t[J+2]=-t[J+2]+2*(d.leafWidth-a-c)-d.leafWidth;for(J=0;J<t.length-8;J+=9)I[1]=t[J+3],I[2]=t[J+4],I[3]=t[J+5],t[J+3]=t[J+6],t[J+4]=t[J+7],t[J+5]=t[J+8],t[J+6]=I[1],t[J+7]=I[2],t[J+8]=I[3];z=z.concat(t);n+=t.length;t=z.length;if(N[l].flipLeaf||"left"===d.hinge&&"doubleSwing"!==m&&"doubleSwingDoubleFix"!==m)for(H=y;H<t-2;H+=3)J=z[H]-b-g/2-r,z[H+2]=z[H+2]-d.leafWidth/2+a+c,z[H]=-J+b+g/2+r,z[H+2]=-z[H+2]+d.leafWidth/2-a-c}if(0<N[l].angle){O=Math.cos(N[l].angle/
180*Math.PI);P=Math.sin(N[l].angle/180*Math.PI);N[l].flipLeaf||"left"===d.hinge&&"doubleSwing"!==m&&"doubleSwingDoubleFix"!==m?G=-b-g-r:(G=-b-r,P=-P);for(H=u;H<f-2;H+=3)J=M[H]+G,M[H+2]=M[H+2]+a+c,M[H]=J*O-M[H+2]*P-G,M[H+2]=M[H+2]*O+J*P-a-c;for(H=y;H<t-2;H+=3)J=z[H]+G,z[H+2]=z[H+2]+a+c,z[H]=J*O-z[H+2]*P-G,z[H+2]=z[H+2]*O+J*P-a-c}E+=g}m=M.length;N=z.length;if("front"===d.side){for(H=0;H<m;H+=3)J=M[H]-b-h/2,M[H+2]=M[H+2]-a/2-c/2-e/2,M[H]=-J+b+h/2,M[H+2]=-M[H+2]-a/2-c/2+e/2;for(H=0;H<N;H+=3)J=z[H]-b-
h/2,z[H+2]=z[H+2]-a/2-c/2-e/2,z[H]=-J+b+h/2,z[H+2]=-z[H+2]-a/2-c/2+e/2}d={};0<p.length&&(d.frame={positions:p,normals:k.getNormalsFlat(p),material:"frame"});0<z.length&&(d.handle={positions:new Float32Array(z),normals:k.getNormalsFlat(z),material:"handle"});0<M.length&&(d.leaf={positions:new Float32Array(M),normals:k.getNormalsFlat(M),uvs:new Float32Array(F),material:"leaf"});0<K.length&&(d.threshold={positions:K,normals:k.getNormalsFlat(K),uvs:A,material:"threshold"});return d},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.floor={params:{type:"floor",x:0,y:0,z:0,ry:0,l:4,w:4,h:.2,lock:!1,bake:!0,bakeStatus:"none",materials:{top:"basic-floor",side:"basic-wall",ceiling:"basic-ceiling"},hasCeiling:!0,hCeiling:2.4},initialize:function(){this.a.material&&(this.a.materials.top=this.a.material,delete this.a.material);this.a.ceilingMaterial&&(this.a.materials.ceiling=this.a.ceilingMaterial,delete this.a.ceilingMaterial);this.a.side&&(this.a.materials.side=this.a.sideMaterial,delete this.a.sideMaterial)},
getMeshes:function(){var d=this.a,f=[0,0,0,d.w,d.l,d.w,d.l,0],b=k.getPolygon({outline:f,y:0,uvx:d.x,uvz:d.z}),e;d.hasCeiling&&(e=k.getPolygon({outline:f,y:d.hCeiling,uvx:d.x,uvz:d.z,flipSide:!0}));f=k.getExtrusion({outline:f,y:-d.h,flipSide:!0});b={top:{positions:b.vertices,normals:k.getNormalsFlat(b.vertices),uvs:b.uvs,material:"top"},sides:{positions:f.vertices,normals:k.getNormalsFlat(f.vertices),uvs:f.uvs,material:"side"}};d.hasCeiling&&(b.ceiling={positions:e.vertices,normals:k.getNormalsFlat(e.vertices),
uvs:e.uvs,material:"ceiling"});return b},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){function d(a){return"string"===typeof a||a instanceof String}function f(a,b){return b?Math.round(a*b)/b:Math.round(a)}function b(a){var b="none"!==a.cooktopType,c=b&&"90"===a.cooktopType.slice(-2);var d=a.elementLength;b=a.l+(a.fridge?2*(d-.52):0)+(b&&c?d-.9:0);a=Math.ceil(f(b/d,100));d=f(d-(a*d-b),100);return{elementNum:a,remainder:d}}function e(a,b){for(var c="none"!==a.cooktopType,d=c&&"90"===a.cooktopType.slice(-2),e=[],f=b.elementNum,g=0;g<f;g++)e[g]=!a.fridge||g!==a.fridgePos-1&&
g!==a.fridgePos?c&&d&&g===a.cooktopPos-1?.9:b.remainder&&(!a.highCabinetRight&&g===f-1||0<a.highCabinetRight&&g===f-a.highCabinetRight-1)?b.remainder:a.elementLength:.52;!e[0]&&a.l>a.elementLength?e[0]=a.elementLength:e[0]||(e[0]=b.remainder);return e}var g={singleSink:"/535e624259ee6b0200000484/170429-0355-60hukz/bf4e4a56-ed95-4b58-a214-4b1a0a84ae0e.gz.data3d.buffer",doubleSink:"/535e624259ee6b0200000484/170429-2156-7ufbnv/df481313-8fb4-48da-bc28-0369b08a2c6a.gz.data3d.buffer",gas60:"/535e624259ee6b0200000484/170428-2318-1ayck9/ece0ead0-d27f-4cf9-b137-2021f25ad4ee.gz.data3d.buffer",
gas90:"/535e624259ee6b0200000484/170429-0114-jxswhr/523bb9dc-0103-4c93-aba8-ad0882123550.gz.data3d.buffer",fridge:"/535e624259ee6b0200000484/170429-1020-5zimgz/4cec6215-9d5c-4f38-b714-e62fdab6d892.gz.data3d.buffer"},a;k.ParametricObjects.kitchen={params:{type:"kitchen",v:2,x:0,y:0,z:0,ry:0,lock:!1,bake:!0,bakeStatus:"none",l:4.2,w:.6,h:2.4,baseBoard:.1,doorWidth:.02,counterHeight:.9,wallCabinetHeight:1.5,wallCabinetWidth:.45,counterThickness:.03,barCounter:!1,highCabinetLeft:2,highCabinetRight:0,
elementLength:.6,cooktopType:"none",fridge:!1,fridgePos:1,microwave:!1,microwavePos:1,sinkType:"none",extractorType:"none",ovenType:"none",cabinetType:"flat",cooktopPos:6,ovenPos:6,sinkPos:4,wallCabinet:!0,materials:{kitchen:"cabinet_paint_white",counter:"cabinet_paint_white",tab:"chrome",oven:"oven_miele_60-60",cooktop:"cooktop_westinghouse_60",microwave:"microwave_samsung"}},initialize:function(){this.a.kitchenMaterial&&(this.a.materials.kitchen=this.a.kitchenMaterial,delete this.a.kitchenMaterial);
this.a.counterMaterial&&(this.a.materials.counter=this.a.counterMaterial,delete this.a.counterMaterial);this.a.tabMaterial&&(this.a.materials.tab=this.a.tabMaterial,delete this.a.tabMaterial);this.a.ovenMaterial&&(this.a.materials.oven=this.a.ovenMaterial,delete this.a.ovenMaterial);if(!this.a.v||1===this.a.v){try{this.a.cooktopType=this.a.cooktop?"electro60":"none",delete this.a.cooktop,this.a.sinkType=this.a.sink?"single":"none",delete this.a.sink,this.a.ovenType=this.a.oven?1===this.a.ovenNum?
"single":"double":"none",delete this.a.oven,delete this.a.ovenNum,this.a.extractorType=this.a.extractor?"integrated":"none",delete this.a.extractor,this.a.fridge=!1,this.a.cabinetType=this.a.cabinetFrame?"style1":"flat",delete this.a.cabinetFrame}catch(m){console.warn(m)}this.a.sinkPos===this.a.cooktopPos&&(this.a.sinkType="none");var a=Math.round(this.a.l/this.a.elementLength);if(0>=this.a.ovenPos||this.a.ovenPos>a)this.a.ovenType="none";if(this.a.sinkPos<=this.a.highCabinetLeft||this.a.sinkPos>
a-this.a.highCabinetRight)this.a.sinkType="none";if(this.a.cooktopPos<=this.a.highCabinetLeft||this.a.cooktopPos>a-this.a.highCabinetRight)this.a.cooktopType="none";this.a.materials.oven="oven_miele_60-60";this.a.materials.cooktop="cooktop_westinghouse_60";this.a.materials.microwave="microwave_samsung";this.a.v=2}},getMeshes:function(){function c(a){for(var b=0,c=0;c<a-1;c++)b+=M[c];return b}function m(a){var b="flat"===u,c="style1"===u?.01:"style2"===u?-.01:h.doorWidth,d="style1"===u?.04:"style2"===
u?.005:0,e="style1"===u?-.01:"style2"===u?.02:0,f="style1"===u?.015:"style2"===u?.03:0;W=a.aX;S=a.aY;T=a.aZ;ja=a.bY;V=a.cX;ea=S-h.doorWidth/2;R=T+c;fa=ja+h.doorWidth/2;if(!(S<=ja||V<=W))if(la=da+d,ra=ea-d,sa=fa+d,oa=ca-d,c=la+f,d=ra-f,pa=R+e,e=sa+f,f=oa-f,0===a.i&&(v[t]=v[t+9]=W,v[t+1]=v[t+10]=h.baseBoard,v[t+2]=v[t+11]=T,v[t+3]=W,v[t+4]=0,v[t+5]=T,v[t+6]=v[t+12]=V,v[t+7]=v[t+13]=0,v[t+8]=v[t+14]=T,v[t+15]=V,v[t+16]=h.baseBoard,v[t+17]=T,t+=18),.1>V-W||.1>S-ja)v[t]=v[t+9]=W,v[t+1]=v[t+10]=S,v[t+2]=
v[t+11]=T,v[t+3]=W,v[t+4]=ja,v[t+5]=T,v[t+6]=v[t+12]=V,v[t+7]=v[t+13]=ja,v[t+8]=v[t+14]=T,v[t+15]=V,v[t+16]=S,v[t+17]=T,t+=18;else{var g=!1,k=!1;A&&X+1===h.microwavePos&&(6===a.k&&0===a.i?g=!0:8===a.k&&2===a.i?g=!0:9===a.k&&3===a.i&&(g=!0));if(q&&X+1===h.ovenPos)if(1===a.k&&(1===a.i||2===a.i&&"double"===h.ovenType))k=!0;else if(4===a.k||9===a.k)if(1===a.i||2===a.i&&"double"===h.ovenType)k=!0;v[t]=v[t+9]=W;v[t+1]=v[t+10]=S;v[t+2]=v[t+11]=T;v[t+3]=W;v[t+4]=ja;v[t+5]=T;v[t+6]=v[t+12]=da;v[t+7]=v[t+13]=
fa;v[t+8]=v[t+14]=T;v[t+15]=da;v[t+16]=ea;v[t+17]=T;t+=18;v[t]=v[t+9]=da;v[t+1]=v[t+10]=fa;v[t+2]=v[t+11]=T;v[t+3]=W;v[t+4]=ja;v[t+5]=T;v[t+6]=v[t+12]=V;v[t+7]=v[t+13]=ja;v[t+8]=v[t+14]=T;v[t+15]=ca;v[t+16]=fa;v[t+17]=T;t+=18;v[t]=v[t+9]=ca;v[t+1]=v[t+10]=ea;v[t+2]=v[t+11]=T;v[t+3]=ca;v[t+4]=fa;v[t+5]=T;v[t+6]=v[t+12]=V;v[t+7]=v[t+13]=ja;v[t+8]=v[t+14]=T;v[t+15]=V;v[t+16]=S;v[t+17]=T;t+=18;v[t]=v[t+9]=W;v[t+1]=v[t+10]=S;v[t+2]=v[t+11]=T;v[t+3]=da;v[t+4]=ea;v[t+5]=T;v[t+6]=v[t+12]=ca;v[t+7]=v[t+13]=
ea;v[t+8]=v[t+14]=T;v[t+15]=V;v[t+16]=S;v[t+17]=T;t+=18;v[t]=v[t+9]=da;v[t+1]=v[t+10]=ea;v[t+2]=v[t+11]=T;v[t+3]=da;v[t+4]=fa;v[t+5]=T;v[t+6]=v[t+12]=da;v[t+7]=v[t+13]=fa;v[t+8]=v[t+14]=R;v[t+15]=da;v[t+16]=ea;v[t+17]=R;t+=18;v[t]=v[t+9]=da;v[t+1]=v[t+10]=fa;v[t+2]=v[t+11]=R;v[t+3]=da;v[t+4]=fa;v[t+5]=T;v[t+6]=v[t+12]=ca;v[t+7]=v[t+13]=fa;v[t+8]=v[t+14]=T;v[t+15]=ca;v[t+16]=fa;v[t+17]=R;t+=18;v[t]=v[t+9]=ca;v[t+1]=v[t+10]=ea;v[t+2]=v[t+11]=R;v[t+3]=ca;v[t+4]=fa;v[t+5]=R;v[t+6]=v[t+12]=ca;v[t+7]=v[t+
13]=fa;v[t+8]=v[t+14]=T;v[t+15]=ca;v[t+16]=ea;v[t+17]=T;t+=18;v[t]=v[t+9]=da;v[t+1]=v[t+10]=ea;v[t+2]=v[t+11]=T;v[t+3]=da;v[t+4]=ea;v[t+5]=R;v[t+6]=v[t+12]=ca;v[t+7]=v[t+13]=ea;v[t+8]=v[t+14]=R;v[t+15]=ca;v[t+16]=ea;v[t+17]=T;t+=18;k?(U[Z]=U[Z+9]=da,U[Z+1]=U[Z+10]=ea,U[Z+2]=U[Z+11]=R,U[Z+3]=da,U[Z+4]=fa,U[Z+5]=R,U[Z+6]=U[Z+12]=ca,U[Z+7]=U[Z+13]=fa,U[Z+8]=U[Z+14]=R,U[Z+15]=ca,U[Z+16]=ea,U[Z+17]=R,Z+=18,ha[ia]=ha[ia+6]=0,ha[ia+1]=ha[ia+7]=1,ha[ia+2]=0,ha[ia+3]=0,ha[ia+4]=ha[ia+8]=1,ha[ia+5]=ha[ia+9]=
0,ha[ia+10]=1,ha[ia+11]=1,ia+=12):g?(ba[0]=ba[9]=da,ba[1]=ba[10]=ea,ba[2]=ba[11]=R,ba[3]=da,ba[4]=fa,ba[5]=R,ba[6]=ba[12]=ca,ba[7]=ba[13]=fa,ba[8]=ba[14]=R,ba[15]=ca,ba[16]=ea,ba[17]=R,qa=[0,1,0,0,1,0,0,1,1,0,1,1]):(b||.15>=V-W||.15>=S-ja?(v[t]=v[t+9]=da,v[t+1]=v[t+10]=ea,v[t+2]=v[t+11]=R,v[t+3]=da,v[t+4]=fa,v[t+5]=R,v[t+6]=v[t+12]=ca,v[t+7]=v[t+13]=fa,v[t+8]=v[t+14]=R,v[t+15]=ca,v[t+16]=ea,v[t+17]=R):(v[t]=v[t+9]=da,v[t+1]=v[t+10]=ea,v[t+2]=v[t+11]=R,v[t+3]=da,v[t+4]=fa,v[t+5]=R,v[t+6]=v[t+12]=la,
v[t+7]=v[t+13]=sa,v[t+8]=v[t+14]=R,v[t+15]=la,v[t+16]=ra,v[t+17]=R,t+=18,v[t]=v[t+9]=la,v[t+1]=v[t+10]=sa,v[t+2]=v[t+11]=R,v[t+3]=da,v[t+4]=fa,v[t+5]=R,v[t+6]=v[t+12]=ca,v[t+7]=v[t+13]=fa,v[t+8]=v[t+14]=R,v[t+15]=oa,v[t+16]=sa,v[t+17]=R,t+=18,v[t]=v[t+9]=oa,v[t+1]=v[t+10]=ra,v[t+2]=v[t+11]=R,v[t+3]=oa,v[t+4]=sa,v[t+5]=R,v[t+6]=v[t+12]=ca,v[t+7]=v[t+13]=fa,v[t+8]=v[t+14]=R,v[t+15]=ca,v[t+16]=ea,v[t+17]=R,t+=18,v[t]=v[t+9]=da,v[t+1]=v[t+10]=ea,v[t+2]=v[t+11]=R,v[t+3]=la,v[t+4]=ra,v[t+5]=R,v[t+6]=v[t+
12]=oa,v[t+7]=v[t+13]=ra,v[t+8]=v[t+14]=R,v[t+15]=ca,v[t+16]=ea,v[t+17]=R,t+=18,v[t]=v[t+9]=la,v[t+1]=v[t+10]=ra,v[t+2]=v[t+11]=R,v[t+3]=la,v[t+4]=sa,v[t+5]=R,v[t+6]=v[t+12]=c,v[t+7]=v[t+13]=e,v[t+8]=v[t+14]=pa,v[t+15]=c,v[t+16]=d,v[t+17]=pa,t+=18,v[t]=v[t+9]=c,v[t+1]=v[t+10]=e,v[t+2]=v[t+11]=pa,v[t+3]=la,v[t+4]=sa,v[t+5]=R,v[t+6]=v[t+12]=oa,v[t+7]=v[t+13]=sa,v[t+8]=v[t+14]=R,v[t+15]=f,v[t+16]=e,v[t+17]=pa,t+=18,v[t]=v[t+9]=f,v[t+1]=v[t+10]=d,v[t+2]=v[t+11]=pa,v[t+3]=f,v[t+4]=e,v[t+5]=pa,v[t+6]=v[t+
12]=oa,v[t+7]=v[t+13]=sa,v[t+8]=v[t+14]=R,v[t+15]=oa,v[t+16]=ra,v[t+17]=R,t+=18,v[t]=v[t+9]=la,v[t+1]=v[t+10]=ra,v[t+2]=v[t+11]=R,v[t+3]=c,v[t+4]=d,v[t+5]=pa,v[t+6]=v[t+12]=f,v[t+7]=v[t+13]=d,v[t+8]=v[t+14]=pa,v[t+15]=oa,v[t+16]=ra,v[t+17]=R,t+=18,v[t]=v[t+9]=c,v[t+1]=v[t+10]=d,v[t+2]=v[t+11]=pa,v[t+3]=c,v[t+4]=e,v[t+5]=pa,v[t+6]=v[t+12]=f,v[t+7]=v[t+13]=e,v[t+8]=v[t+14]=pa,v[t+15]=f,v[t+16]=d,v[t+17]=pa),t+=18)}}function l(){var a="integrated"===h.extractorType,b=c(h.cooktopPos)+(h.wallCabinet&&
!a?.05:0),d=B+.04,e=h.wallCabinet&&a?.5:h.w-.6+.5,f=c(h.cooktopPos+1)-(h.wallCabinet&&!a?.05:0),g=h.wallCabinet&&a?h.wallCabinetWidth:h.w-.6,k=B;y[D]=y[D+9]=b;y[D+1]=y[D+10]=d;y[D+2]=y[D+11]=e;y[D+3]=b;y[D+4]=k;y[D+5]=e;y[D+6]=y[D+12]=f;y[D+7]=y[D+13]=k;y[D+8]=y[D+14]=e;y[D+15]=f;y[D+16]=d;y[D+17]=e;D+=18;h.wallCabinet&&a&&(y[D]=y[D+9]=b,y[D+1]=y[D+10]=d,y[D+2]=y[D+11]=g,y[D+3]=b,y[D+4]=d,y[D+5]=e,y[D+6]=y[D+12]=f,y[D+7]=y[D+13]=d,y[D+8]=y[D+14]=e,y[D+15]=f,y[D+16]=d,y[D+17]=g,D+=18);y[D]=y[D+9]=
b;y[D+1]=y[D+10]=d;y[D+2]=y[D+11]=g;y[D+3]=b;y[D+4]=k;y[D+5]=g;y[D+6]=y[D+12]=b;y[D+7]=y[D+13]=k;y[D+8]=y[D+14]=e;y[D+15]=b;y[D+16]=d;y[D+17]=e;D+=18;y[D]=y[D+9]=f;y[D+1]=y[D+10]=d;y[D+2]=y[D+11]=e;y[D+3]=f;y[D+4]=k;y[D+5]=e;y[D+6]=y[D+12]=f;y[D+7]=y[D+13]=k;y[D+8]=y[D+14]=g;y[D+15]=f;y[D+16]=d;y[D+17]=g;D+=18;y[D]=y[D+9]=b;y[D+1]=y[D+10]=k;y[D+2]=y[D+11]=e;y[D+3]=b;y[D+4]=k;y[D+5]=g;y[D+6]=y[D+12]=f;y[D+7]=y[D+13]=k;y[D+8]=y[D+14]=g;y[D+15]=f;y[D+16]=k;y[D+17]=e;D+=18;y[D]=y[D+9]=f;y[D+1]=y[D+10]=
d;y[D+2]=y[D+11]=g;y[D+3]=f;y[D+4]=k;y[D+5]=g;y[D+6]=y[D+12]=b;y[D+7]=y[D+13]=k;y[D+8]=y[D+14]=g;y[D+15]=b;y[D+16]=d;y[D+17]=g;D+=18;if(!h.wallCabinet||"integrated"!==h.extractorType){a=.7<=h.w&&!h.wallCabinet||h.barCounter;Y=b+(f-b)/2-.12;na=h.h+-.01;R=a?h.w-.25:h.w-.4;ka=d+("pyramid"===h.extractorType?w:0);aa=Y+.24;ma=a?h.w-.45:h.w-.6;y[D]=y[D+9]=b;y[D+1]=y[D+10]=d;y[D+2]=y[D+11]=g;y[D+3]=b;y[D+4]=d;y[D+5]=e;y[D+6]=y[D+12]=Y;y[D+7]=y[D+13]=ka;y[D+8]=y[D+14]=R;y[D+15]=Y;y[D+16]=ka;y[D+17]=ma;D+=
18;y[D]=y[D+9]=Y;y[D+1]=y[D+10]=ka;y[D+2]=y[D+11]=R;y[D+3]=b;y[D+4]=d;y[D+5]=e;y[D+6]=y[D+12]=f;y[D+7]=y[D+13]=d;y[D+8]=y[D+14]=e;y[D+15]=aa;y[D+16]=ka;y[D+17]=R;D+=18;y[D]=y[D+9]=aa;y[D+1]=y[D+10]=ka;y[D+2]=y[D+11]=ma;y[D+3]=aa;y[D+4]=ka;y[D+5]=R;y[D+6]=y[D+12]=f;y[D+7]=y[D+13]=d;y[D+8]=y[D+14]=e;y[D+15]=f;y[D+16]=d;y[D+17]=g;D+=18;if("pyramid"===h.extractorType||.6<h.w||h.barCounter)y[D]=y[D+9]=b,y[D+1]=y[D+10]=d,y[D+2]=y[D+11]=g,y[D+3]=Y,y[D+4]=ka,y[D+5]=ma,y[D+6]=y[D+12]=aa,y[D+7]=y[D+13]=ka,
y[D+8]=y[D+14]=ma,y[D+15]=f,y[D+16]=d,y[D+17]=g,D+=18;y[D]=y[D+9]=Y;y[D+1]=y[D+10]=na;y[D+2]=y[D+11]=R;y[D+3]=Y;y[D+4]=ka;y[D+5]=R;y[D+6]=y[D+12]=aa;y[D+7]=y[D+13]=ka;y[D+8]=y[D+14]=R;y[D+15]=aa;y[D+16]=na;y[D+17]=R;D+=18;y[D]=y[D+9]=Y;y[D+1]=y[D+10]=na;y[D+2]=y[D+11]=ma;y[D+3]=Y;y[D+4]=na;y[D+5]=R;y[D+6]=y[D+12]=aa;y[D+7]=y[D+13]=na;y[D+8]=y[D+14]=R;y[D+15]=aa;y[D+16]=na;y[D+17]=ma;D+=18;y[D]=y[D+9]=Y;y[D+1]=y[D+10]=na;y[D+2]=y[D+11]=ma;y[D+3]=Y;y[D+4]=ka;y[D+5]=ma;y[D+6]=y[D+12]=Y;y[D+7]=y[D+13]=
ka;y[D+8]=y[D+14]=R;y[D+15]=Y;y[D+16]=na;y[D+17]=R;D+=18;y[D]=y[D+9]=aa;y[D+1]=y[D+10]=na;y[D+2]=y[D+11]=R;y[D+3]=aa;y[D+4]=ka;y[D+5]=R;y[D+6]=y[D+12]=aa;y[D+7]=y[D+13]=ka;y[D+8]=y[D+14]=ma;y[D+15]=aa;y[D+16]=na;y[D+17]=ma;D+=18;y[D]=y[D+9]=aa;y[D+1]=y[D+10]=na;y[D+2]=y[D+11]=ma;y[D+3]=aa;y[D+4]=ka;y[D+5]=ma;y[D+6]=y[D+12]=Y;y[D+7]=y[D+13]=ka;y[D+8]=y[D+14]=ma;y[D+15]=Y;y[D+16]=na;y[D+17]=ma;D+=18}R=h.w+h.doorWidth}function r(a,b,c,d,e,f,g){1!==g&&(v[t]=v[t+9]=a,v[t+1]=v[t+10]=b,v[t+2]=v[t+11]=f,
v[t+3]=a,v[t+4]=b,v[t+5]=c,v[t+6]=v[t+12]=e,v[t+7]=v[t+13]=b,v[t+8]=v[t+14]=c,v[t+15]=e,v[t+16]=b,v[t+17]=f,t+=18);v[t]=v[t+9]=a;v[t+1]=v[t+10]=b;v[t+2]=v[t+11]=f;v[t+3]=a;v[t+4]=d;v[t+5]=f;v[t+6]=v[t+12]=a;v[t+7]=v[t+13]=d;v[t+8]=v[t+14]=c;v[t+15]=a;v[t+16]=b;v[t+17]=c;t+=18;v[t]=v[t+9]=a;v[t+1]=v[t+10]=b;v[t+2]=v[t+11]=f;v[t+3]=a;v[t+4]=d;v[t+5]=f;v[t+6]=v[t+12]=a;v[t+7]=v[t+13]=d;v[t+8]=v[t+14]=c;v[t+15]=a;v[t+16]=b;v[t+17]=c;t+=18;v[t]=v[t+9]=e;v[t+1]=v[t+10]=b;v[t+2]=v[t+11]=c;v[t+3]=e;v[t+4]=
d;v[t+5]=c;v[t+6]=v[t+12]=e;v[t+7]=v[t+13]=d;v[t+8]=v[t+14]=f;v[t+15]=e;v[t+16]=b;v[t+17]=f;t+=18;v[t]=v[t+9]=e;v[t+1]=v[t+10]=b;v[t+2]=v[t+11]=f;v[t+3]=e;v[t+4]=d;v[t+5]=f;v[t+6]=v[t+12]=a;v[t+7]=v[t+13]=d;v[t+8]=v[t+14]=f;v[t+15]=a;v[t+16]=b;v[t+17]=f;t+=18;2===g&&(v[t]=v[t+9]=a,v[t+1]=v[t+10]=d,v[t+2]=v[t+11]=c,v[t+3]=a,v[t+4]=d,v[t+5]=f,v[t+6]=v[t+12]=e,v[t+7]=v[t+13]=d,v[t+8]=v[t+14]=f,v[t+15]=e,v[t+16]=d,v[t+17]=c,t+=18)}var h=this.attributes,C="none"!==h.sinkType,q="none"!==h.ovenType,p="none"!==
h.cooktopType,A=h.microwave,n=p&&"90"===h.cooktopType.slice(-2),u=h.cabinetType,w=n?.18:.12,B=h.wallCabinetHeight+.1,E=[[h.baseBoard,.7,1.9,h.h+-.01],[h.baseBoard,.7,1.3,1.9,h.h+-.01],[h.baseBoard,.4,.7,h.counterHeight-h.counterThickness],[h.baseBoard,.7,h.counterHeight-h.counterThickness],[h.baseBoard,h.counterHeight-h.counterThickness-(n&&h.ovenPos===h.cooktopPos?.48:.6),h.counterHeight-h.counterThickness],[h.wallCabinetHeight,h.h+-.01],[h.wallCabinetHeight,h.wallCabinetHeight+.33,h.h+-.01],[h.baseBoard+
1.95,h.h+-.01],[h.baseBoard,.7,1.9-.33,1.9,h.h+-.01],[h.baseBoard,.7,1.3,1.9,2.23,h.h+-.01]],I=h.elementLength,N,M=[];this.externalData3DResources=[];0>h.highCabinetLeft&&(h.highCabinetLeft=0);0>h.highCabinetRight&&(h.highCabinetRight=0);0>=h.fridgePos&&(h.fridgePos=1);try{this.a.ovenPos===this.a.cooktopPos&&d(this.a.materials.oven)&&(n&&d(this.a.materials.oven)&&-1<this.a.materials.oven.indexOf("_60")&&this.setMaterial("oven","oven_miele_90-48"),!n&&d(this.a.materials.oven)&&-1<this.a.materials.oven.indexOf("_90")&&
this.setMaterial("oven","oven_miele_60-60")),d(this.a.materials.cooktop)&&(n&&-1<this.a.materials.cooktop.indexOf("_60")&&this.setMaterial("cooktop","cooktop_westinghouse_90"),!n&&-1<this.a.materials.cooktop.indexOf("_90")&&this.setMaterial("cooktop","cooktop_westinghouse_60"))}catch(va){}(h.highCabinetLeft||h.highCabinetRight)&&h.barCounter&&(h.barCounter=!1);h.wallCabinet||"integrated"!==h.extractorType||(h.extractorType="box");var z=b(h).elementNum;a=b(h).remainder;h.fridge&&h.highCabinetLeft<
h.fridgePos+1&&(console.log(z-h.highCabinetRight-1),h.fridgePos<z-h.highCabinetRight-1?h.highCabinetLeft=h.fridgePos+1:h.fridgePos=h.highCabinetLeft-1);p&&h.cooktopPos>=z-h.highCabinetRight&&"90"===h.cooktopType.slice(-2)&&(console.log("Large cooktop does not fit"),h.cooktopType=h.cooktopType.substring(0,h.cooktopType.length-2)+"60",z=b(h).elementNum,a=b(h).remainder);M=e(h,{elementNum:z,remainder:a});n=h.highCabinetLeft;var F=z-h.highCabinetRight,K=F-n-(0<a?1:0),L=[];for(N=n;N<F;N++)!(p&&N===h.cooktopPos-
1||C&&N===h.sinkPos-1)&&M[N]>=I&&L.push(N);K||(h.sinkType="none",h.cooktopType="none");h.highCabinetLeft&&h.highCabinetRight+h.highCabinetLeft>z?--h.highCabinetLeft:h.highCabinetRight*I>h.l&&--h.highCabinetRight;0<L.length&&(p&&h.cooktopPos<=n&&(h.cooktopPos=L[0]+1),p&&h.cooktopPos>F&&(h.cooktopPos=L[L.length-1]+1),C&&h.sinkPos<=n&&(h.sinkPos=L[0]+1),C&&h.sinkPos>F&&(h.sinkPos=L[L.length-1]+1));q&&"double"===h.ovenType&&h.ovenPos>n&&h.ovenPos<F&&(h.ovenType="single");q&&C&&h.ovenPos===h.sinkPos&&
--h.ovenPos;q&&0>=h.ovenPos&&(h.ovenPos=n+1);q&&h.ovenPos>z&&(h.ovenPos=F-1);p&&M[h.cooktopPos-1]<I&&--h.cooktopPos;C&&M[h.sinkPos-1]<I&&--h.sinkPos;C&&"double"===h.sinkType&&M[h.sinkPos]<I&&(h.sinkType="single");q&&M[h.ovenPos-1]<I&&(0<h.highCabinetRight?h.ovenPos+=1:--h.ovenPos);A&&M[h.microwavePos-1]<I&&--h.microwavePos;C&&"double"===h.sinkType&&p&&h.sinkPos+1===h.cooktopPos&&(h.sinkType="single");C&&p&&h.sinkPos===h.cooktopPos&&0<L.length&&(h.sinkPos=1<L.length&&L[L.length-1]+1===h.sinkPos?L[0]+
1:L[L.length-1]+1);C&&p&&h.sinkPos===h.cooktopPos&&(h.sinkType="none");if(h.sinkPos<=n||h.sinkPos>F)h.sinkType="none";if(h.cooktopType<=n||h.cooktopType>F)h.cooktopType="none";M=e(h,{elementNum:z,remainder:a});C="none"!==h.sinkType;q="none"!==h.ovenType;p="none"!==h.cooktopType;var P="single"===h.sinkType?.54:1.16;L="single"===h.sinkType?.03:.02;var J="none"!==h.extractorType,O=0,G=0,H=z-h.highCabinetLeft-h.highCabinetRight,Q=0,v=[],t=0;n=[];var x=0,y=[],D=0,U=[],Z=0,ha=[],ia=0;F=[];K=[];var ba=[],
qa=[],na,ka,ra,sa,pa,ua=c(h.highCabinetLeft+1);var W=O;var S=h.counterHeight-h.counterThickness;var T=h.w;var ja=0;var V=O+M[0];var da=O+h.doorWidth/2;var ea=S-h.doorWidth;N=T;var fa=h.baseBoard;var ca=V-h.doorWidth/2;var R=h.w+h.doorWidth;for(var X=0;X<z;X++){W=O;V=O+M[X];da=O+h.doorWidth/2;ca=O+M[X]-h.doorWidth/2;N=(X===h.sinkPos-1||X===h.sinkPos&&"double"===h.sinkType)&&C;X<h.highCabinetLeft?Q=!h.fridge||h.fridgePos-1!==X&&h.fridgePos!==X?X+1===h.ovenPos&&q&&X+1===h.microwavePos&&A?9:X+1===h.ovenPos&&
q?1:X+1===h.microwavePos&&A?8:0:7:X<h.highCabinetLeft+H&&X+1===h.ovenPos&&q?Q=4:X>h.highCabinetLeft+H-1?(Q=X+1===h.ovenPos&&q&&X+1===h.microwavePos&&A?9:X+1===h.ovenPos?1:X+1===h.microwavePos&&A?8:0,W=h.l-h.highCabinetRight*I+G,da=h.l-h.highCabinetRight*I+h.doorWidth/2+G,V=h.l-(h.highCabinetRight-1)*I+G,ca=h.l-(h.highCabinetRight-1)*I+G-h.doorWidth/2,G+=M[X]):Q=N||X===h.highCabinetLeft||X===h.highCabinetLeft+H-1?3:2;X===z-h.highCabinetRight-1&&(V=h.l-h.highCabinetRight*I,ca=h.l-h.highCabinetRight*
I-h.doorWidth/2);X===h.cooktopPos-1&&p&&J&&l();for(N=0;N<E[Q].length-1;N++)m({i:N,aX:W,aY:E[Q][N+1],aZ:h.w,bY:E[Q][N],cX:V,k:Q});if(h.wallCabinet&&X>=h.highCabinetLeft&&X<h.highCabinetLeft+H){Q=5;A&&X===h.microwavePos-1&&(Q=6);for(var ta=0;ta<E[Q].length-1;ta++){if(J&&p&&"integrated"!==h.extractorType){if(X===h.cooktopPos-1)continue;if(.3>M[X]&&X===h.cooktopPos)continue}N=X===h.cooktopPos-1&&p&&J?.04+B-h.wallCabinetHeight:0;m({i:ta,aX:W,aY:f(E[Q][ta+1]+(2<E[Q].length&&0===ta?N:0),100),aZ:h.wallCabinetWidth,
bY:f(E[Q][ta]+N,100),cX:V,k:Q})}}T=h.w;R=T+h.doorWidth;O+=M[X]}0<H&&r(ua,h.counterHeight-h.counterThickness,h.w,0,h.l-h.highCabinetRight*I,0,1);h.wallCabinet&&0<H&&(N=h.cooktopPos>h.highCabinetLeft+1,E=.3<=M[h.cooktopPos]||"integrated"===this.a.extractorType,J&&"none"!==h.cooktopType?(J&&"integrated"!==h.extractorType?N&&r(ua,h.h+-.01,h.wallCabinetWidth,h.wallCabinetHeight,c(h.cooktopPos),0,2):(N&&r(ua,h.h+-.01,h.wallCabinetWidth,h.wallCabinetHeight,c(h.cooktopPos),0,2),r(c(h.cooktopPos),h.h+-.01,
h.wallCabinetWidth,B,c(h.cooktopPos+1),0,2)),E&&r(c(h.cooktopPos+1),h.h+-.01,h.wallCabinetWidth,h.wallCabinetHeight,h.l-h.highCabinetRight*I,0,2)):r(ua,h.h+-.01,h.wallCabinetWidth,h.wallCabinetHeight,h.l-h.highCabinetRight*I,0,2));0!==h.highCabinetLeft&&0<H&&r(0,h.h+-.01,h.w,0,ua,0,3);0!==h.highCabinetLeft&&1>H&&r(0,h.h+-.01,h.w,0,h.l,0,3);0!==h.highCabinetRight&&0<z-h.highCabinetLeft&&r(h.l-h.highCabinetRight*I,h.h+-.01,h.w,0,h.l,0,4);if(0<H){W=c(h.highCabinetLeft+1);S=h.counterHeight;T=h.w+h.doorWidth;
ja=h.counterHeight-h.counterThickness;V=h.l-h.highCabinetRight*I;N=h.barCounter?-.25:0;I=[[c(h.cooktopPos)+.02,h.w+h.doorWidth-.55,h.w+h.doorWidth-.02,c(h.cooktopPos+1)-.02],[c(h.sinkPos)+L,h.w+h.doorWidth-.02-.47,h.w+h.doorWidth-.02,c(h.sinkPos)+L+P]];if(p&&C){if(h.cooktopPos<h.sinkPos){var Y=I[0][0];R=I[0][1];C=I[0][2];var aa=I[0][3];var la=I[1][0];var ma=I[1][1];K=I[1][2];var oa=I[1][3]}else Y=I[1][0],R=I[1][1],C=I[1][2],aa=I[1][3],la=I[0][0],ma=I[0][1],K=I[0][2],oa=I[0][3];n[x]=n[x+9]=W;n[x+1]=
n[x+10]=S;n[x+2]=n[x+11]=N;n[x+3]=W;n[x+4]=S;n[x+5]=T;n[x+6]=n[x+12]=Y;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=C;n[x+15]=Y;n[x+16]=S;n[x+17]=R;x+=18;n[x]=n[x+9]=Y;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=C;n[x+3]=W;n[x+4]=S;n[x+5]=T;n[x+6]=n[x+12]=la;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=T;n[x+15]=aa;n[x+16]=S;n[x+17]=C;x+=18;n[x]=n[x+9]=aa;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=R;n[x+3]=aa;n[x+4]=S;n[x+5]=C;n[x+6]=n[x+12]=la;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=T;n[x+15]=la;n[x+16]=S;n[x+17]=N;x+=18;n[x]=n[x+9]=W;n[x+1]=n[x+10]=S;
n[x+2]=n[x+11]=N;n[x+3]=Y;n[x+4]=S;n[x+5]=R;n[x+6]=n[x+12]=aa;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=R;n[x+15]=la;n[x+16]=S;n[x+17]=N;x+=18;n[x]=n[x+9]=la;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=K;n[x+3]=la;n[x+4]=S;n[x+5]=T;n[x+6]=n[x+12]=V;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=T;n[x+15]=oa;n[x+16]=S;n[x+17]=K;x+=18;n[x]=n[x+9]=oa;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=ma;n[x+3]=oa;n[x+4]=S;n[x+5]=K;n[x+6]=n[x+12]=V;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=T;n[x+15]=V;n[x+16]=S;n[x+17]=N;x+=18;n[x]=n[x+9]=la;n[x+1]=n[x+10]=S;n[x+2]=
n[x+11]=N;n[x+3]=la;n[x+4]=S;n[x+5]=ma;n[x+6]=n[x+12]=oa;n[x+7]=n[x+13]=S;n[x+8]=n[x+14]=ma;n[x+15]=V;n[x+16]=S;n[x+17]=N;x+=18;Y=I[0][0];R=I[0][1];C=I[0][2];aa=I[0][3];F[0]=F[9]=Y;F[1]=F[10]=S;F[2]=F[11]=R;F[3]=Y;F[4]=S;F[5]=C;F[6]=F[12]=aa;F[7]=F[13]=S;F[8]=F[14]=C;F[15]=aa;F[16]=S;F[17]=R;K=[0,1,0,0,1,0,0,1,1,0,1,1]}else p||C?(!1===C?(Y=I[0][0],R=I[0][1],C=I[0][2],aa=I[0][3]):(Y=I[1][0],R=I[1][1],C=I[1][2],aa=I[1][3]),n[x]=n[x+9]=W,n[x+1]=n[x+10]=S,n[x+2]=n[x+11]=N,n[x+3]=W,n[x+4]=S,n[x+5]=T,n[x+
6]=n[x+12]=Y,n[x+7]=n[x+13]=S,n[x+8]=n[x+14]=C,n[x+15]=Y,n[x+16]=S,n[x+17]=R,x+=18,n[x]=n[x+9]=Y,n[x+1]=n[x+10]=S,n[x+2]=n[x+11]=C,n[x+3]=W,n[x+4]=S,n[x+5]=T,n[x+6]=n[x+12]=V,n[x+7]=n[x+13]=S,n[x+8]=n[x+14]=T,n[x+15]=aa,n[x+16]=S,n[x+17]=C,x+=18,n[x]=n[x+9]=aa,n[x+1]=n[x+10]=S,n[x+2]=n[x+11]=R,n[x+3]=aa,n[x+4]=S,n[x+5]=C,n[x+6]=n[x+12]=V,n[x+7]=n[x+13]=S,n[x+8]=n[x+14]=T,n[x+15]=V,n[x+16]=S,n[x+17]=N,x+=18,n[x]=n[x+9]=W,n[x+1]=n[x+10]=S,n[x+2]=n[x+11]=N,n[x+3]=Y,n[x+4]=S,n[x+5]=R,n[x+6]=n[x+12]=aa,
n[x+7]=n[x+13]=S,n[x+8]=n[x+14]=R,n[x+15]=V,n[x+16]=S,n[x+17]=N,x+=18,p&&(F[0]=F[9]=Y,F[1]=F[10]=S,F[2]=F[11]=R,F[3]=Y,F[4]=S,F[5]=C,F[6]=F[12]=aa,F[7]=F[13]=S,F[8]=F[14]=C,F[15]=aa,F[16]=S,F[17]=R,K=[0,1,0,0,1,0,0,1,1,0,1,1])):(n[x]=n[x+9]=W,n[x+1]=n[x+10]=S,n[x+2]=n[x+11]=N,n[x+3]=W,n[x+4]=S,n[x+5]=T,n[x+6]=n[x+12]=V,n[x+7]=n[x+13]=S,n[x+8]=n[x+14]=T,n[x+15]=V,n[x+16]=S,n[x+17]=N,x+=18);n[x]=n[x+9]=W;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=T;n[x+3]=W;n[x+4]=ja;n[x+5]=T;n[x+6]=n[x+12]=V;n[x+7]=n[x+13]=ja;
n[x+8]=n[x+14]=T;n[x+15]=V;n[x+16]=S;n[x+17]=T;x+=18;n[x]=n[x+9]=W;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=N;n[x+3]=W;n[x+4]=ja;n[x+5]=N;n[x+6]=n[x+12]=W;n[x+7]=n[x+13]=ja;n[x+8]=n[x+14]=T;n[x+15]=W;n[x+16]=S;n[x+17]=T;x+=18;n[x]=n[x+9]=V;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=T;n[x+3]=V;n[x+4]=ja;n[x+5]=T;n[x+6]=n[x+12]=V;n[x+7]=n[x+13]=ja;n[x+8]=n[x+14]=N;n[x+15]=V;n[x+16]=S;n[x+17]=N;x+=18;n[x]=n[x+9]=V;n[x+1]=n[x+10]=S;n[x+2]=n[x+11]=N;n[x+3]=V;n[x+4]=ja;n[x+5]=N;n[x+6]=n[x+12]=W;n[x+7]=n[x+13]=ja;n[x+8]=n[x+
14]=N;n[x+15]=W;n[x+16]=S;n[x+17]=N}p={};"none"!==h.sinkType&&(p.sink="single"===h.sinkType?g.singleSink:g.doubleSink);h.fridge&&(p.fridge=g.fridge);if("gas60"===h.cooktopType||"gas90"===h.cooktopType)p.cooktop=g[h.cooktopType];C=c(h.sinkPos)+L;I=c(h.cooktopPos)+M[h.cooktopPos-1]/2;z=Object.keys(p);for(N=0;N<z.length;N++){L=z[N];E=p[L];switch(L){case "sink":x={x:C,y:h.counterHeight,z:h.w+h.doorWidth-.02};break;case "cooktop":x={x:I,y:h.counterHeight,z:h.w+h.doorWidth-.02};break;case "fridge":x={x:c(h.fridgePos),
y:h.baseBoard,z:h.w+h.doorWidth-.02};break;default:throw"Kitchen.getMeshes:Unknown mesh type.";}this.externalData3DResources.push({name:L,src:E,position:x})}p={};0<v.length&&(p.kitchen={positions:new Float32Array(v),normals:k.getNormalsFlat(v),uvs:k.getUvsArchitectural(v),material:"kitchen"});0<n.length&&(p.counter={positions:new Float32Array(n),normals:k.getNormalsFlat(n),uvs:k.getUvsArchitectural(n),material:"counter"});0<U.length&&(p.oven={positions:new Float32Array(U),normals:k.getNormalsFlat(U),
uvs:new Float32Array(ha),material:"oven"});0<F.length&&(p.cooktop={positions:new Float32Array(F),normals:k.getNormalsFlat(F),uvs:new Float32Array(K),material:"cooktop"});0<y.length&&(p.extractor={positions:new Float32Array(y),normals:k.getNormalsFlat(y),material:"tab"});0<ba.length&&(p.microwave={positions:new Float32Array(ba),normals:k.getNormalsFlat(ba),uvs:new Float32Array(qa),material:"microwave"});return p},getMaterials:function(){var a=this.a.materials;a.chrome="chrome";a.black_metal={specularCoef:24,
colorDiffuse:[.02,.02,.02],colorSpecular:[.7,.7,.7]};return a}}})(Viewer);
(function(k){k.ParametricObjects.polyfloor={params:{type:"polyfloor",x:0,y:0,z:0,ry:0,h:.2,lock:!1,bake:!0,bakeStatus:"none",materials:{top:"basic-floor",side:"basic-wall",ceiling:"basic-ceiling"},hasCeiling:!0,hCeiling:2.4,polygon:[[1.5,1.5],[1.5,-1.5],[-1.5,-1.5],[-1.5,1.5]],_afFurnishings:void 0,_afGroups:void 0,_afShuffleIndex:void 0,_afAddedGroups:void 0,_afStyle:"generic"},initialize:function(){this.a.material&&(this.a.materials.top=this.a.material,delete this.a.material);this.a.ceilingMaterial&&
(this.a.materials.ceiling=this.a.ceilingMaterial,delete this.a.ceilingMaterial);this.a.side&&(this.a.materials.side=this.a.sideMaterial,delete this.a.sideMaterial);"living,dining"===this.a.usage&&(this.a.usage="dining_living");"office"===this.a.usage&&(this.a.usage="homeOffice")},getMeshes:function(){var d=this.a;if(3>d.polygon.length)return this.model&&this.model.a.parent.remove(this.model),{meshes:{}};for(var f=[],b=0,e=d.polygon.length;b<e;b++)f[2*b]=d.polygon[b][0],f[2*b+1]=d.polygon[b][1];b=
k.getPolygon({outline:f,y:0,uvx:d.x,uvz:d.z});e=d.hasCeiling?k.getPolygon({outline:f,y:d.hCeiling,uvx:d.x,uvz:d.z,flipSide:!0}):{vertices:new Float32Array(0),uvs:new Float32Array(0)};d=k.getExtrusion({outline:f,y:-d.h,flipSide:!0});f={};0<b.vertices.length&&(f.top={positions:b.vertices,normals:k.getNormalsFlat(b.vertices),uvs:b.uvs,material:"top"});0<d.vertices.length&&(f.sides={positions:d.vertices,normals:k.getNormalsFlat(d.vertices),uvs:d.uvs,material:"side"});0<e.vertices.length&&(f.ceiling={positions:e.vertices,
normals:k.getNormalsFlat(e.vertices),uvs:e.uvs,material:"ceiling"});return f},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.railing={params:{type:"railing",x:0,y:0,z:0,ry:0,l:1,w:.05,h:1,lock:!1,bake:!0,bakeStatus:"none",pailing:.01,segments:5,segmentDistance:.14,segmentation:"distance",materials:{railing:{colorDiffuse:[.85,.85,.85]}}},initialize:function(){this.a.railingMaterial&&(this.a.materials.railing=this.a.railingMaterial,delete this.a.railingMaterial)},getMeshes:function(){var d=this.attributes,f=[],b=0,e=(d.l-d.pailing)/((d.l-d.pailing)/d.segmentDistance>>0),g=d.l/e;"number"===
d.segmentation&&(g=d.segments,e=(d.l-d.pailing)/g);for(var a,c=d.h-d.pailing,m=d.w,l=d.pailing,r,h=0,C=0;C<=g;C++)a=r=C*e,r+=d.pailing,f[b]=f[b+9]=a,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=m,f[b+3]=a,f[b+4]=l,f[b+5]=m,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=m,f[b+15]=r,f[b+16]=c,f[b+17]=m,b+=18,f[b]=f[b+9]=a,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=h,f[b+3]=a,f[b+4]=l,f[b+5]=h,f[b+6]=f[b+12]=a,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=m,f[b+15]=a,f[b+16]=c,f[b+17]=m,b+=18,f[b]=f[b+9]=r,f[b+1]=f[b+10]=c,f[b+2]=f[b+
11]=m,f[b+3]=r,f[b+4]=l,f[b+5]=m,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=h,f[b+15]=r,f[b+16]=c,f[b+17]=h,b+=18,f[b]=f[b+9]=r,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=h,f[b+3]=r,f[b+4]=l,f[b+5]=h,f[b+6]=f[b+12]=a,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=h,f[b+15]=a,f[b+16]=c,f[b+17]=h,b+=18;for(C=e=0;2>C;C++)a=0,c=e+d.pailing,m=d.w,l=e,r=d.l,h=0,f[b]=f[b+9]=a,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=h,f[b+3]=a,f[b+4]=c,f[b+5]=m,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=c,f[b+8]=f[b+14]=m,f[b+15]=r,f[b+16]=c,f[b+17]=h,b+=18,f[b]=
f[b+9]=a,f[b+1]=f[b+10]=l,f[b+2]=f[b+11]=m,f[b+3]=a,f[b+4]=l,f[b+5]=h,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=h,f[b+15]=r,f[b+16]=l,f[b+17]=m,b+=18,f[b]=f[b+9]=a,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=m,f[b+3]=a,f[b+4]=l,f[b+5]=m,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=m,f[b+15]=r,f[b+16]=c,f[b+17]=m,b+=18,f[b]=f[b+9]=a,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=h,f[b+3]=a,f[b+4]=l,f[b+5]=h,f[b+6]=f[b+12]=a,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=m,f[b+15]=a,f[b+16]=c,f[b+17]=m,b+=18,f[b]=f[b+9]=r,f[b+1]=
f[b+10]=c,f[b+2]=f[b+11]=m,f[b+3]=r,f[b+4]=l,f[b+5]=m,f[b+6]=f[b+12]=r,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=h,f[b+15]=r,f[b+16]=c,f[b+17]=h,b+=18,f[b]=f[b+9]=r,f[b+1]=f[b+10]=c,f[b+2]=f[b+11]=h,f[b+3]=r,f[b+4]=l,f[b+5]=h,f[b+6]=f[b+12]=a,f[b+7]=f[b+13]=l,f[b+8]=f[b+14]=h,f[b+15]=a,f[b+16]=c,f[b+17]=h,e=d.h-d.pailing;return{railing:{positions:f,normals:k.getNormalsFlat(f),material:"railing"}}},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){function d(d){return Math.round(1E6*d)/1E6}k.ParametricObjects.wall={params:{type:"wall",x:0,y:0,z:0,ry:0,l:1,w:.15,h:2.4,lock:!1,bake:!0,bakeStatus:"none",materials:{front:"basic-wall",back:"basic-wall",base:{colorDiffuse:[.95,.95,.95]},top:"wall_top"},baseHeight:0,frontHasBase:!0,backHasBase:!0},initialize:function(){this.a.frontMaterial&&(this.a.materials.front=this.a.frontMaterial,delete this.a.frontMaterial);this.a.backMaterial&&(this.a.materials.back=this.a.backMaterial,delete this.a.backMaterial);
this.a.baseMaterial&&(this.a.materials.base=this.a.baseMaterial,delete this.a.baseMaterial)},getMeshes:function(){var f=this.attributes,b=f.children;b.sort(function(a,b){return(void 0!==a.a?a.a.x:a.x)-(void 0!==b.a?b.a.x:b.x)});var e=f.frontHasBase?f.baseHeight:0,g=f.backHasBase?f.baseHeight:0,a=[],c=0,m=[],l=0,r=[],h=0,C=[],q=0,p=[],A=0,n=[],u=0,w=0,B=f.l,E=f.w;f=f.h;for(var I,N,M,z,F,K,L,P,J=0,O=b.length;J<O;J++){I=b[J].a?b[J].a:b[J];N=b[J-1]?b[J-1].a:null;M=b[J+1]?b[J+1].a:null;z=I.x;F=I.y;K=I.l;
L=I.h;w<z&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=E,m[l+3]=z,m[l+4]=e,m[l+5]=E,m[l+6]=m[l+12]=z,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=e,r[h+2]=z,r[h+3]=e,r[h+4]=r[h+8]=z,r[h+5]=r[h+9]=f,r[h+10]=w,r[h+11]=f,h+=12,e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=E,a[c+3]=z,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=z,a[c+7]=a[c+13]=e,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=e,a[c+17]=E,c+=18),C[q]=C[q+9]=w,C[q+1]=C[q+10]=f,C[q+2]=C[q+11]=0,C[q+3]=
z,C[q+4]=f,C[q+5]=0,C[q+6]=C[q+12]=z,C[q+7]=C[q+13]=g,C[q+8]=C[q+14]=0,C[q+15]=w,C[q+16]=g,C[q+17]=0,q+=18,p[A]=p[A+6]=w,p[A+1]=p[A+7]=f,p[A+2]=z,p[A+3]=f,p[A+4]=p[A+8]=z,p[A+5]=p[A+9]=g,p[A+10]=w,p[A+11]=g,A+=12,g&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=g,a[c+2]=a[c+11]=0,a[c+3]=z,a[c+4]=g,a[c+5]=0,a[c+6]=a[c+12]=z,a[c+7]=a[c+13]=0,a[c+8]=a[c+14]=0,a[c+15]=w,a[c+16]=0,a[c+17]=0,c+=18),n[u]=n[u+9]=w,n[u+1]=n[u+10]=f,n[u+2]=n[u+11]=E,n[u+3]=z,n[u+4]=f,n[u+5]=E,n[u+6]=n[u+12]=z,n[u+7]=n[u+13]=f,n[u+8]=n[u+14]=
0,n[u+15]=w,n[u+16]=f,n[u+17]=0,u+=18,0===w&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=e,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=e,r[h+2]=E,r[h+3]=e,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=f,r[h+10]=0,r[h+11]=f,h+=12,e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=0,a[c+3]=w,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=e,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=e,a[c+17]=0,c+=18)));w=z;if(0<F){P=g>I.y?
I.y:g;var G=e>I.y?I.y:e;I.y>e&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=e,m[l+5]=E,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=F,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=F,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=e,r[h+2]=w+K,r[h+3]=e,r[h+4]=r[h+8]=w+K,r[h+5]=r[h+9]=F,r[h+10]=w,r[h+11]=F,h+=12);e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=E,a[c+3]=w+K,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w+K,a[c+7]=a[c+13]=G,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=G,a[c+17]=E,c+=18);I.y>g&&(C[q]=C[q+9]=w,
C[q+1]=C[q+10]=F,C[q+2]=C[q+11]=0,C[q+3]=w+K,C[q+4]=F,C[q+5]=0,C[q+6]=C[q+12]=w+K,C[q+7]=C[q+13]=g,C[q+8]=C[q+14]=0,C[q+15]=w,C[q+16]=g,C[q+17]=0,q+=18,p[A]=p[A+6]=w,p[A+1]=p[A+7]=F,p[A+2]=w+K,p[A+3]=F,p[A+4]=p[A+8]=w+K,p[A+5]=p[A+9]=g,p[A+10]=w,p[A+11]=g,A+=12);g&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=P,a[c+2]=a[c+11]=0,a[c+3]=w+K,a[c+4]=P,a[c+5]=0,a[c+6]=a[c+12]=w+K,a[c+7]=a[c+13]=0,a[c+8]=a[c+14]=0,a[c+15]=w,a[c+16]=0,a[c+17]=0,c+=18);m[l]=m[l+9]=w;m[l+1]=m[l+10]=F;m[l+2]=m[l+11]=E;m[l+3]=w+K;m[l+4]=F;
m[l+5]=E;m[l+6]=m[l+12]=w+K;m[l+7]=m[l+13]=F;m[l+8]=m[l+14]=0;m[l+15]=w;m[l+16]=F;m[l+17]=0;l+=18;r[h]=r[h+6]=w;r[h+1]=r[h+7]=E;r[h+2]=w+K;r[h+3]=E;r[h+4]=r[h+8]=w+K;r[h+5]=r[h+9]=0;r[h+10]=w;r[h+11]=0;h+=12;0>=w?(I.y>e&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=e,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=F,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=F,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=e,r[h+2]=E,r[h+3]=e,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=F,r[h+10]=0,r[h+11]=F,h+=12),e&&(a[c]=a[c+
9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=0,a[c+3]=w,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=G,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=G,a[c+17]=0,c+=18)):N&&z===d(N.x+N.l)&&N.y<F&&(P=Math.max(e,N.y),I.y>e&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=P,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=P,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=F,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=F,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=P,r[h+2]=E,r[h+3]=P,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=F,r[h+10]=0,r[h+11]=F,h+=12),e&&N.y<e&&(a[c]=a[c+9]=w,
a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=0,a[c+3]=w,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=P,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=P,a[c+17]=0,c+=18));d(w+K)>=B?(I.y>e&&(m[l]=m[l+9]=w+K,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=e,m[l+5]=0,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=F,m[l+8]=m[l+14]=0,m[l+15]=w+K,m[l+16]=F,m[l+17]=E,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=e,r[h+2]=0,r[h+3]=e,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=F,r[h+10]=E,r[h+11]=F,h+=12),e&&(a[c]=a[c+9]=w+K,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=E,a[c+
3]=w+K,a[c+4]=0,a[c+5]=0,a[c+6]=a[c+12]=w+K,a[c+7]=a[c+13]=G,a[c+8]=a[c+14]=0,a[c+15]=w+K,a[c+16]=G,a[c+17]=E,c+=18)):M&&d(z+K)===M.x&&M.y<F&&(P=Math.max(e,M.y),I.y>e&&(m[l]=m[l+9]=w+K,m[l+1]=m[l+10]=F,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=P,m[l+5]=E,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=P,m[l+8]=m[l+14]=0,m[l+15]=w+K,m[l+16]=F,m[l+17]=0,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=F,r[h+2]=E,r[h+3]=P,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=P,r[h+10]=0,r[h+11]=F,h+=12),e&&M.y<e&&(a[c]=a[c+9]=w+K,a[c+1]=a[c+10]=P,a[c+2]=a[c+
11]=E,a[c+3]=w+K,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w+K,a[c+7]=a[c+13]=0,a[c+8]=a[c+14]=0,a[c+15]=w+K,a[c+16]=P,a[c+17]=0,c+=18))}0<z&&(!N||z!==d(N.x+N.l))&&(P=Math.max(e,F),I=Math.max(e,F+L),m[l]=m[l+9]=w,m[l+1]=m[l+10]=P,m[l+2]=m[l+11]=E,m[l+3]=w,m[l+4]=P,m[l+5]=0,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=I,m[l+8]=m[l+14]=0,m[l+15]=w,m[l+16]=I,m[l+17]=E,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=P,r[h+2]=0,r[h+3]=P,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=I,r[h+10]=E,r[h+11]=I,h+=12,e&&F<e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+
2]=a[c+11]=E,a[c+3]=w,a[c+4]=0,a[c+5]=0,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=P,a[c+8]=a[c+14]=0,a[c+15]=w,a[c+16]=P,a[c+17]=E,c+=18));z+K<B&&(!M||d(z+K)!==M.x)&&(P=Math.max(e,F),I=Math.max(e,F+L),m[l]=m[l+9]=w+K,m[l+1]=m[l+10]=P,m[l+2]=m[l+11]=0,m[l+3]=w+K,m[l+4]=P,m[l+5]=E,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=I,m[l+8]=m[l+14]=E,m[l+15]=w+K,m[l+16]=I,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=P,r[h+2]=E,r[h+3]=P,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=I,r[h+10]=0,r[h+11]=I,h+=12,e&&F<e&&(a[c]=a[c+9]=w+K,a[c+1]=a[c+
10]=0,a[c+2]=a[c+11]=0,a[c+3]=w+K,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w+K,a[c+7]=a[c+13]=P,a[c+8]=a[c+14]=E,a[c+15]=w+K,a[c+16]=P,a[c+17]=0,c+=18));d(F+L)<f&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=F+L,m[l+5]=E,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=F+L,r[h+2]=w+K,r[h+3]=F+L,r[h+4]=r[h+8]=w+K,r[h+5]=r[h+9]=f,r[h+10]=w,r[h+11]=f,h+=12,C[q]=C[q+9]=w,C[q+1]=C[q+10]=f,C[q+2]=C[q+11]=0,C[q+3]=w+K,C[q+
4]=f,C[q+5]=0,C[q+6]=C[q+12]=w+K,C[q+7]=C[q+13]=F+L,C[q+8]=C[q+14]=0,C[q+15]=w,C[q+16]=F+L,C[q+17]=0,q+=18,p[A]=p[A+6]=w,p[A+1]=p[A+7]=f,p[A+2]=w+K,p[A+3]=f,p[A+4]=p[A+8]=w+K,p[A+5]=p[A+9]=F+L,p[A+10]=w,p[A+11]=F+L,A+=12,n[u]=n[u+9]=w,n[u+1]=n[u+10]=f,n[u+2]=n[u+11]=E,n[u+3]=w+K,n[u+4]=f,n[u+5]=E,n[u+6]=n[u+12]=w+K,n[u+7]=n[u+13]=f,n[u+8]=n[u+14]=0,n[u+15]=w,n[u+16]=f,n[u+17]=0,u+=18,m[l]=m[l+9]=w,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=0,m[l+3]=w+K,m[l+4]=F+L,m[l+5]=0,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=
F+L,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=F+L,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=0,r[h+2]=w+K,r[h+3]=0,r[h+4]=r[h+8]=w+K,r[h+5]=r[h+9]=E,r[h+10]=w,r[h+11]=E,h+=12,0>=w?(m[l]=m[l+9]=w,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=F+L,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=F+L,r[h+2]=E,r[h+3]=F+L,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=F,r[h+10]=0,r[h+11]=f,h+=12):N&&z===d(N.x+N.l)&&d(N.y+N.h)>d(F+L)&&(m[l]=m[l+9]=
w,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=F+L,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=N.y+N.h,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=N.y+N.h,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=F+L,r[h+2]=E,r[h+3]=F+L,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=N.y+N.h,r[h+10]=0,r[h+11]=N.y+N.h,h+=12),d(w+K)>=B?(m[l]=m[l+9]=w+K,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=F+L,m[l+5]=0,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=0,m[l+15]=w+K,m[l+16]=f,m[l+17]=E,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=
F+L,r[h+2]=0,r[h+3]=F+L,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=f,r[h+10]=E,r[h+11]=f,h+=12):M&&d(z+K)===M.x&&d(M.y+M.h)>d(F+L)&&(m[l]=m[l+9]=w+K,m[l+1]=m[l+10]=F+L,m[l+2]=m[l+11]=E,m[l+3]=w+K,m[l+4]=F+L,m[l+5]=0,m[l+6]=m[l+12]=w+K,m[l+7]=m[l+13]=M.y+M.h,m[l+8]=m[l+14]=0,m[l+15]=w+K,m[l+16]=M.y+M.h,m[l+17]=E,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=F+L,r[h+2]=0,r[h+3]=F+L,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=M.y+M.h,r[h+10]=E,r[h+11]=M.y+M.h,h+=12));w+=K}w<B&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=E,m[l+3]=B,m[l+
4]=e,m[l+5]=E,m[l+6]=m[l+12]=B,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=e,r[h+2]=B,r[h+3]=e,r[h+4]=r[h+8]=B,r[h+5]=r[h+9]=f,r[h+10]=w,r[h+11]=f,h+=12,e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=E,a[c+3]=B,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=B,a[c+7]=a[c+13]=e,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=e,a[c+17]=E,c+=18),C[q]=C[q+9]=w,C[q+1]=C[q+10]=f,C[q+2]=C[q+11]=0,C[q+3]=B,C[q+4]=f,C[q+5]=0,C[q+6]=C[q+12]=B,C[q+7]=C[q+13]=g,C[q+8]=C[q+14]=0,C[q+
15]=w,C[q+16]=g,C[q+17]=0,q+=18,p[A]=p[A+6]=w,p[A+1]=p[A+7]=f,p[A+2]=B,p[A+3]=f,p[A+4]=p[A+8]=B,p[A+5]=p[A+9]=g,p[A+10]=w,p[A+11]=g,A+=12,g&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=g,a[c+2]=a[c+11]=0,a[c+3]=B,a[c+4]=g,a[c+5]=0,a[c+6]=a[c+12]=B,a[c+7]=a[c+13]=0,a[c+8]=a[c+14]=0,a[c+15]=w,a[c+16]=0,a[c+17]=0,c+=18),n[u]=n[u+9]=w,n[u+1]=n[u+10]=f,n[u+2]=n[u+11]=E,n[u+3]=B,n[u+4]=f,n[u+5]=E,n[u+6]=n[u+12]=B,n[u+7]=n[u+13]=f,n[u+8]=n[u+14]=0,n[u+15]=w,n[u+16]=f,n[u+17]=0,u+=18,m[l]=m[l+9]=w,m[l+1]=m[l+10]=0,m[l+
2]=m[l+11]=0,m[l+3]=B,m[l+4]=0,m[l+5]=0,m[l+6]=m[l+12]=B,m[l+7]=m[l+13]=0,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=0,m[l+17]=E,l+=18,r[h]=r[h+6]=w,r[h+1]=r[h+7]=0,r[h+2]=B,r[h+3]=0,r[h+4]=r[h+8]=B,r[h+5]=r[h+9]=0,r[h+10]=w,r[h+11]=0,h+=12,0===w&&(m[l]=m[l+9]=w,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=0,m[l+3]=w,m[l+4]=e,m[l+5]=E,m[l+6]=m[l+12]=w,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=E,m[l+15]=w,m[l+16]=f,m[l+17]=0,l+=18,r[h]=r[h+6]=0,r[h+1]=r[h+7]=e,r[h+2]=E,r[h+3]=e,r[h+4]=r[h+8]=E,r[h+5]=r[h+9]=f,r[h+10]=0,r[h+11]=
f,h+=12,e&&(a[c]=a[c+9]=w,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=0,a[c+3]=w,a[c+4]=0,a[c+5]=E,a[c+6]=a[c+12]=w,a[c+7]=a[c+13]=e,a[c+8]=a[c+14]=E,a[c+15]=w,a[c+16]=e,a[c+17]=0,c+=18)),m[l]=m[l+9]=B,m[l+1]=m[l+10]=e,m[l+2]=m[l+11]=E,m[l+3]=B,m[l+4]=e,m[l+5]=0,m[l+6]=m[l+12]=B,m[l+7]=m[l+13]=f,m[l+8]=m[l+14]=0,m[l+15]=B,m[l+16]=f,m[l+17]=E,l+=18,r[h]=r[h+6]=E,r[h+1]=r[h+7]=e,r[h+2]=0,r[h+3]=e,r[h+4]=r[h+8]=0,r[h+5]=r[h+9]=f,r[h+10]=E,r[h+11]=f,h+=12,e&&(a[c]=a[c+9]=B,a[c+1]=a[c+10]=0,a[c+2]=a[c+11]=E,a[c+3]=
B,a[c+4]=0,a[c+5]=0,a[c+6]=a[c+12]=B,a[c+7]=a[c+13]=e,a[c+8]=a[c+14]=0,a[c+15]=B,a[c+16]=e,a[c+17]=E,c+=18));b={};0<m.length&&(b.front={positions:m,normals:k.getNormalsFlat(m),uvs:r,material:"front"});0<C.length&&(b.back={positions:C,normals:k.getNormalsFlat(C),uvs:p,material:"back"});0<n.length&&(b.top={positions:n,normals:k.getNormalsFlat(n),material:"top"});0<a.length&&(b.base={positions:a,normals:k.getNormalsFlat(a),uvs:k.getUvsArchitectural(a),material:"base"});return b},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){k.ParametricObjects.window={params:{type:"window",x:0,y:.8,z:0,ry:0,l:1.6,h:1.5,lock:!1,bake:!0,bakeStatus:"none",rowRatios:[1],columnRatios:[[1]],frameLength:.04,frameWidth:.06,materials:{frame:{colorDiffuse:[.85,.85,.85]},glass:"glass"}},initialize:function(){this.a.frameMaterial&&(this.a.materials.frame=this.a.frameMaterial,delete this.a.frameMaterial);this.a.glassMaterial&&(this.a.materials.glass=this.a.glassMaterial,delete this.a.glassMaterial);this.a.materials&&this.a.materials.frame&&
3===this.a.materials.frame.length&&(this.a.materials.frame={colorDiffuse:this.a.materials.frame})},_setRatios:function(d){var f,b=d.rows||this.a.rowRatios,e=d.columns||this.a.columnRatios;if(d.rows){var g=[];d=0;for(f=b.length;d<f;d++)g[d]=e[d]?e[d]:[1];e=g}else{g=[];d=0;for(f=e.length;d<f;d++)g[d]=b[d]?b[d]:1;b=g}this.set({rowRatios:b,columnRatios:e})},getMeshes:function(){var d=this.attributes,f=d.rowRatios,b=d.columnRatios,e=d.frameLength,g=d.frameWidth,a=d.h,c=0,m=d.h-e,l=d.l-e,r=f.length,h=0,
C=[],q=4*r+18,p=0,A,n;for(A=0;A<r;A++){h+=f[A];C[A]=0;var u=b[A].length;q+=4*(u-1)+8*u;p+=4*u;for(n=0;n<u;n++)C[A]+=b[A][n]}m/=h;q=new Float32Array(9*q);h=0;p=new Float32Array(9*p);var w=0;for(A=0;A<r;A++){u=b[A].length;var B=l/C[A];q[h]=e;q[h+1]=a;q[h+2]=0;q[h+3]=l;q[h+4]=a-e;q[h+5]=0;q[h+6]=e;q[h+7]=a-e;q[h+8]=0;q[h+9]=l;q[h+10]=a-e;q[h+11]=0;q[h+12]=e;q[h+13]=a;q[h+14]=0;q[h+15]=l;q[h+16]=a;q[h+17]=0;q[h+18]=e;q[h+19]=a;q[h+20]=g;q[h+21]=e;q[h+22]=a-e;q[h+23]=g;q[h+24]=l;q[h+25]=a-e;q[h+26]=g;
q[h+27]=l;q[h+28]=a-e;q[h+29]=g;q[h+30]=l;q[h+31]=a;q[h+32]=g;q[h+33]=e;q[h+34]=a;q[h+35]=g;h+=36;a-=e;for(n=0;n<u-1;n++)c+=B*b[A][n],q[h]=c,q[h+1]=a,q[h+2]=0,q[h+3]=c+e,q[h+4]=a-m*f[A]+e,q[h+5]=0,q[h+6]=c,q[h+7]=a-m*f[A]+e,q[h+8]=0,q[h+9]=c+e,q[h+10]=a-m*f[A]+e,q[h+11]=0,q[h+12]=c,q[h+13]=a,q[h+14]=0,q[h+15]=c+e,q[h+16]=a,q[h+17]=0,q[h+18]=c,q[h+19]=a,q[h+20]=g,q[h+21]=c,q[h+22]=a-m*f[A]+e,q[h+23]=g,q[h+24]=c+e,q[h+25]=a-m*f[A]+e,q[h+26]=g,q[h+27]=c+e,q[h+28]=a-m*f[A]+e,q[h+29]=g,q[h+30]=c+e,q[h+
31]=a,q[h+32]=g,q[h+33]=c,q[h+34]=a,q[h+35]=g,h+=36;for(n=c=0;n<u;n++)p[w]=c+e,p[w+1]=a,p[w+2]=0,p[w+3]=c+e,p[w+4]=a-m*f[A]+e,p[w+5]=0,p[w+6]=c+B*b[A][n],p[w+7]=a-m*f[A]+e,p[w+8]=0,p[w+9]=c+B*b[A][n],p[w+10]=a-m*f[A]+e,p[w+11]=0,p[w+12]=c+B*b[A][n],p[w+13]=a,p[w+14]=0,p[w+15]=c+e,p[w+16]=a,p[w+17]=0,w+=18,p[w]=c+e,p[w+1]=a,p[w+2]=0,p[w+3]=c+B*b[A][n],p[w+4]=a-m*f[A]+e,p[w+5]=0,p[w+6]=c+e,p[w+7]=a-m*f[A]+e,p[w+8]=0,p[w+9]=c+B*b[A][n],p[w+10]=a-m*f[A]+e,p[w+11]=0,p[w+12]=c+e,p[w+13]=a,p[w+14]=0,p[w+
15]=c+B*b[A][n],p[w+16]=a,p[w+17]=0,w+=18,q[h]=c+e,q[h+1]=a,q[h+2]=0,q[h+3]=c+e,q[h+4]=a-m*f[A]+e,q[h+5]=g,q[h+6]=c+e,q[h+7]=a-m*f[A]+e,q[h+8]=0,q[h+9]=c+e,q[h+10]=a,q[h+11]=0,q[h+12]=c+e,q[h+13]=a,q[h+14]=g,q[h+15]=c+e,q[h+16]=a-m*f[A]+e,q[h+17]=g,h+=18,q[h]=c+e,q[h+1]=a-m*f[A]+e,q[h+2]=0,q[h+3]=c+B*b[A][n],q[h+4]=a-m*f[A]+e,q[h+5]=g,q[h+6]=c+B*b[A][n],q[h+7]=a-m*f[A]+e,q[h+8]=0,q[h+9]=c+e,q[h+10]=a-m*f[A]+e,q[h+11]=0,q[h+12]=c+e,q[h+13]=a-m*f[A]+e,q[h+14]=g,q[h+15]=c+B*b[A][n],q[h+16]=a-m*f[A]+
e,q[h+17]=g,h+=18,q[h]=c+e,q[h+1]=a,q[h+2]=0,q[h+3]=c+B*b[A][n],q[h+4]=a,q[h+5]=0,q[h+6]=c+B*b[A][n],q[h+7]=a,q[h+8]=g,q[h+9]=c+e,q[h+10]=a,q[h+11]=0,q[h+12]=c+B*b[A][n],q[h+13]=a,q[h+14]=g,q[h+15]=c+e,q[h+16]=a,q[h+17]=g,h+=18,c+=B*b[A][n],q[h]=c,q[h+1]=a,q[h+2]=0,q[h+3]=c,q[h+4]=a-m*f[A]+e,q[h+5]=0,q[h+6]=c,q[h+7]=a-m*f[A]+e,q[h+8]=g,q[h+9]=c,q[h+10]=a,q[h+11]=0,q[h+12]=c,q[h+13]=a-m*f[A]+e,q[h+14]=g,q[h+15]=c,q[h+16]=a,q[h+17]=g,h+=18;c=0;a-=m*f[A]-e}q[h]=e;q[h+1]=a;q[h+2]=0;q[h+3]=l;q[h+4]=a-
e;q[h+5]=0;q[h+6]=e;q[h+7]=a-e;q[h+8]=0;q[h+9]=l;q[h+10]=a-e;q[h+11]=0;q[h+12]=e;q[h+13]=a;q[h+14]=0;q[h+15]=l;q[h+16]=a;q[h+17]=0;q[h+18]=e;q[h+19]=a;q[h+20]=g;q[h+21]=e;q[h+22]=a-e;q[h+23]=g;q[h+24]=l;q[h+25]=a-e;q[h+26]=g;q[h+27]=l;q[h+28]=a-e;q[h+29]=g;q[h+30]=l;q[h+31]=a;q[h+32]=g;q[h+33]=e;q[h+34]=a;q[h+35]=g;h+=36;q[h]=0;q[h+1]=d.h;q[h+2]=0;q[h+3]=e;q[h+4]=0;q[h+5]=0;q[h+6]=0;q[h+7]=0;q[h+8]=0;q[h+9]=e;q[h+10]=0;q[h+11]=0;q[h+12]=0;q[h+13]=d.h;q[h+14]=0;q[h+15]=e;q[h+16]=d.h;q[h+17]=0;q[h+
18]=0;q[h+19]=d.h;q[h+20]=g;q[h+21]=0;q[h+22]=0;q[h+23]=g;q[h+24]=e;q[h+25]=0;q[h+26]=g;q[h+27]=e;q[h+28]=0;q[h+29]=g;q[h+30]=e;q[h+31]=d.h;q[h+32]=g;q[h+33]=0;q[h+34]=d.h;q[h+35]=g;h+=36;q[h]=l;q[h+1]=d.h;q[h+2]=0;q[h+3]=d.l;q[h+4]=0;q[h+5]=0;q[h+6]=l;q[h+7]=0;q[h+8]=0;q[h+9]=d.l;q[h+10]=0;q[h+11]=0;q[h+12]=l;q[h+13]=d.h;q[h+14]=0;q[h+15]=d.l;q[h+16]=d.h;q[h+17]=0;q[h+18]=l;q[h+19]=d.h;q[h+20]=g;q[h+21]=l;q[h+22]=0;q[h+23]=g;q[h+24]=d.l;q[h+25]=0;q[h+26]=g;q[h+27]=d.l;q[h+28]=0;q[h+29]=g;q[h+30]=
d.l;q[h+31]=d.h;q[h+32]=g;q[h+33]=l;q[h+34]=d.h;q[h+35]=g;h+=36;q[h]=d.l;q[h+1]=d.h;q[h+2]=0;q[h+3]=d.l;q[h+4]=0;q[h+5]=g;q[h+6]=d.l;q[h+7]=0;q[h+8]=0;q[h+9]=d.l;q[h+10]=d.h;q[h+11]=0;q[h+12]=d.l;q[h+13]=d.h;q[h+14]=g;q[h+15]=d.l;q[h+16]=0;q[h+17]=g;h+=18;q[h]=0;q[h+1]=d.h;q[h+2]=0;q[h+3]=0;q[h+4]=0;q[h+5]=0;q[h+6]=0;q[h+7]=0;q[h+8]=g;q[h+9]=0;q[h+10]=d.h;q[h+11]=0;q[h+12]=0;q[h+13]=0;q[h+14]=g;q[h+15]=0;q[h+16]=d.h;q[h+17]=g;h+=18;q[h]=0;q[h+1]=d.h;q[h+2]=0;q[h+3]=d.l;q[h+4]=d.h;q[h+5]=g;q[h+6]=
d.l;q[h+7]=d.h;q[h+8]=0;q[h+9]=d.l;q[h+10]=d.h;q[h+11]=g;q[h+12]=0;q[h+13]=d.h;q[h+14]=0;q[h+15]=0;q[h+16]=d.h;q[h+17]=g;d={};0<q.length&&(d.frame={positions:q,normals:k.getNormalsFlat(q),material:"frame"});0<p.length&&(d.glass={positions:p,normals:k.getNormalsFlat(p),material:"glass"});return d},getMaterials:function(){return this.a.materials}}})(Viewer);
(function(k){function d(a){0<a.length&&("/"===a[0]||"\\"===a[0])&&(a=a.substring(1));return a}function f(a,b,c,e,f){if(c){var g=Utils.extractFileExt(c);-1<[".bmp",".jpg",".png",".tga",".dds"].indexOf(g)&&(b=""!==Utils.extractFilePath(c)?d(c):b+"/"+d(c),a=a.getOrCreateTexture(b,{missing:!0}),e.maps[f].textures.push(a))}}function b(a,b,c,d,e){var g=Utils.extractPathFromUrl(a.filename);f(a,g,b[c+"Preview"],d,e);f(a,g,b[c],d,e)}function e(a,b,c,d,e){a[b]?(e=c.color,a=a[b],a=WebGL.RGB(a[0],a[1],a[2]),
e[d]=a):(d=c.color[d],d[0]=e[0],d[1]=e[1],d[2]=e[2])}function g(a,b,c,d,e){if(a){var f=a.length/2;if(f<b)for(console.warn("ArchilogicCommon.validateTexCoords: Mesh "+c+", material "+d.name+" specified a "+e+" but it has incomplete UV coordinate data."),c=0;c<b-f;c++)a.push(0,0)}else for(console.warn("ArchilogicCommon.validateTexCoords: Mesh "+c+", material "+d.name+" specifies a "+e+" but does not include UV coordinates."),a=[],c=0;c<b;c++)a.push(0,0);return a}var a=vec3.fromValues(0,0,0),c=vec3.fromValues(0,
0,0),m=vec3.fromValues(1,1,1),l=quat.create(),r=mat4.create(),h=mat4.create(),C=WebGL.RGB(0,0,0),q=WebGL.RGB(1,1,1),p=WebGL.RGB(.85,.85,.85),A=WebGL.RGB(.25,.25,.25),n=new Float32Array([1,1]);k.ArchilogicCommon={convertMaterial:function(a,c,d,f){c=a.getOrCreateMaterial(c,{missing:!1,size:n});b(a,d,"mapDiffuse",c,"diffuse");b(a,d,"mapSpecular",c,"specular");b(a,d,"mapLight",c,"light");b(a,d,"mapNormal",c,"normal");b(a,d,"mapOpacity",c,"opacity");c.maps.light.intensity=.5*("undefined"!==typeof d.mapLightIntensity?
d.mapLightIntensity:f&&"undefined"!==typeof f.mapLightIntensity?f.mapLightIntensity:1);c.maps.light.origin="undefined"!==typeof d.mapLightCenter?d.mapLightCenter:f&&"undefined"!==typeof f.mapLightCenter?f.mapLightCenter:.5;"undefined"!==typeof d.mapLightFalloff&&console.warn("ArchilogicImporterCommon.convertMaterial: Lightmap falloff value ignored.");a=c.maps.diffuse.textures[0]?q:p;e(d,"colorEmissive",c,"emissive",C);e(d,"colorDiffuse",c,"diffuse",a);e(d,"colorAmbient",c,"ambient",c.color.diffuse);
e(d,"colorSpecular",c,"specular",A);c.importer.size="undefined"!==typeof d.size?d.size:n;c.shininess="undefined"!==typeof d.specularCoef?Math.max(1,d.specularCoef):1;c.opacity="undefined"!==typeof d.opacity?d.opacity:"undefined"!==typeof d.transparency?d.transparency:1;c.depthWrite=1===c.opacity;return c},convertMeshOrMaterialStream:function(b,d,e,f,k){switch(k){case "AL2":var p=e.geometry;var q=p.position&&p.position.array?p.position.array:null;var u=p.normal&&p.normal.array?p.normal.array:null;
var w=p.uv&&p.uv.array?p.uv.array:null;p=p.uv2&&p.uv2.array?p.uv2.array:null;break;case "Data3D":q=e.positions?e.positions:null;u=e.normals?e.normals:null;w=e.uvs?e.uvs:null;p=e.uvsLightmap?e.uvsLightmap:null;break;default:throw"Unknown format: "+k;}e.material?b=b.getOrCreateMaterial(e.material,{missing:!0,size:n}):(console.warn("ArchilogicCommon.convertMeshOrMaterialStream: Mesh "+d+" does not specify a material, using default."),b=b.createMaterial(b.getUniqueMaterialName(),{missing:!1,size:n}));
q||console.error("ArchilogicCommon.convertMeshOrMaterialStream: No positions array in mesh.");0===q.length&&console.error("ArchilogicCommon.convertMeshOrMaterialStream: Empty positions array in mesh.");0!==q.length%3&&console.error("ArchilogicCommon.convertMeshOrMaterialStream: Incomplete position data in mesh.");var C=q.length/3,A=b.maps;if(A.diffuse.textures[0]||A.specular.textures[0]||A.normal.textures[0])w=g(w,C,d,b,"diffuse, specular or normal map");A.light.textures[0]&&(p=g(p,C,d,b,"lightmap"));
A=b.importer.size[0];var B=b.importer.size[1];if(0===A||0===B)console.warn("ArchilogicCommon.convertMeshOrMaterialStream: Mesh "+d+", material "+e.material.name+" has zero size.");else if(1!==A||1!==B)if(A=1/A,B=1/B,w)for(var E=w,I=0,G=0;G<C;G++)E[I+0]*=A,E[I+1]*=B,I+=2;"Data3D"===k&&(k=e.position?e.position:a,C=e.rotRad?e.rotRad:c,e=e.scale?e.scale:m,0!==k[0]||0!==k[1]||0!==k[2]||0!==C[0]||0!==C[1]||0!==C[2]||1!==e[0]||1!==e[1]||1!==e[2]?(quat.fromEuler(l,C[0],C[1],C[2]),mat4.fromRotationTranslationScale(r,
l,k,e),e=r):e=h,e!==h&&GeometryHelpers.transformArray(q,e));u&&0!==u.length||GeometryHelpers.generateNormalsArray(u,q);f=f.createMaterialStream(b);f.name=d;f.positions=new Float32Array(q);u&&(f.normals=new Float32Array(u));w&&(f.texCoords[0]=new Float32Array(w));p&&(f.texCoords[1]=new Float32Array(p))}}})(ModelIO);
(function(k){function d(){this.data3D=null}function f(){}d.prototype.getDependencyUrl=function(b,d,f){d(b,b.src)};f.prototype.load=function(b,d){Viewer.initializeLoadingQueue({configuration:"geometry\ntexture level0 light |\ntexture level0 diffuse |\ntexture level0 specular\ntexture level0 normal |\ntexture level1 diffuse |\ntexture level1",attributes:{accentedBins:[1,2,5],partialLoadBin:2},maxRunningRequestsPerBin:64});Viewer.getFileKeyFromFileId(b,function(b,a){Viewer.loadResource("//storage.3d.io/"+
a,{resourceTags:"geometry",resourceKey:a,onResourceLoad:function(){Viewer.resetCamera()}})},function(d){console.log("Error retrieving URL for API key "+b+".");Viewer.decResourceCount()})};k.LoadingFunctions[".data3dJson"]=function(b,d,f){k.loadResource(b,{type:k.rtText,reader:k.ArchilogicData3DJsonReader,importer:k.ArchilogicData3DImporter,onLoad:d,onError:f})};k.LoadingFunctions[".data3d"]=function(b,d,f){k.loadResource(b,{type:k.rtBinary,reader:k.ArchilogicData3DReader,importer:k.ArchilogicData3DImporter,
onLoad:d,onError:f})};k.LoadingFunctions[".data3d.buffer"]=function(b,d,f){k.loadResource(b,{type:k.rtBinary,reader:k.ArchilogicData3DBufferReader,importer:k.ArchilogicData3DImporter,onLoad:d,onError:f})};k.ArchilogicData3D=d;k.ArchilogicData3DSceneLoader=f})(ModelIO);
(function(k){function d(a,b){b(a);for(var c=0;c<a.children;c++)d(a.children[c],b)}function f(a,b){b=b||{};var c=b.s3Key,e=b.rootDirectory,f=new Int32Array(a,0,4),g=f[0],k=f[1];b=f[2];f=16+b+f[3];e&&0<e.length&&"/"!==e[e.length-1]&&(e+="/");1094988612!==g&&console.error("ArchilogicData3DReader.deserializeBuffer: Not a binary Data3D file.");1!==k&&console.error("ArchilogicData3DReader.deserializeBuffer: Unknown Data3D format version.");a.byteLength!==f&&console.error("ArchilogicData3DReader.deserializeBuffer: Data3D file size mismatch.");
g=new Uint16Array(a,16,b/2);g=(new window.TextDecoder("utf-16")).decode(g);try{var q=JSON.parse(g)}catch(A){throw A;}var p=16+b;d(q.data3d,function(b){for(var d=Object.keys(b.meshes),f=0;f<d.length;f++){var g=d[f],h=b.meshes[g];"undefined"!==typeof h.positionsOffset&&(h.positions=new Float32Array(a,p+4*h.positionsOffset,h.positionsLength),delete h.positionsOffset,delete h.positionsLength);"undefined"!==typeof h.normalsOffset&&(h.normals=new Float32Array(a,p+4*h.normalsOffset,h.normalsLength),delete h.normalsOffset,
delete h.normalsLength);"undefined"!==typeof h.uvsOffset&&(h.uvs=new Float32Array(a,p+4*h.uvsOffset,h.uvsLength),delete h.uvsOffset,delete h.uvsLength);"undefined"!==typeof h.uvsLightmapOffset&&(h.uvsLightmap=new Float32Array(a,p+4*h.uvsLightmapOffset,h.uvsLightmapLength),delete h.uvsLightmapOffset,delete h.uvsLightmapLength);c&&(h.cacheKey=c+":"+g)}if(b.materials&&e)for(d=e,f="mapDiffuseSource mapSpecularSource mapNormalSource mapAlphaSource mapLightSouce mapDiffuse mapSpecular mapNormal mapAlpha mapLight mapDiffusePreview mapSpecularPreview mapNormalPreview mapAlphaPreview mapLightPreview".split(" "),
g=Object.keys(b.materials),h=0;h<g.length;h++)for(var k=b.materials[g[h]],l=0;l<f.length;l++){var m=f[l],r=k[m];r&&0<r.length&&"/"!==r[0]&&(k[m]=d+r)}});return q}function b(){}function e(){}function g(){}b.prototype.parse=function(a,b,d){a=new k.ArchilogicData3D;b=JSON.parse(b);a.data3D=b.data3d;return a};e.prototype.parse=function(a,b,d){a=new k.ArchilogicData3D;b=f(b);a.data3D=b.data3d;return a};g.prototype.parse=function(a,b,d){a=new k.ArchilogicData3D;b instanceof ArrayBuffer||console.error("ArchilogicData3DBufferReader.parse: ArrayBuffer expected.");
2<=b.byteLength&&(d=new Uint8Array(b,0,2),b=31===d[0]&&139===d[1]?pako.inflate(b).buffer:b);b=f(b);a.data3D=b.data3d;return a};k.ArchilogicData3DJsonReader=b;k.ArchilogicData3DReader=e;k.ArchilogicData3DBufferReader=g})(ModelIO);
(function(k){function d(){k.ModelImporter.prototype.constructor.call(this)}d.prototype=new k.ModelImporter;d.prototype.constructor=d;d.prototype.convertNodeMaterials=function(d){var b,e=Object.keys(d.materials);for(b=0;b<e.length;b++){var f=e[b];k.ArchilogicCommon.convertMaterial(this,f,d.materials[f])}if(d.children)for(b=0;b<d.children.length;b++)this.convertNodeMaterials(d.children[b])};d.prototype.convertMaterials=function(){this.convertNodeMaterials(this.srcModel.data3D)};d.prototype.createNode=
function(d){var b,e=new Renderer.Node;e.name=d===this.srcModel.data3D?this.filename:"Dummy";d.position&&(e.position=vec3.fromValues(d.position[0],d.position[1],d.position[2]));d.scale&&(e.scale=vec3.fromValues(d.scale[0],d.scale[1],d.scale[2]));d.rotRad&&quat.fromEuler(e.rotation,d.rotRad[0],d.rotRad[1],d.rotRad[2]);e.transformAttrsChanged();var f=Object.keys(d.meshes);if(0<f.length){var a=new Renderer.Mesh;a.name="Mesh ("+e.name+")";for(b=0;b<f.length;b++){var c=f[b];k.ArchilogicCommon.convertMeshOrMaterialStream(this,
c,d.meshes[c],a,"Data3D")}e.mesh=a}if(d.children)for(b=0;b<d.children.length;b++)f=this.createNode(d.children[b]),e.addChild(f);return e};d.prototype.convertGeometry=function(){this.rootNodes=[this.createNode(this.srcModel.data3D)]};k.ArchilogicData3DImporter=d})(ModelIO);
(function(k){function d(a,b){a.parent=b;for(b=0;b<a.children.length;b++)d(a.children[b],a)}function f(a,b){if(b instanceof Object)if(b="undefined"!==typeof b.attributes?b.attributes:b,b instanceof Object)b.name=a;else if("string"===typeof b||b instanceof String)b=Viewer.standardMaterials[b];else throw"Material can be either an Object or a string.";else if("string"===typeof b||b instanceof String)0<b.length&&"#"===b[0]?(b=parseInt(b.substring(1),16),b={colorDiffuse:[(b>>16&255)/255,(b>>8&255)/255,
(b&255)/255]},b.name="("+a+") Material Color Literal "+m++):b=Viewer.standardMaterials[b];else throw"Material can be either an Object or a string.";return b}function b(a,b,c){if(b.importer.lightmapOverrides)for(var d=b.importer.lightmapOverrides,e=Object.keys(a.materials),f=0;f<e.length;f++){var g=a.materials[e[f]];g.maps.light&&(g.maps.light.intensity=d.intensity,g.maps.light.origin=d.center)}if(b.importer.materialOverrides&&(b=b.importer.materialOverrides,0<Object.keys(b).length))for(d=b.useMeshName,
delete b.useMeshName,e=c.getTreeAsList(),f=0;f<e.length;f++)if(g=e[f],g.mesh)for(var h=!1,k=0;k<g.mesh.materialStreams.length;k++){var l=g.mesh.materialStreams[k],m=b[d?l.name:l.material.name];if(m){var r=m.material;if(r instanceof Object){h||(g.mesh=g.mesh.clone(),l=g.mesh.materialStreams[k],h=!0);l.material=r;if(m.meshSettings.normals)switch(m.meshSettings.normals){case "flat":l.normals=Viewer.getNormalsFlat(l.positions);break;case "smooth":l.normals=Viewer.getNormalsSmooth(l.positions)}m.meshSettings.uvs&&
(l.texCoords[0]=Viewer.getUvsArchitectural(l.positions))}else if("string"===typeof r||r instanceof String)m=r,l.material.name!==m&&(h||(g.mesh=g.mesh.clone(),l=g.mesh.materialStreams[k],h=!0),(r=a.materials[m])?l.material=r:console.warn("Substitution material "+m+" not found in object "+c.name+", material stream "+l.name+"."));else throw"Material can be either an Object or a string.";}}}function e(){this.sceneStructure=null}function g(){}function a(){k.ModelImporter.prototype.constructor.call(this)}
function c(){}var m=0;e.prototype.getDependencyUrl=function(a,b,c){Viewer.getFileKeyFromFileId(a.src,function(c,d){b(a,"//storage.3d.io/"+d)},function(b){c(a)})};g.prototype.parse=function(a,b,c){a=new k.ArchilogicSceneStructure;a.sceneStructure=JSON.parse(b);return a};a.prototype=new k.ModelImporter;a.prototype.constructor=a;a.prototype.getNodeMaterials=function(a,b){var c,d;if("[object Array]"!==Object.prototype.toString.call(a.materials)){var e=Object.keys(a.materials);for(c=0;c<e.length;c++){var g=
e[c];var l=a.materials[g];if(d=f(g,l)){d=k.ArchilogicCommon.convertMaterial(this,g,d);for(var m="diffuse specular light normal environment opacity".split(" "),r=0;r<m.length;r++)for(var w=d.maps[m[r]],B=0;B<w.textures.length;B++)w.textures[B].importer.deferredUse=!0;b.importer.materialOverrides.useMeshName=!1}else d=l,b.importer.materialOverrides.useMeshName=!0;b.importer.materialOverrides[g]={mesh:g,material:d,meshSettings:l.meshSettings}}}};a.prototype.convertParametricObject=function(a){var b;
var c=Viewer.ParametricObjects[a.type];var d={attributes:{}};Utils.mergeAttributes(d.attributes,c.params);Utils.mergeAttributes(d.attributes,a);d.a=d.attributes;d.initialize=c.initialize;d.getMaterials=c.getMaterials;d.getMeshes=c.getMeshes;a.a=d.a;d.initialize();var e=d.getMaterials(),g=d.getMeshes(),l={};var m=Object.keys(e);for(c=0;c<m.length;c++){var u=m[c];var w=e[u];w=f(u,w);l[w.name]=w;e[u]=w.name}m=Object.keys(g);for(c=0;c<m.length;c++)w=g[m[c]],w.material=e[w.material];c={materials:l,meshes:g};
e=new k.ArchilogicData3D;e.data3D=c;g=(new k.ArchilogicData3DImporter).process(a.type,e);if(1<g.rootNodes.length){c=new Renderer.Node;c.name="Dummy";for(e=0;e<g.rootNodes.length;e++)c.addChild(g.rootNodes[e]);g.rootNodes=[c]}if(0===g.rootNodes.length)throw"ArchilogicSceneStructureImporter.convertNode: Parametric object does not specify geometry.";e=g.rootNodes[0];e.importer={type:a.type};m=Object.keys(g.textures);for(c=0;c<m.length;c++)w=m[c],l=g.textures[w],this.textures[l.name]||(this.textures[l.name]=
l);m=Object.keys(g.materials);for(c=0;c<m.length;c++){u=m[c];w=g.materials[u];var B=Object.keys(w.maps);for(u=0;u<B.length;u++){var E=w.maps[B[u]];for(b=0;b<E.textures.length;b++)(l=E.textures[b])&&this.textures[l.name]&&(E.textures[b]=this.textures[l.name])}this.materials[w.name]&&(w.name=Viewer.getUniqueEntityName(this.materials,w.name));this.materials[w.name]=w}if(d.externalData3DResources){for(c=0;c<d.externalData3DResources.length;c++)m=d.externalData3DResources[c],g=m.position,w=new Renderer.Node,
w.name=m.name,w.importer={type:"interior",src:m.src},w.position=vec3.fromValues(g.x,g.y,g.z),w.transformAttrsChanged(),e.addChild(w);a.externalData3DResources=d.externalData3DResources}return e};a.prototype.convertLevel=function(a){var b=new Renderer.Node;b.name=a.type;b.importer={type:a.type};if(this.loadBaked=!!a.bakedModelUrl&&this.options.sceneLoadBaked){var c=new Renderer.Node;c.name="Placeholder (baked geometry)";c.importer={type:"bakedGeometry",src:a.bakedModelUrl};c.importer.lightmapOverrides=
{intensity:.5*a.lightMapIntensity,center:a.lightMapCenter};b.addChild(c)}return b};a.prototype.convertInterior=function(a){var b=new Renderer.Node;b.name="Placeholder";b.importer={type:a.type,src:a.src,castShadow:!0};b.importer.materialOverrides={};a.materials&&this.getNodeMaterials(a,b);return b};a.prototype.convertObject=function(a){var b=new Renderer.Node;b.name="Placeholder";b.importer={type:a.type,src:a.object};b.importer.materialOverrides={};a.materials&&this.getNodeMaterials(a,b);return b};
a.prototype.convertOther=function(a){var b=new Renderer.Node;b.name=a.type;b.importer={type:a.type};return b};a.prototype.convertNode=function(a){if(Viewer.ParametricObjects[a.type])var b=this.convertParametricObject(a);else switch(a.type){case "level":b=this.convertLevel(a);break;case "interior":b=this.convertInterior(a);break;case "object":b=this.convertObject(a);break;default:b=this.convertOther(a)}b.position=vec3.fromValues(a.x,a.y,a.z);b.rotation=quat.create();quat.rotateY(b.rotation,b.rotation,
a.ry/180*Math.PI);b.transformAttrsChanged();for(var c=0;c<a.children.length;c++){var d=a.children[c];this.loadBaked&&!0===d.bake&&"done"===d.bakeStatus||(d=this.convertNode(d),b.addChild(d))}return b};a.prototype.convertCameraBookmark=function(a){var b={};b.bird=Viewer.cmBirdView;b.person=Viewer.cmFloor;b.floorplan=Viewer.cmBirdView;if("undefined"!==typeof b[a.mode]&&"lastSavePosition"!==a.name){var c=-a.parent.ry*Math.PI/180,d=a.parent.x+(a.x*Math.cos(c)-a.z*Math.sin(c));var e=a.parent.y+a.y;var f=
a.parent.z+(a.z*Math.cos(c)+a.x*Math.sin(c));c=a.rx*Math.PI/180;var g=(a.parent.ry+a.ry)*Math.PI/180;c=vec3.fromValues(d-a.distance*Math.sin(g)*Math.cos(c),e-a.distance*Math.sin(c),f-a.distance*Math.cos(g)*Math.cos(c));e=vec3.fromValues(d,e,f);d=vec3.create();vec3.sub(d,e,c);vec3.normalize(d,d);e={};e.name=a.name;e.id=a.id;e.mode=b[a.mode];e.position=c;e.normal=d;e.active=!1}else e=null;return e};a.prototype.convertSceneStructure=function(a){var b=new Renderer.Node;b.name="Plan ("+this.filename+")";
b.position=vec3.fromValues(a.x,a.y,a.z);b.rotation=quat.create();quat.rotateY(b.rotation,b.rotation,a.ry/180*Math.PI);b.transformAttrsChanged();for(var c=0;c<a.children.length;c++){var d=a.children[c];switch(d.type){case "level":d=this.convertNode(d);b.addChild(d);break;case "camera-bookmark":(d=this.convertCameraBookmark(d))&&this.cameraBookmarks.push(d)}}return b};a.prototype.convertGeometry=function(){var a=this.srcModel.sceneStructure;d(a,null);this.rootNodes=[this.convertSceneStructure(a)]};
a.prototype.getNodeDependencies=function(a,c){var d;if(!this.loadBaked||!1===a.bake||!0===a.bake&&"done"!==a.bakeStatus)if("interior"===a.type)c.add({src:a.src,tags:"geometry *interior",onMerge:b});else if("object"===a.type)c.add({src:a.object,tags:"geometry *interior",onMerge:b});else if(a.externalData3DResources)for(d=0;d<a.externalData3DResources.length;d++)c.add({src:a.externalData3DResources[d].src,tags:"geometry *interior",onMerge:b});for(d=0;d<a.children.length;d++)this.getNodeDependencies(a.children[d],
c)};a.prototype.getDependencies=function(a){a=new k.DependencySet;for(var b=this.srcModel.sceneStructure,c=0;c<b.children.length;c++){var d=b.children[c];"level"===d.type&&(this.loadBaked&&(a.add({src:d.bakedModelUrl,tags:"geometry *architecture"}),d.bakedModelStage&&"preview"===d.bakedModelStage&&d.bakeRegularStatusFileKey&&console.log("ArchilogicSceneStructureImporter: Skipping baked node "+d.bakeRegularStatusFileKey+".")),this.getNodeDependencies(d,a))}k.getMapDependencies(a,this.materials,"architecture");
b.skyMap&&a.add({src:b.skyMap,tags:"texture sky",onLoad:function(a){var b=Object.keys(a.textures)[0];Viewer.skyBox.setTexture(a.textures[b])}});return a};c.prototype.load=function(a,b){b=b||{};Viewer.initializeLoadingQueue({configuration:"architecture geometry\narchitecture texture level0 light |\ninterior geometry\ninterior texture level0 light |\nmaterials\ntexture level0 diffuse |\ntexture level0 specular\ntexture level0 normal |\ntexture level1 diffuse |\ntexture (level1 sky)",attributes:{accentedBins:[1,
5,9],partialLoadBin:5},maxRunningRequestsPerBin:64});Viewer.incResourceCount();Viewer.rpcApi.call("Model.read",{arguments:{resourceId:a}},function(c){var d=new k.ArchilogicSceneStructure;d.sceneStructure=c.result.modelStructure;c=(new k.ArchilogicSceneStructureImporter).process(a,d,{sceneLoadBaked:b.sceneLoadBaked});c.annotation={src:a,mapTags:"architecture",tags:""};Viewer.resourceLoaded(a,d,c);Viewer.decResourceCount();Viewer.sceneDefined()},function(){console.error("Error loading SceneStructure file "+
a+".");Viewer.decResourceCount()})};k.ArchilogicSceneStructure=e;k.ArchilogicSceneStructureSceneLoader=c;k.ArchilogicSceneStructureReader=g;k.ArchilogicSceneStructureImporter=a})(ModelIO);
(function(k){function d(){this.al2=null}function f(){}function b(){k.ModelImporter.prototype.constructor.call(this)}function e(d,a,c){k.loadResource(d,{type:k.rtText,reader:f,importer:b,onLoad:a,onError:c})}d.prototype.getDependencyUrl=function(b,a,c){a(b,b.src)};f.prototype.parse=function(b,a,c){b=new k.ArchilogicAl2;a=JSON.parse(a);b.al2=a;return b};b.prototype=new k.ModelImporter;b.prototype.constructor=b;b.prototype.convertMaterials=function(){for(var b=this.srcModel.al2.materials,a=this.srcModel.al2.materialDefaults,
c=0;c<b.length;c++){var d=b[c];k.ArchilogicCommon.convertMaterial(this,d.name,d,a)}};b.prototype.createNodeFromMesh=function(b){var a=new Renderer.Node;a.name=b.name;if(b.children)for(var c=0;c<b.children.length;c++){var d=this.createNodeFromMesh(b.children[c]);a.addChild(d)}else c=new Renderer.Mesh,c.name=b.name,k.ArchilogicCommon.convertMeshOrMaterialStream(this,b.name,b,c,"AL2"),a.mesh=c;return a};b.prototype.convertGeometry=function(){for(var b=this.srcModel.al2.meshes,a=0;a<b.length;a++){var c=
this.createNodeFromMesh(b[a]);this.rootNodes.push(c)}};k.LoadingFunctions[".al2.json"]=e;k.LoadingFunctions[".al2.gz.json"]=e;k.ArchilogicAl2=d;k.ArchilogicAl2Reader=f;k.ArchilogicAl2Importer=b})(ModelIO);
var startUp=function(){function k(d){var b=document.createElement("div");b.textContent=d;b.style.textAlign="center";b.style.verticalAlign="middle";b.style.display="block";document.body.appendChild(b)}var d;return function(f,b){if(window.WebGLRenderingContext){var e=f instanceof Element;e||(f=document.createElement("div"),document.body.appendChild(f));Framework.isEmbedded=e;Framework.container=f;d=document.createElement("canvas");d.id="canvas";d.style.touchAction="none";d.style.userSelect="none";d.style.webkitUserDrag=
"none";d.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)";f.appendChild(d);try{Framework.deviceIsMobilePhone=Utils.deviceIsMobilePhone(),Framework.displayIsHighDpi=Utils.displayIsHighDpi(288),Framework.initialize(d,{alpha:!0,antialias:!0,depth:!0,stencil:!1,premultipliedAlpha:!0}),Framework.container.style.position="block",Framework.start(b)}catch(g){if(g instanceof Framework.WebGLError)k("Failed to initialize WebGL context.");else throw g;}}else k("Your browser does not seem to support WebGL.")}}();